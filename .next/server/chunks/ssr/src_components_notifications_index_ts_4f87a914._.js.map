{"version":3,"sources":["../../../../src/lib/api/notifications.ts","../../../../src/components/notifications/Notifications.tsx","../../../../src/components/notifications/NotificationPrompt.tsx","../../../../node_modules/lucide-react/src/icons/bell-ring.ts","../../../../node_modules/lucide-react/src/icons/check-check.ts","../../../../node_modules/lucide-react/src/icons/hand-heart.ts"],"sourcesContent":["import apiClient from './client';\n\nexport type NotificationType =\n  | 'like'\n  | 'comment'\n  | 'comment_reply'\n  | 'mention'\n  | 'follow'\n  | 'connection_request'\n  | 'connection_accepted'\n  | 'reel_like'\n  | 'reel_comment'\n  | 'reel_comment_reply'\n  | 'reel_share'\n  | 'reel_mention'\n  | 'reel_view_milestone'\n  | 'message'\n  | 'streak_milestone'\n  | 'streak_lost'\n  | 'xp_earned'\n  | 'post_share'\n  // Legacy/Post types for compatibility\n  | 'POST_REACTION'\n  | 'POST_LIKE'\n  | 'COMMENT'\n  | 'COMMENT_LIKE'\n  | 'MENTION'\n  | 'CONNECTION_REQUEST'\n  | 'CONNECTION_ACCEPTED'\n  | 'POLL_VOTE'\n  | 'POST_SHARE'\n  | 'GROUP_INVITE'\n  | 'GROUP_JOIN_REQUEST'\n  | 'GROUP_JOIN_APPROVED';\n\nexport interface NotificationActor {\n  id: string;\n  username: string;\n  name: string;\n  profileImage: string | null;\n}\n\nexport interface NotificationPost {\n  id: string;\n  content: string;\n  mediaUrls: string[];\n}\n\nexport interface NotificationReel {\n  id: string;\n  title: string | null;\n  thumbnailUrl: string | null;\n  caption: string | null;\n}\n\nexport interface Notification {\n  id: string;\n  type: NotificationType;\n  title: string;\n  body: string;\n  actor: NotificationActor | null;\n  post: NotificationPost | null;\n  reel: NotificationReel | null;\n  data: Record<string, unknown> | null;\n  isRead: boolean;\n  readAt: string | null;\n  createdAt: string;\n  // Compatibility fields for Notifications component\n  content?: string;\n  postPreview?: string;\n  reactionType?: string | null;\n  postId?: string | null;\n  commentId?: string | null;\n  reelId?: string | null;\n}\n\nexport interface NotificationsResponse {\n  notifications: Notification[];\n  nextCursor: string | null;\n  hasMore: boolean;\n}\n\nexport interface NotificationSettings {\n  likes: boolean;\n  comments: boolean;\n  mentions: boolean;\n  follows: boolean;\n  reelLikes: boolean;\n  reelComments: boolean;\n  reelShares: boolean;\n  messages: boolean;\n  streaks: boolean;\n  email: boolean;\n  push: boolean;\n}\n\nexport const notificationsApi = {\n  getAll: (params?: { cursor?: string; limit?: number; unreadOnly?: boolean }) =>\n    apiClient.get<NotificationsResponse>('/notifications', { params }),\n\n  getUnreadCount: () =>\n    apiClient.get<{ count: number }>('/notifications/unread-count'),\n\n  markAsRead: (notificationIds: string[]) =>\n    apiClient.post<{ success: boolean }>('/notifications/read', { notificationIds }),\n\n  markAllAsRead: () =>\n    apiClient.post<{ success: boolean }>('/notifications/read-all'),\n\n  deleteNotification: (notificationId: string) =>\n    apiClient.delete<{ success: boolean }>(`/notifications/${notificationId}`),\n\n  getSettings: () =>\n    apiClient.get<{ settings: NotificationSettings }>('/notifications/settings'),\n};\n\n// Transform backend notification to component format\nfunction transformNotification(n: Notification): Notification {\n  const typeMap: Record<string, NotificationType> = {\n    like: 'POST_LIKE',\n    comment: 'COMMENT',\n    comment_reply: 'COMMENT_LIKE',\n    mention: 'MENTION',\n    follow: 'CONNECTION_ACCEPTED',\n    connection_request: 'CONNECTION_REQUEST',\n    connection_accepted: 'CONNECTION_ACCEPTED',\n    reel_like: 'POST_LIKE',\n    reel_comment: 'COMMENT',\n    reel_comment_reply: 'COMMENT_LIKE',\n    reel_share: 'POST_SHARE',\n    reel_mention: 'MENTION',\n    post_share: 'POST_SHARE',\n  };\n  const mappedType = typeMap[n.type] || n.type;\n  const data = n.data as Record<string, unknown> | null;\n  return {\n    ...n,\n    type: mappedType,\n    content: n.body,\n    postPreview: (data?.commentPreview as string) || (typeof n.body === 'string' ? n.body.slice(0, 50) : ''),\n    postId: n.post?.id ?? (data?.postId as string),\n    commentId: data?.commentId as string,\n    reelId: n.reel?.id ?? (data?.reelId as string),\n    reactionType: data?.reactionType as string,\n  };\n}\n\n/** Get notifications - for Notifications component */\nexport async function getNotifications(params?: { cursor?: string; limit?: number; unreadOnly?: boolean }) {\n  const data = (await apiClient.get('/notifications', { params })) as unknown as NotificationsResponse;\n  return {\n    notifications: data.notifications.map(transformNotification),\n    nextCursor: data.nextCursor,\n    hasMore: data.hasMore,\n  };\n}\n\n/** Get unread count - for Notifications component */\nexport async function getUnreadNotificationCount() {\n  return apiClient.get<{ count: number }>('/notifications/unread-count');\n}\n\n/** Mark notifications as read - for Notifications component */\nexport async function markNotificationsAsRead(notificationIds: string[]) {\n  await apiClient.post('/notifications/read', { notificationIds });\n}\n\n/** Mark all notifications as read - for Notifications component */\nexport async function markAllNotificationsAsRead() {\n  await apiClient.post('/notifications/read-all');\n}\n","'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Image from 'next/image';\nimport { useRouter } from 'next/navigation';\nimport {\n  Bell,\n  Heart,\n  MessageCircle,\n  AtSign,\n  UserPlus,\n  Loader2,\n  CheckCheck,\n  PartyPopper,\n  HandHeart,\n  Lightbulb,\n  HelpCircle,\n  ThumbsUp,\n  Users,\n  Settings,\n} from 'lucide-react';\nimport Link from 'next/link';\nimport { formatDistanceToNow } from 'date-fns';\nimport {\n  getNotifications,\n  getUnreadNotificationCount,\n  markNotificationsAsRead,\n  markAllNotificationsAsRead,\n  type Notification,\n  type NotificationType,\n} from '@/lib/api/notifications';\nimport { initializeSocket } from '@/lib/socket';\n\n// Get icon for notification type\nfunction getNotificationIcon(type: NotificationType, reactionType?: string | null) {\n  switch (type) {\n    case 'POST_REACTION':\n      // Show specific reaction icon\n      switch (reactionType) {\n        case 'CELEBRATE':\n          return <PartyPopper className=\"w-5 h-5 text-yellow-500\" />;\n        case 'SUPPORT':\n          return <HandHeart className=\"w-5 h-5 text-green-500\" />;\n        case 'INSIGHTFUL':\n          return <Lightbulb className=\"w-5 h-5 text-amber-500\" />;\n        case 'CURIOUS':\n          return <HelpCircle className=\"w-5 h-5 text-purple-500\" />;\n        default:\n          return <ThumbsUp className=\"w-5 h-5 text-blue-500\" />;\n      }\n    case 'POST_LIKE':\n      return <ThumbsUp className=\"w-5 h-5 text-blue-500\" />;\n    case 'COMMENT':\n      return <MessageCircle className=\"w-5 h-5 text-green-500\" />;\n    case 'COMMENT_LIKE':\n      return <Heart className=\"w-5 h-5 text-red-500\" />;\n    case 'MENTION':\n      return <AtSign className=\"w-5 h-5 text-purple-500\" />;\n    case 'CONNECTION_REQUEST':\n    case 'CONNECTION_ACCEPTED':\n      return <UserPlus className=\"w-5 h-5 text-blue-500\" />;\n    case 'GROUP_INVITE':\n    case 'GROUP_JOIN_REQUEST':\n    case 'GROUP_JOIN_APPROVED':\n      return <Users className=\"w-5 h-5 text-indigo-500\" />;\n    default:\n      return <Bell className=\"w-5 h-5 text-gray-500\" />;\n  }\n}\n\n// Get notification message\nfunction getNotificationMessage(notification: Notification): string {\n  const actorName = notification.actor?.name || 'Someone';\n  \n  switch (notification.type) {\n    case 'POST_REACTION':\n      const reactionLabels: Record<string, string> = {\n        LIKE: 'liked',\n        CELEBRATE: 'celebrated',\n        SUPPORT: 'supported',\n        INSIGHTFUL: 'found insightful',\n        CURIOUS: 'is curious about',\n      };\n      const action = reactionLabels[notification.reactionType || 'LIKE'] || 'reacted to';\n      return `${actorName} ${action} your post`;\n    case 'POST_LIKE':\n      return `${actorName} liked your post`;\n    case 'COMMENT':\n      return `${actorName} commented on your post`;\n    case 'COMMENT_LIKE':\n      return `${actorName} liked your comment`;\n    case 'MENTION':\n      return `${actorName} mentioned you`;\n    case 'CONNECTION_REQUEST':\n      return `${actorName} sent you a connection request`;\n    case 'CONNECTION_ACCEPTED':\n      return `${actorName} accepted your connection request`;\n    case 'POLL_VOTE':\n      return `${actorName} voted on your poll`;\n    case 'POST_SHARE':\n      return `${actorName} shared your post`;\n    case 'GROUP_INVITE':\n      return `${actorName} invited you to join ${notification.content || 'a group'}`;\n    case 'GROUP_JOIN_REQUEST':\n      return `${actorName} requested to join your group`;\n    case 'GROUP_JOIN_APPROVED':\n      return `Your request to join ${notification.content || 'the group'} was approved`;\n    default:\n      return `${actorName} interacted with your content`;\n  }\n}\n\ninterface NotificationItemProps {\n  notification: Notification;\n  onMarkRead: (id: string) => void;\n}\n\nfunction NotificationItem({ notification, onMarkRead }: NotificationItemProps) {\n  const router = useRouter();\n  \n  const handleClick = () => {\n    // Mark as read\n    if (!notification.isRead) {\n      onMarkRead(notification.id);\n    }\n    \n    // Navigate based on notification type\n    if (notification.type === 'GROUP_INVITE' || notification.type === 'GROUP_JOIN_APPROVED') {\n      router.push('/groups?tab=invites');\n    } else if (notification.reelId) {\n      router.push(`/reels/${notification.reelId}`);\n    } else if (notification.postId) {\n      if (notification.commentId) {\n        router.push(`/post/${notification.postId}?comment=${notification.commentId}`);\n      } else {\n        router.push(`/post/${notification.postId}`);\n      }\n    } else if (notification.type === 'CONNECTION_REQUEST' || notification.type === 'CONNECTION_ACCEPTED') {\n      if (notification.actor) {\n        router.push(`/profile/${notification.actor.username}`);\n      }\n    }\n  };\n  \n  return (\n    <motion.button\n      initial={{ opacity: 0, x: -20 }}\n      animate={{ opacity: 1, x: 0 }}\n      onClick={handleClick}\n      className={`w-full flex items-start gap-3 p-4 text-left transition-colors ${\n        notification.isRead \n          ? 'bg-transparent hover:bg-gray-50 dark:hover:bg-neutral-800/50' \n          : 'bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30'\n      }`}\n    >\n      {/* Avatar */}\n      <div className=\"relative flex-shrink-0\">\n        <div className=\"w-12 h-12 rounded-full overflow-hidden bg-gray-200 dark:bg-neutral-700\">\n          {notification.actor?.profileImage ? (\n            <Image\n              src={notification.actor.profileImage}\n              alt={notification.actor.name}\n              width={48}\n              height={48}\n              className=\"w-full h-full object-cover\"\n            />\n          ) : (\n            <div className=\"w-full h-full flex items-center justify-center font-bold text-gray-500\">\n              {notification.actor?.name?.charAt(0).toUpperCase() || '?'}\n            </div>\n          )}\n        </div>\n        <div className=\"absolute -bottom-1 -right-1 p-1 rounded-full bg-white dark:bg-neutral-900\">\n          {getNotificationIcon(notification.type, notification.reactionType)}\n        </div>\n      </div>\n      \n      {/* Content */}\n      <div className=\"flex-1 min-w-0\">\n        <p className=\"text-sm text-gray-900 dark:text-white\">\n          {getNotificationMessage(notification)}\n        </p>\n        {notification.content && (\n          <p className=\"text-sm text-gray-500 dark:text-neutral-400 line-clamp-2 mt-1\">\n            &quot;{notification.content}&quot;\n          </p>\n        )}\n        {notification.postPreview && !notification.content && (\n          <p className=\"text-sm text-gray-500 dark:text-neutral-400 line-clamp-1 mt-1\">\n            {notification.postPreview}\n          </p>\n        )}\n        <p className=\"text-xs text-gray-400 dark:text-neutral-500 mt-1\">\n          {formatDistanceToNow(new Date(notification.createdAt), { addSuffix: true })}\n        </p>\n      </div>\n      \n      {/* Unread indicator */}\n      {!notification.isRead && (\n        <div className=\"w-2 h-2 rounded-full bg-blue-500 flex-shrink-0 mt-2\" />\n      )}\n    </motion.button>\n  );\n}\n\ninterface NotificationsProps {\n  isOpen?: boolean;\n  onClose?: () => void;\n  isDropdown?: boolean;\n}\n\nexport function Notifications({ isOpen = true, onClose, isDropdown = false }: NotificationsProps) {\n  const [notifications, setNotifications] = useState<Notification[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [unreadCount, setUnreadCount] = useState(0);\n  \n  // Fetch notifications\n  useEffect(() => {\n    if (!isOpen) return;\n    \n    const fetchNotifications = async () => {\n      setLoading(true);\n      try {\n        const [notifResponse, countRes] = await Promise.all([\n          getNotifications(),\n          getUnreadNotificationCount(),\n        ]);\n        setNotifications((notifResponse as { notifications: Notification[] }).notifications);\n        setUnreadCount((countRes as unknown as { count: number }).count);\n      } catch (error) {\n        console.error('Error fetching notifications:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchNotifications();\n  }, [isOpen]);\n\n  // Setup real-time notifications\n  useEffect(() => {\n    const refetch = () => {\n      setUnreadCount(prev => prev + 1);\n      getNotifications().then(res => setNotifications(res.notifications)).catch(console.error);\n    };\n    const socket = initializeSocket({\n      onNotificationNew: refetch,\n      onNotificationMention: refetch,\n      onNotificationComment: refetch,\n      onNotificationLike: refetch,\n      onNotificationReaction: refetch,\n      onNotificationCommentLike: refetch,\n    });\n    \n    return () => {\n      // Cleanup listeners if needed\n    };\n  }, []);\n\n  // Mark notification as read\n  const handleMarkRead = async (id: string) => {\n    try {\n      await markNotificationsAsRead([id]);\n      setNotifications(prev => \n        prev.map(n => n.id === id ? { ...n, isRead: true } : n)\n      );\n      setUnreadCount(prev => Math.max(0, prev - 1));\n    } catch (error) {\n      console.error('Error marking notification as read:', error);\n    }\n  };\n\n  // Mark all as read\n  const handleMarkAllRead = async () => {\n    try {\n      await markAllNotificationsAsRead();\n      setNotifications(prev => prev.map(n => ({ ...n, isRead: true })));\n      setUnreadCount(0);\n    } catch (error) {\n      console.error('Error marking all as read:', error);\n    }\n  };\n\n  const content = (\n    <>\n      {/* Header */}\n      <div className=\"flex items-center justify-between p-4 border-b border-gray-200 dark:border-neutral-800\">\n        <div className=\"flex items-center gap-2\">\n          <Bell className=\"w-5 h-5 text-gray-600 dark:text-neutral-400\" />\n          <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Notifications</h2>\n          {unreadCount > 0 && (\n            <span className=\"px-2 py-0.5 text-xs font-medium rounded-full bg-blue-500 text-white\">\n              {unreadCount}\n            </span>\n          )}\n        </div>\n        \n        <div className=\"flex items-center gap-2\">\n          {unreadCount > 0 && (\n            <button\n              onClick={handleMarkAllRead}\n              className=\"flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors\"\n            >\n              <CheckCheck className=\"w-4 h-4\" />\n              Mark all read\n            </button>\n          )}\n          {!isDropdown && (\n            <Link\n              href=\"/notifications/settings\"\n              className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors\"\n            >\n              <Settings className=\"w-5 h-5 text-gray-500 dark:text-neutral-400\" />\n            </Link>\n          )}\n        </div>\n      </div>\n      \n      {/* Notifications List */}\n      <div className={`overflow-y-auto ${isDropdown ? 'max-h-96' : 'flex-1'}`}>\n        {loading ? (\n          <div className=\"flex items-center justify-center py-12\">\n            <Loader2 className=\"w-8 h-8 animate-spin text-gray-400\" />\n          </div>\n        ) : notifications.length === 0 ? (\n          <div className=\"text-center py-12 px-4\">\n            <Bell className=\"w-12 h-12 mx-auto text-gray-300 dark:text-neutral-600 mb-2\" />\n            <p className=\"text-gray-500 dark:text-neutral-400\">No notifications yet</p>\n            <p className=\"text-sm text-gray-400 dark:text-neutral-500\">\n              When someone interacts with your content, it will appear here\n            </p>\n          </div>\n        ) : (\n          <div className=\"divide-y divide-gray-100 dark:divide-neutral-800\">\n            <AnimatePresence>\n              {notifications.map((notification) => (\n                <NotificationItem\n                  key={notification.id}\n                  notification={notification}\n                  onMarkRead={handleMarkRead}\n                />\n              ))}\n            </AnimatePresence>\n          </div>\n        )}\n      </div>\n    </>\n  );\n\n  if (isDropdown) {\n    return (\n      <div className=\"w-80 bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 shadow-xl overflow-hidden\">\n        {content}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-neutral-950\">\n      <div className=\"max-w-2xl mx-auto bg-white dark:bg-neutral-900 min-h-screen border-x border-gray-200 dark:border-neutral-800\">\n        {content}\n      </div>\n    </div>\n  );\n}\n\n// Notification Bell with Badge for Dock/Header\nexport function NotificationBell() {\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [showDropdown, setShowDropdown] = useState(false);\n  \n  // Fetch unread count\n  useEffect(() => {\n    const fetchCount = async () => {\n      try {\n        const res = await getUnreadNotificationCount();\n        setUnreadCount((res as unknown as { count: number }).count);\n      } catch (error) {\n        console.error('Error fetching notification count:', error);\n      }\n    };\n    \n    fetchCount();\n    \n    // Poll for updates every 30 seconds\n    const interval = setInterval(fetchCount, 30000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Real-time updates\n  useEffect(() => {\n    initializeSocket({\n      onNotificationMention: () => setUnreadCount(prev => prev + 1),\n      onNotificationComment: () => setUnreadCount(prev => prev + 1),\n      onNotificationLike: () => setUnreadCount(prev => prev + 1),\n      onNotificationReaction: () => setUnreadCount(prev => prev + 1),\n      onNotificationCommentLike: () => setUnreadCount(prev => prev + 1),\n    });\n  }, []);\n\n  return (\n    <div className=\"relative\">\n      <button\n        onClick={() => setShowDropdown(!showDropdown)}\n        className=\"relative p-2 rounded-full hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors\"\n      >\n        <Bell className=\"w-6 h-6 text-gray-600 dark:text-neutral-400\" />\n        {unreadCount > 0 && (\n          <span className=\"absolute -top-1 -right-1 w-5 h-5 flex items-center justify-center text-xs font-bold text-white bg-red-500 rounded-full\">\n            {unreadCount > 9 ? '9+' : unreadCount}\n          </span>\n        )}\n      </button>\n      \n      {showDropdown && (\n        <>\n          <div\n            className=\"fixed inset-0 z-40\"\n            onClick={() => setShowDropdown(false)}\n          />\n          <div className=\"absolute right-0 top-full mt-2 z-50\">\n            <Notifications isDropdown onClose={() => setShowDropdown(false)} />\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default Notifications;\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Bell, X, BellRing } from 'lucide-react';\nimport { usePushNotifications } from '@/hooks/usePushNotifications';\n\ninterface NotificationPromptProps {\n  userId: string | undefined;\n}\n\n/**\n * NotificationPrompt â€” asks user to enable push notifications\n * Shows after 3rd visit if not already granted/dismissed.\n * Also renders foreground notification toasts.\n */\nexport function NotificationPrompt({ userId }: NotificationPromptProps) {\n  const {\n    isSupported,\n    isPermissionGranted,\n    isTokenRegistered,\n    isLoading,\n    foregroundNotification,\n    requestPermission,\n    dismissNotification,\n  } = usePushNotifications(userId);\n\n  const [showPrompt, setShowPrompt] = useState(false);\n\n  useEffect(() => {\n    if (!isSupported || isPermissionGranted || !userId) return;\n\n    // Show prompt after 3rd visit or 10s delay\n    const dismissed = localStorage.getItem('push_prompt_dismissed');\n    if (dismissed) return;\n\n    const visits = parseInt(localStorage.getItem('visit_count') || '0', 10) + 1;\n    localStorage.setItem('visit_count', visits.toString());\n\n    if (visits >= 3) {\n      const timer = setTimeout(() => setShowPrompt(true), 10000);\n      return () => clearTimeout(timer);\n    }\n  }, [isSupported, isPermissionGranted, userId]);\n\n  const handleEnable = async () => {\n    await requestPermission();\n    setShowPrompt(false);\n  };\n\n  const handleDismiss = () => {\n    setShowPrompt(false);\n    localStorage.setItem('push_prompt_dismissed', new Date().toISOString());\n  };\n\n  return (\n    <>\n      {/* Permission Prompt */}\n      <AnimatePresence>\n        {showPrompt && (\n          <motion.div\n            initial={{ opacity: 0, y: 50, scale: 0.9 }}\n            animate={{ opacity: 1, y: 0, scale: 1 }}\n            exit={{ opacity: 0, y: 50, scale: 0.9 }}\n            className=\"fixed bottom-24 left-4 right-4 md:left-auto md:right-6 md:w-96 z-50 bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl border border-gray-200 dark:border-neutral-700 overflow-hidden\"\n          >\n            <div className=\"p-5\">\n              <div className=\"flex items-start gap-3\">\n                <div className=\"w-10 h-10 rounded-xl bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center flex-shrink-0\">\n                  <BellRing className=\"w-5 h-5 text-blue-600 dark:text-blue-400\" />\n                </div>\n                <div className=\"flex-1\">\n                  <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white mb-1\">\n                    Stay in the loop ðŸ””\n                  </h3>\n                  <p className=\"text-xs text-gray-500 dark:text-neutral-400 leading-relaxed\">\n                    Get notified when someone views your profile, accepts your connection, or when your streak is at risk.\n                  </p>\n                </div>\n                <button\n                  onClick={handleDismiss}\n                  className=\"p-1 rounded-full hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors\"\n                >\n                  <X className=\"w-4 h-4 text-gray-400\" />\n                </button>\n              </div>\n\n              <div className=\"flex gap-2 mt-4\">\n                <button\n                  onClick={handleDismiss}\n                  className=\"flex-1 py-2 px-4 rounded-lg text-sm font-medium text-gray-600 dark:text-neutral-400 hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors\"\n                >\n                  Not now\n                </button>\n                <button\n                  onClick={handleEnable}\n                  disabled={isLoading}\n                  className=\"flex-1 py-2 px-4 rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-1.5\"\n                >\n                  <Bell className=\"w-3.5 h-3.5\" />\n                  {isLoading ? 'Enabling...' : 'Enable'}\n                </button>\n              </div>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Foreground Notification Toast */}\n      <AnimatePresence>\n        {foregroundNotification && (\n          <motion.div\n            initial={{ opacity: 0, y: -50, x: 50 }}\n            animate={{ opacity: 1, y: 0, x: 0 }}\n            exit={{ opacity: 0, y: -50 }}\n            className=\"fixed top-4 right-4 z-[100] w-80 bg-white dark:bg-neutral-900 rounded-xl shadow-2xl border border-gray-200 dark:border-neutral-700 overflow-hidden cursor-pointer\"\n            onClick={dismissNotification}\n          >\n            <div className=\"p-4\">\n              <div className=\"flex items-start gap-3\">\n                <div className=\"w-8 h-8 rounded-lg bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center flex-shrink-0\">\n                  <Bell className=\"w-4 h-4 text-blue-500\" />\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm font-semibold text-gray-900 dark:text-white truncate\">\n                    {foregroundNotification.notification?.title || 'Vormex'}\n                  </p>\n                  <p className=\"text-xs text-gray-500 dark:text-neutral-400 line-clamp-2 mt-0.5\">\n                    {foregroundNotification.notification?.body || ''}\n                  </p>\n                </div>\n                <button\n                  onClick={(e) => {\n                    e.stopPropagation();\n                    dismissNotification();\n                  }}\n                  className=\"p-0.5 rounded hover:bg-gray-100 dark:hover:bg-neutral-800\"\n                >\n                  <X className=\"w-3.5 h-3.5 text-gray-400\" />\n                </button>\n              </div>\n            </div>\n            {/* Auto-dismiss progress bar */}\n            <motion.div\n              initial={{ width: '100%' }}\n              animate={{ width: '0%' }}\n              transition={{ duration: 5, ease: 'linear' }}\n              className=\"h-0.5 bg-blue-500\"\n            />\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name BellRing\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAuMjY4IDIxYTIgMiAwIDAgMCAzLjQ2NCAwIiAvPgogIDxwYXRoIGQ9Ik0yMiA4YzAtMi4zLS44LTQuMy0yLTYiIC8+CiAgPHBhdGggZD0iTTMuMjYyIDE1LjMyNkExIDEgMCAwIDAgNCAxN2gxNmExIDEgMCAwIDAgLjc0LTEuNjczQzE5LjQxIDEzLjk1NiAxOCAxMi40OTkgMTggOEE2IDYgMCAwIDAgNiA4YzAgNC40OTktMS40MTEgNS45NTYtMi43MzggNy4zMjYiIC8+CiAgPHBhdGggZD0iTTQgMkMyLjggMy43IDIgNS43IDIgOCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/bell-ring\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BellRing = createLucideIcon('BellRing', [\n  ['path', { d: 'M10.268 21a2 2 0 0 0 3.464 0', key: 'vwvbt9' }],\n  ['path', { d: 'M22 8c0-2.3-.8-4.3-2-6', key: '5bb3ad' }],\n  [\n    'path',\n    {\n      d: 'M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326',\n      key: '11g9vi',\n    },\n  ],\n  ['path', { d: 'M4 2C2.8 3.7 2 5.7 2 8', key: 'tap9e0' }],\n]);\n\nexport default BellRing;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CheckCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA3IDE3bC01LTUiIC8+CiAgPHBhdGggZD0ibTIyIDEwLTcuNSA3LjVMMTMgMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/check-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CheckCheck = createLucideIcon('CheckCheck', [\n  ['path', { d: 'M18 6 7 17l-5-5', key: '116fxf' }],\n  ['path', { d: 'm22 10-7.5 7.5L13 16', key: 'ke71qq' }],\n]);\n\nexport default CheckCheck;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name HandHeart\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgMTRoMmEyIDIgMCAxIDAgMC00aC0zYy0uNiAwLTEuMS4yLTEuNC42TDMgMTYiIC8+CiAgPHBhdGggZD0ibTcgMjAgMS42LTEuNGMuMy0uNC44LS42IDEuNC0uNmg0YzEuMSAwIDIuMS0uNCAyLjgtMS4ybDQuNi00LjRhMiAyIDAgMCAwLTIuNzUtMi45MWwtNC4yIDMuOSIgLz4KICA8cGF0aCBkPSJtMiAxNSA2IDYiIC8+CiAgPHBhdGggZD0iTTE5LjUgOC41Yy43LS43IDEuNS0xLjYgMS41LTIuN0EyLjczIDIuNzMgMCAwIDAgMTYgNGEyLjc4IDIuNzggMCAwIDAtNSAxLjhjMCAxLjIuOCAyIDEuNSAyLjhMMTYgMTJaIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/hand-heart\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst HandHeart = createLucideIcon('HandHeart', [\n  ['path', { d: 'M11 14h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16', key: '1ifwr1' }],\n  [\n    'path',\n    {\n      d: 'm7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9',\n      key: '17abbs',\n    },\n  ],\n  ['path', { d: 'm2 15 6 6', key: '10dquu' }],\n  [\n    'path',\n    {\n      d: 'M19.5 8.5c.7-.7 1.5-1.6 1.5-2.7A2.73 2.73 0 0 0 16 4a2.78 2.78 0 0 0-5 1.8c0 1.2.8 2 1.5 2.8L16 12Z',\n      key: '1h3036',\n    },\n  ],\n]);\n\nexport default HandHeart;\n"],"names":[],"mappings":"oECEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,0BGOmB,CAAA,EAAA,EAAA,OAAA,EAAiB,QDAU,CAAA,ICAI,CAAA,+FHPlD,IAAA,EAAA,EAAA,CAAA,CAAA,2BIOmC,YAAa,CDAE,ACAF,CAC7C,CDAA,ACAA,AFAA,CCAA,ADAA,AEAA,CDAA,ACAA,AFAA,CAAA,AEAA,ADAA,CAAA,ACAA,AFAA,CCAQ,ACAA,AFAA,CAAA,AEAA,ADAA,GCAK,CDAmB,ACAiC,AFApB,CCAb,ADAa,AEAoB,CDAjC,ACAiC,AFApB,CEAoB,ADAjC,ADAa,CCAb,ACAiC,AFApB,CEAoB,ADAjC,ADAa,CCAb,ADAa,AEAoB,CAAA,ADAjC,ADAa,CEAoB,ADAjC,ADAa,CEAoB,ADAjC,ADAa,CEAoB,ADAjC,ADAa,CEAoB,ADAjC,ADAa,CAAA,ACAb,ACAiC,CFApB,ACAb,ACAiC,CFApB,ACAb,ACAiC,CAAA,ADAjC,ADAa,CEAoB,ADAjC,ADAa,CEAoB,ADAjC,ADAa,iCEAoB,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAAA,CAE/E,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAEE,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,YAEL,CAAA,AFAE,UEEK,CAAA,AAAE,EAAG,CAAa,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CAAA,SAItC,CAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,sFACH,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAET,CACD,CAAA,CJxBD,AIwBC,IJxBD,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAgBA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,ODvBA,EAAA,EAAA,CAAA,CAAA,OAqHA,SAAS,EAAsB,CAAe,EAgB5C,IAAM,EAAa,AAf+B,CAChD,KAAM,YACN,QAAS,UACT,cAAe,eACf,QAAS,UACT,OAAQ,sBACR,mBAAoB,qBACpB,oBAAqB,sBACrB,UAAW,YACX,aAAc,UACd,mBAAoB,eACpB,WAAY,aACZ,aAAc,UACd,WAAY,YACd,CAC0B,CAAC,EAAE,IAAI,CAAC,EAAI,EAAE,IAAI,CACtC,EAAO,EAAE,IAAI,CACnB,MAAO,CACL,GAAG,CAAC,CACJ,KAAM,EACN,QAAS,EAAE,IAAI,CACf,YAAc,GAAM,iBAAgD,CAAnB,SAAC,OAAO,EAAE,IAAI,CAAgB,EAAE,IAAI,CAAC,KAAK,CAAC,EAAG,IAAM,EAAA,CAAE,CACvG,OAAQ,EAAE,IAAI,EAAE,IAAO,GAAM,OAC7B,UAAW,GAAM,UACjB,OAAQ,EAAE,IAAI,EAAE,IAAO,GAAM,OAC7B,aAAc,GAAM,YACtB,CACF,CAGO,eAAe,EAAiB,CAAkE,EACvG,IAAM,EAAQ,MAAM,EAAA,OAAS,CAAC,GAAG,CAAC,iBAAkB,QAAE,CAAO,GAC7D,MAAO,CACL,cAAe,EAAK,aAAa,CAAC,GAAG,CAAC,GACtC,WAAY,EAAK,UAAU,CAC3B,QAAS,EAAK,OAChB,AADuB,CAEzB,CAGO,eAAe,IACpB,OAAO,EAAA,OAAS,CAAC,GAAG,CAAoB,8BAC1C,CAGO,eAAe,EAAwB,CAAyB,EACrE,MAAM,EAAA,OAAS,CAAC,IAAI,CAAC,sBAAuB,iBAAE,CAAgB,EAChE,CAGO,eAAe,IACpB,MAAM,EAAA,OAAS,CAAC,IAAI,CAAC,0BACvB,CC1IA,IAAA,EAAA,EAAA,CAAA,CAAA,OAsFA,SAAS,EAAiB,cAAE,CAAY,YAAE,CAAU,CAAyB,EAC3E,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IA0BxB,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,MAAM,CAAA,CACZ,QAAS,CAAE,QAAS,EAAG,EAAG,CAAC,EAAG,EAC9B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,QA5BgB,CA4BP,IA1BN,AAAD,EAAc,MAAM,EAAE,AACxB,EAAW,EAAa,EAAE,EAIF,iBAAtB,EAAa,IAAI,EAAuB,AAAsB,uBAAuB,GAAhC,IAAI,CAC3D,EAAO,IAAI,CAAC,uBACH,EAAa,MAAM,CAC5B,CAD8B,CACvB,IAAI,CAAC,CAAC,OAAO,EAAE,EAAa,MAAM,CAAA,CAAE,EAClC,EAAa,MAAM,CACxB,CAD0B,CACb,SAAS,CACxB,CAD0B,CACnB,IAAI,CAAC,CAAC,MAAM,EAAE,EAAa,MAAM,CAAC,SAAS,EAAE,EAAa,SAAS,CAAA,CAAE,EAE5E,EAAO,IAAI,CAAC,CAAC,MAAM,EAAE,EAAa,MAAM,CAAA,CAAE,GAEb,uBAAtB,EAAa,IAAI,EAAmD,wBAAtB,EAAa,IAAI,AAAK,GAAuB,AAChG,EAAa,KAAK,EAAE,AACtB,EAAO,IAAI,CAAC,CAAC,SAAS,EAAE,EAAa,KAAK,CAAC,QAAQ,CAAA,CAAE,CAG3D,EAOI,UAAW,CAAC,8DAA8D,EACxE,EAAa,MAAM,CACf,+DACA,6EAAA,CACJ,WAGF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kFACZ,EAAa,KAAK,EAAE,aACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAK,CAAA,CACJ,IAAK,EAAa,KAAK,CAAC,YAAY,CACpC,IAAK,EAAa,KAAK,CAAC,IAAI,CAC5B,MAAO,GACP,OAAQ,GACR,UAAU,+BAGZ,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kFACZ,EAAa,KAAK,EAAE,MAAM,OAAO,GAAG,eAAiB,QAI5D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qFA1IvB,AA2IW,SA3IF,AAAoB,CAAsB,CAAE,CAA4B,EAC/E,OAAQ,GACN,IAAK,gBAEH,OAAQ,GACN,IAAK,YACH,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,2BAChC,KAAK,UACH,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,UAAU,0BAC9B,KAAK,aACH,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAU,0BAC9B,KAAK,UACH,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,2BAC/B,SACE,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,yBAC/B,CACF,IAAK,YACH,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,yBAC7B,KAAK,UACH,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,0BAClC,KAAK,eACH,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,wBAC1B,KAAK,UACH,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,2BAC3B,KAAK,qBACL,IAAK,sBACH,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,yBAC7B,KAAK,eACL,IAAK,qBACL,IAAK,sBACH,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,2BAC1B,SACE,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,yBAC3B,CACF,EAyG+B,EAAa,IAAI,CAAE,EAAa,YAAY,OAKrE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iDACV,AA7GX,SAAS,AAAuB,CAA0B,EACxD,IAAM,EAAY,EAAa,KAAK,EAAE,MAAQ,UAE9C,OAAQ,EAAa,IAAI,EACvB,IAAK,gBAQH,IAAM,EAAS,AAPgC,CAC7C,KAAM,QACN,UAAW,aACX,QAAS,YACT,WAAY,mBACZ,QAAS,kBACX,CAC6B,CAAC,EAAa,YAAY,EAAI,OAAO,EAAI,aACtE,MAAO,CAAA,EAAG,EAAU,CAAC,EAAE,EAAO,UAAU,CAAC,AAC3C,KAAK,YACH,MAAO,CAAA,EAAG,EAAU,gBAAgB,CAAC,AACvC,KAAK,UACH,MAAO,CAAA,EAAG,EAAU,uBAAuB,CAAC,AAC9C,KAAK,eACH,MAAO,CAAA,EAAG,EAAU,mBAAmB,CAAC,AAC1C,KAAK,UACH,MAAO,CAAA,EAAG,EAAU,cAAc,CAAC,AACrC,KAAK,qBACH,MAAO,CAAA,EAAG,EAAU,8BAA8B,CACpD,AADqD,KAChD,sBACH,MAAO,CAAA,EAAG,EAAU,iCAAiC,CAAC,AACxD,KAAK,YACH,MAAO,CAAA,EAAG,EAAU,mBAAmB,CAAC,AAC1C,KAAK,aACH,MAAO,CAAA,EAAG,EAAU,iBAAiB,CAAC,AACxC,KAAK,eACH,MAAO,CAAA,EAAG,EAAU,qBAAqB,EAAE,EAAa,OAAO,EAAI,UAAA,CAAW,AAChF,KAAK,qBACH,MAAO,CAAA,EAAG,EAAU,6BAA6B,CAAC,AACpD,KAAK,sBACH,MAAO,CAAC,qBAAqB,EAAE,EAAa,OAAO,EAAI,YAAY,aAAa,CAAC,AACnF,SACE,MAAO,CAAA,EAAG,EAAU,6BAA6B,CACrD,AADsD,CAExD,EAsEkC,KAEzB,EAAa,OAAO,EACnB,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0EAAgE,IACpE,EAAa,OAAO,CAAC,OAG/B,EAAa,WAAW,EAAI,CAAC,EAAa,OAAO,EAChD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yEACV,EAAa,WAAW,GAG7B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4DACV,CAAA,EAAA,EAAA,mBAAA,AAAmB,EAAC,IAAI,KAAK,EAAa,SAAS,EAAG,CAAE,UAAW,EAAK,QAK5E,CAAC,EAAa,MAAM,EACnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0DAIvB,CAQO,SAAS,EAAc,QAAE,GAAS,CAAI,SAAE,CAAO,YAAE,GAAa,CAAK,CAAsB,EAC9F,GAAM,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAiB,EAAE,EAC/D,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAG/C,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,AAAK,GAkBL,CAlBI,AAEuB,IAFd,MAGX,GAAW,GACX,GAAI,CACF,GAAM,CAAC,EAAe,EAAS,CAAG,MAAM,QAAQ,GAAG,CAAC,CAClD,IACA,IACD,EACD,EAAkB,EAAoD,aAAa,EACnF,EAAgB,EAA0C,KAAK,CACjE,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,gCAAiC,EACjD,QAAU,CACR,GAAW,EACb,EACF,GAGF,EAAG,CAAC,EAAO,EAGX,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAU,KACd,EAAe,GAAQ,EAAO,GAC9B,IAAmB,IAAI,CAAC,GAAO,EAAiB,EAAI,aAAa,GAAG,KAAK,CAAC,QAAQ,KAAK,CACzF,EAUA,MATe,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,CAC9B,kBAAmB,EACnB,sBAAuB,EACvB,sBAAuB,EACvB,mBAAoB,EACpB,uBAAwB,EACxB,0BAA2B,CAC7B,GAEO,KAEP,CACF,EAAG,EAAE,EAGL,IAAM,EAAiB,MAAO,IAC5B,GAAI,CACF,MAAM,EAAwB,CAAC,EAAG,EAClC,EAAiB,GACf,EAAK,GAAG,CAAC,GAAK,EAAE,EAAE,GAAK,EAAK,CAAE,GAAG,CAAC,CAAE,QAAQ,CAAK,EAAI,IAEvD,EAAe,GAAQ,KAAK,GAAG,CAAC,EAAG,EAAO,GAC5C,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,sCAAuC,EACvD,CACF,EAGM,EAAoB,UACxB,GAAI,CACF,MAAM,IACN,EAAiB,GAAQ,EAAK,GAAG,CAAC,IAAK,AAAC,CAAE,GAAG,CAAC,CAAE,QAAQ,EAAK,CAAC,GAC9D,EAAe,EACjB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,6BAA8B,EAC9C,CACF,EAEM,EACJ,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAEE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mGACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,gDAChB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,+DAAsD,kBACnE,EAAc,GACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+EACb,OAKP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACZ,EAAc,GACb,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,4IAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAW,UAAU,YAAY,mBAIrC,CAAC,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACH,KAAK,0BACL,UAAU,wFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,wDAO5B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,CAAC,gBAAgB,EAAE,EAAa,WAAa,SAAA,CAAU,UACpE,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,yCAEnB,AAAyB,MAAX,MAAM,CACtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,+DAChB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+CAAsC,yBACnD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uDAA8C,qEAK7D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4DACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UACb,EAAc,GAAG,CAAC,AAAC,GAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAEC,aAAc,EACd,WAAY,GAFP,EAAa,EAAE,mBAYpC,AAAI,EAEA,CAAA,EAAA,EAAA,GAAA,EAAC,AAFW,MAEX,CAAI,UAAU,iIACZ,IAML,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wHACZ,KAIT,oCCzWA,IAAA,EAAA,EAAA,CAAA,CAAA,gBCSiB,EAAA,OAAA,EAAA,WAA6B,CAAA,AEAE,QFCrC,CCAA,ACAA,AFAA,iCAAqC,IAAK,CEAe,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EFAL,CAAA,AEAK,CAAA,AFCjE,CAAA,ACAA,ACDiE,CFCjE,ACAA,CAAA,ADAA,CAAA,ACAA,CAAA,ADAA,CCAQ,ADAA,CCAA,ADAA,CCAA,ADAA,AAAE,EAAG,CCAwB,ADAE,CAAA,ACAF,CDAE,ACAF,CAAA,ADAE,CAAA,ACAF,CAAA,ADAE,CAAA,ACAF,CAAA,ADAE,CAAA,ACAF,CAAA,ADAE,CCAF,ADAE,CCAF,ADAE,CCAF,ADAE,CCAF,ADAE,CCAF,ADAE,CCAF,ADAE,CCAF,ADAE,CCAF,ADAE,CCAF,ADAE,CAAA,ACAF,CDAE,ACAF,CAAA,ADAE,CCAF,ADAE,EAAA,CCAF,ADAE,CCAF,ADAE,EAAK,UAAU,CAAA,AACvD,CCAD,ADAC,AEDA,OFGE,CAAA,AEAE,AFCA,CEAA,AFAG,CEAH,AFAG,CAAA,+HACH,IAAK,CAAA,CAAA,CAAA,CAAA,IACP,CAAA,GAED,OAAQ,CAAA,AAAE,EAAG,CAA0B,CAAA,CAAA,CAAA,CAAA,CAAA,mBAAA,CAAA,CAAA,CAAA,CAAA,AAAK,QAAA,CAAU,CAAA,CACxD,CEDC,AFCD,CAAA,AEDC,AHlBF,IAAA,EAAA,EAAA,CAAA,CAAA,OAWO,SAAS,EAAmB,QAAE,CAAM,CAA2B,EACpE,GAAM,aACJ,CAAW,qBACX,CAAmB,mBACnB,CAAiB,WACjB,CAAS,wBACT,CAAsB,mBACtB,CAAiB,qBACjB,CAAmB,CACpB,CAAG,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,GAEnB,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAE7C,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,CAAC,GAAe,GAAuB,CAAC,GAG1B,aAAa,OAAO,CAAC,yBAHa,OAMpD,IAAM,EAAS,SAAS,aAAa,OAAO,CAAC,gBAAkB,IAAK,IAAM,EAG1E,GAFA,aAAa,OAAO,CAAC,cAAe,EAAO,QAAQ,IAE/C,GAAU,EAAG,CACf,IAAM,EAAQ,WAAW,IAAM,GAAc,GAAO,KACpD,MAAO,IAAM,aAAa,EAC5B,CACF,EAAG,CAAC,EAAa,EAAqB,EAAO,EAE7C,IAAM,EAAe,UACnB,MAAM,IACN,GAAc,EAChB,EAEM,EAAgB,KACpB,GAAc,GACd,aAAa,OAAO,CAAC,wBAAyB,IAAI,OAAO,WAAW,GACtE,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WAEE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UACb,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,QAAS,CAAE,QAAS,EAAG,EAAG,GAAI,MAAO,EAAI,EACzC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,MAAO,CAAE,EACtC,KAAM,CAAE,QAAS,EAAG,EAAG,GAAI,MAAO,EAAI,EACtC,UAAU,kMAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8GACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAS,UAAU,+CAEtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,oEAA2D,wBAGzE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uEAA8D,8GAI7E,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,0FAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,+BAIjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,6JACX,YAGD,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,EACT,SAAU,EACV,UAAU,oLAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,gBACf,EAAY,cAAgB,sBASzC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UACb,GACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,QAAS,CAAE,QAAS,EAAG,EAAG,CAAC,GAAI,EAAG,EAAG,EACrC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAG,EAAG,CAAE,EAClC,KAAM,CAAE,QAAS,EAAG,EAAG,CAAC,EAAG,EAC3B,UAAU,oKACV,QAAS,YAET,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,eACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4GACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,4BAElB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wEACV,EAAuB,YAAY,EAAE,OAAS,WAEjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2EACV,EAAuB,YAAY,EAAE,MAAQ,QAGlD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,QAAS,AAAC,IACR,EAAE,eAAe,GACjB,GACF,EACA,UAAU,qEAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,qCAKnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,QAAS,CAAE,MAAO,MAAO,EACzB,QAAS,CAAE,MAAO,IAAK,EACvB,WAAY,CAAE,SAAU,EAAG,KAAM,QAAS,EAC1C,UAAU,6BAOxB","ignoreList":[3,4,5]}
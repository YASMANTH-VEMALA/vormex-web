module.exports=[21374,a=>{"use strict";let b=(0,a.i(70106).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],21374)},90925,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(3512);function f({children:a}){let{isAuthenticated:f,loading:g}=(0,e.useAuth)(),h=(0,d.useRouter)();return(c.default.useEffect(()=>{g||f||h.push("/login")},[f,g,h]),g)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-neutral-950",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600 dark:text-neutral-400",children:"Loading..."})]})}):f?(0,b.jsx)(b.Fragment,{children:a}):null}a.s(["ProtectedRoute",()=>f])},1027,a=>{"use strict";let b=(0,a.i(70106).default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);a.s(["Zap",()=>b],1027)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},92759,a=>{"use strict";let b=(0,a.i(70106).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],92759)},5784,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],5784)},5151,a=>{"use strict";let b=(0,a.i(70106).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["Copy",()=>b],5151)},43108,a=>{"use strict";let b=(0,a.i(70106).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],43108)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},1239,84505,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);a.s(["Pin",()=>c],1239);let d=(0,b.default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);a.s(["Download",()=>d],84505)},38632,49625,a=>{"use strict";let b=(0,a.i(70106).default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);a.s(["default",()=>b],49625),a.s(["Image",()=>b],38632)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},33441,a=>{"use strict";let b=(0,a.i(70106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],33441)},69520,a=>{"use strict";let b=(0,a.i(70106).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);a.s(["RefreshCw",()=>b],69520)},70580,a=>{"use strict";var b=a.i(92415);async function c(a,c){return b.default.post("/connections/request",{receiverId:a,message:c})}async function d(a){return b.default.post(`/connections/${a}/accept`)}async function e(a){return b.default.post(`/connections/${a}/reject`)}async function f(a){return b.default.delete(`/connections/${a}/cancel`)}async function g(a){return b.default.delete(`/connections/${a}`)}async function h(a=1,c=20){return b.default.get(`/connections?page=${a}&limit=${c}`)}async function i(a,c=1,d=20){return b.default.get(`/connections/user/${a}?page=${c}&limit=${d}`)}async function j(a=1,c=20){let d=await b.default.get(`/connections/pending?page=${a}&limit=${c}`);return{connections:d.connections||d.requests||[],total:d.total||0,page:d.page||a,totalPages:d.totalPages||1,hasMore:d.hasMore||!1}}async function k(a=1,c=20){let d=await b.default.get(`/connections/sent?page=${a}&limit=${c}`);return{connections:d.connections||d.requests||[],total:d.total||0,page:d.page||a,totalPages:d.totalPages||1,hasMore:d.hasMore||!1}}async function l(a){return b.default.get(`/connections/status/${a}`)}a.s(["acceptConnectionRequest",()=>d,"cancelConnectionRequest",()=>f,"getConnectionStatus",()=>l,"getConnections",()=>h,"getPendingRequests",()=>j,"getSentRequests",()=>k,"getUserConnections",()=>i,"rejectConnectionRequest",()=>e,"removeConnection",()=>g,"sendConnectionRequest",()=>c])},54347,a=>{"use strict";let b=(0,a.i(70106).default)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);a.s(["Palette",()=>b],54347)},72764,a=>{"use strict";var b=a.i(92415);async function c(a,c){let d=new URLSearchParams;return a&&d.append("limit",String(a)),c&&d.append("cursor",c),b.default.get(`/chat/conversations?${d.toString()}`)}async function d(a){return b.default.post("/chat/conversations",{participantId:a})}async function e(a){return b.default.get(`/chat/conversations/${a}`)}async function f(a,c,d){let e=new URLSearchParams;return c&&e.append("limit",String(c)),d&&e.append("cursor",d),b.default.get(`/chat/conversations/${a}/messages?${e.toString()}`)}async function g(a,c){return b.default.post(`/chat/conversations/${a}/messages`,c)}async function h(){return b.default.get("/chat/unread-count")}async function i(a,c,d){let e=new FormData;return e.append("file",a),e.append("mediaType",c),b.default.post("/chat/upload",e,{timeout:12e4,maxContentLength:1/0,maxBodyLength:1/0,onUploadProgress:a=>{d&&a.total&&d(Math.round(a.loaded/a.total*100))}})}async function j(a){return b.default.get(`/chat/message-limit/${a}`)}a.s(["getConversation",()=>e,"getConversations",()=>c,"getMessageLimitStatus",()=>j,"getMessages",()=>f,"getOrCreateConversation",()=>d,"getUnreadCount",()=>h,"sendMessage",()=>g,"uploadChatMedia",()=>i])},99464,a=>{"use strict";let b=(0,a.i(70106).default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);a.s(["Pencil",()=>b],99464)},8406,a=>{"use strict";let b=(0,a.i(70106).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);a.s(["Sparkles",()=>b],8406)},64791,a=>{"use strict";let b=(0,a.i(70106).default)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);a.s(["Video",()=>b],64791)},79360,a=>{"use strict";let b=(0,a.i(70106).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);a.s(["MoreVertical",()=>b],79360)},8234,a=>{"use strict";let b=(0,a.i(70106).default)("BellOff",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]]);a.s(["BellOff",()=>b],8234)},71781,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(90925),f=a.i(3512);a.i(96331);var g=a.i(45482),g=g,h=a.i(12469),i=a.i(72764),j=a.i(38246);function k({children:a}){let k=(0,d.useRouter)(),l=(0,d.usePathname)(),{user:m}=(0,f.useAuth)(),[n,o]=(0,c.useState)(0),p=l?.startsWith("/messages/")?l.split("/messages/")[1]:void 0,q=!!p;(0,c.useEffect)(()=>{m?.id&&((0,h.initializeSocket)(),(0,i.getUnreadCount)().then(a=>{o(a.unreadCount)}).catch(console.error))},[m?.id]),(0,c.useEffect)(()=>{let a=(0,h.getSocket)();if(!a)return;let b=()=>{(0,i.getUnreadCount)().then(a=>{o(a.unreadCount)}).catch(console.error)};return a.on("chat:notification",b),()=>{a.off("chat:notification",b)}},[]);let r=(0,c.useCallback)(a=>{k.push(`/messages/${a.id}`,{scroll:!1})},[k]);return(0,b.jsx)(e.ProtectedRoute,{children:(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,b.jsxs)("div",{className:"flex h-[calc(100vh-96px)]",children:[(0,b.jsxs)("div",{className:`${q?"hidden md:flex":"flex"} w-full md:w-96 bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 flex-col`,children:[(0,b.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Messages",n>0&&(0,b.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-blue-600 text-white text-sm rounded-full",children:n})]}),(0,b.jsx)(j.default,{href:"/find-people",className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors",title:"New conversation",children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),(0,b.jsxs)("div",{className:"mt-4 relative",children:[(0,b.jsx)("input",{type:"text",placeholder:"Search messages...",className:"w-full px-4 py-2 pl-10 bg-gray-100 dark:bg-gray-800 rounded-full border-0 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500"}),(0,b.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,b.jsx)(g.default,{selectedConversationId:p,onSelectConversation:r,currentUserId:m?.id})]}),(0,b.jsx)("div",{className:`${q?"flex":"hidden md:flex"} flex-1 flex-col bg-white dark:bg-gray-900 h-full overflow-hidden`,children:a})]})})})})}a.s(["default",()=>k],71781)},48743,a=>{a.v(b=>Promise.all(["server/chunks/ssr/node_modules_canvas-confetti_dist_confetti_module_mjs_a8825869._.js"].map(b=>a.l(b))).then(()=>b(44783)))}];

//# sourceMappingURL=_fc284877._.js.map
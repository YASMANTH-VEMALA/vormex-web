module.exports=[90925,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(3512);function f({children:a}){let{isAuthenticated:f,loading:g}=(0,e.useAuth)(),h=(0,d.useRouter)();return(c.default.useEffect(()=>{g||f||h.push("/login")},[f,g,h]),g)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-neutral-950",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600 dark:text-neutral-400",children:"Loading..."})]})}):f?(0,b.jsx)(b.Fragment,{children:a}):null}a.s(["ProtectedRoute",()=>f])},13749,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],13749)},33441,a=>{"use strict";let b=(0,a.i(70106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],33441)},5151,a=>{"use strict";let b=(0,a.i(70106).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["Copy",()=>b],5151)},69922,a=>{"use strict";let b=(0,a.i(70106).default)("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);a.s(["Link2",()=>b],69922)},1027,a=>{"use strict";let b=(0,a.i(70106).default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);a.s(["Zap",()=>b],1027)},50429,a=>{"use strict";let b=(0,a.i(70106).default)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);a.s(["Target",()=>b],50429)},83077,a=>{"use strict";let b=(0,a.i(70106).default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);a.s(["Trophy",()=>b],83077)},78138,a=>{"use strict";let b=(0,a.i(70106).default)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);a.s(["Gift",()=>b],78138)},86520,a=>{"use strict";let b=(0,a.i(70106).default)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);a.s(["Crown",()=>b],86520)},93501,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(78138),f=a.i(5151),g=a.i(33441),h=a.i(13749),i=a.i(60246),j=a.i(1027),k=a.i(83077),l=a.i(69922),m=a.i(86520),n=a.i(50429),o=a.i(38246),p=a.i(90925),q=a.i(92415);let r=async()=>(await q.default.get("/referrals/stats")).data,s=async a=>(await q.default.get("/referrals/leaderboard",{params:{limit:a}})).data,t=[{count:1,reward:100,completed:!1},{count:5,reward:250,completed:!1},{count:10,reward:500,completed:!1},{count:25,reward:1e3,completed:!1},{count:50,reward:2500,completed:!1},{count:100,reward:5e3,completed:!1}];function u(){let[a,q]=(0,c.useState)(null),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)(!0),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)("overview");(0,c.useEffect)(()=>{C()},[]);let C=async()=>{try{x(!0);let[a,b]=await Promise.all([r(),s()]);q(a||null),v(b||[])}catch(a){console.error("Error loading referrals:",a)}finally{x(!1)}};return w?(0,b.jsx)(p.ProtectedRoute,{children:(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-950 flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-gray-300 dark:border-neutral-600 border-t-blue-500"})})}):(0,b.jsx)(p.ProtectedRoute,{children:(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-950 pb-20",children:[(0,b.jsx)("div",{className:"bg-white dark:bg-neutral-900 border-b border-gray-200 dark:border-neutral-800 sticky top-0 z-10",children:(0,b.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(o.default,{href:"/more",className:"p-2 -ml-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors",children:(0,b.jsx)(h.ChevronLeft,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Invite Friends"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Earn XP for every friend who joins"})]})]})})}),(0,b.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl p-6 border border-gray-200 dark:border-neutral-800",children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("div",{className:"w-14 h-14 mx-auto mb-3 rounded-full bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center",children:(0,b.jsx)(e.Gift,{className:"w-7 h-7 text-blue-600 dark:text-blue-400"})}),(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:"Your Referral Code"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Share this code with friends"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,b.jsx)("div",{className:"flex-1 bg-gray-100 dark:bg-neutral-800 rounded-lg px-4 py-3 font-mono text-lg text-center text-gray-900 dark:text-white",children:a?.referralCode||"Loading..."}),(0,b.jsx)("button",{onClick:()=>{a?.referralCode&&(navigator.clipboard.writeText(a.referralCode),z(!0),setTimeout(()=>z(!1),2e3))},className:"p-3 rounded-lg bg-gray-100 dark:bg-neutral-800 hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors",children:y?(0,b.jsx)(g.Check,{className:"w-5 h-5 text-green-500"}):(0,b.jsx)(f.Copy,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),(0,b.jsxs)("button",{onClick:()=>{if(a?.referralCode){let b=`${window.location.origin}/signup?ref=${a.referralCode}`;navigator.clipboard.writeText(b),z(!0),setTimeout(()=>z(!1),2e3)}},className:"w-full flex items-center justify-center gap-2 py-3 rounded-lg bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-medium hover:bg-gray-800 dark:hover:bg-gray-100 transition-colors",children:[(0,b.jsx)(l.Link2,{className:"w-4 h-4"}),"Copy Invite Link"]})]})}),(0,b.jsx)("div",{className:"max-w-2xl mx-auto px-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl p-4 border border-gray-200 dark:border-neutral-800",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-1",children:[(0,b.jsx)(i.Users,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-xs",children:"Total"})]}),(0,b.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:a?.totalReferrals||0})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl p-4 border border-gray-200 dark:border-neutral-800",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-1",children:[(0,b.jsx)(g.Check,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-xs",children:"Completed"})]}),(0,b.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:a?.completedReferrals||0})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl p-4 border border-gray-200 dark:border-neutral-800",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-1",children:[(0,b.jsx)(j.Zap,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-xs",children:"XP Earned"})]}),(0,b.jsx)("p",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:a?.totalXPEarned||0})]})]})}),(0,b.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-4",children:(0,b.jsx)("div",{className:"flex gap-1 bg-gray-100 dark:bg-neutral-800 p-1 rounded-lg",children:[{id:"overview",label:"Milestones",icon:n.Target},{id:"leaderboard",label:"Leaderboard",icon:k.Trophy}].map(a=>(0,b.jsxs)("button",{onClick:()=>B(a.id),className:`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-md text-sm font-medium transition-colors ${A===a.id?"bg-white dark:bg-neutral-700 text-gray-900 dark:text-white shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"}`,children:[(0,b.jsx)(a.icon,{className:"w-4 h-4"}),a.label]},a.id))})}),(0,b.jsxs)("div",{className:"max-w-2xl mx-auto px-4",children:["overview"===A&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3",children:"Referral Milestones"}),(()=>{if(!a)return t;let b=a.completedReferrals??a.activeReferrals??0;return t.map(a=>({...a,completed:b>=a.count}))})().map((c,f)=>(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*f},className:`bg-white dark:bg-neutral-900 rounded-xl p-4 border ${c.completed?"border-green-300 dark:border-green-700":"border-gray-200 dark:border-neutral-800"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${c.completed?"bg-green-100 dark:bg-green-900/30":"bg-gray-100 dark:bg-neutral-800"}`,children:c.completed?(0,b.jsx)(g.Check,{className:"w-5 h-5 text-green-600 dark:text-green-400"}):(0,b.jsx)(e.Gift,{className:"w-5 h-5 text-gray-400 dark:text-gray-500"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("p",{className:`font-medium ${c.completed?"text-gray-900 dark:text-white":"text-gray-600 dark:text-gray-400"}`,children:["Refer ",c.count," ",1===c.count?"friend":"friends"]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.completed?"Completed":`${a?.completedReferrals||0} / ${c.count}`})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[(0,b.jsx)(j.Zap,{className:"w-4 h-4 text-amber-500"}),(0,b.jsxs)("span",{className:c.completed?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400",children:["+",c.reward]})]})]}),!c.completed&&(0,b.jsx)("div",{className:"mt-3",children:(0,b.jsx)("div",{className:"h-1.5 bg-gray-100 dark:bg-neutral-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-300",style:{width:`${Math.min(100,(a?.completedReferrals||0)/c.count*100)}%`}})})})]},c.count))]}),"leaderboard"===A&&(0,b.jsx)(b.Fragment,{children:0===u.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-neutral-800 flex items-center justify-center",children:(0,b.jsx)(k.Trophy,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-1",children:"Leaderboard"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No referrals yet"})]}):(0,b.jsx)("div",{className:"space-y-2",children:u.map((a,c)=>(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*c},className:"bg-white dark:bg-neutral-900 rounded-xl p-4 border border-gray-200 dark:border-neutral-800 flex items-center gap-4",children:[(0,b.jsx)("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${1===a.rank?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":2===a.rank?"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300":3===a.rank?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400":"bg-gray-100 text-gray-600 dark:bg-neutral-800 dark:text-gray-400"}`,children:a.rank<=3?(0,b.jsx)(m.Crown,{className:"w-4 h-4"}):a.rank}),(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-neutral-700 flex items-center justify-center overflow-hidden",children:a.user.profileImage?(0,b.jsx)("img",{src:a.user.profileImage,alt:"",className:"w-full h-full object-cover"}):(0,b.jsx)("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:a.user.name?.charAt(0)||a.user.username?.charAt(0)||"?"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium text-gray-900 dark:text-white truncate",children:a.user.name||a.user.username}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",a.user.username]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-gray-600 dark:text-gray-300",children:[(0,b.jsx)(i.Users,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"font-semibold",children:a.referralCount})]})]},a.user.id))})})]})]})})}a.s(["default",()=>u],93501)}];

//# sourceMappingURL=_9c699577._.js.map
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/auth/ProtectedRoute.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/lib/auth/useAuth';\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode;\n}\n\nexport function ProtectedRoute({ children }: ProtectedRouteProps) {\n  const { isAuthenticated, loading } = useAuth();\n  const router = useRouter();\n\n  React.useEffect(() => {\n    if (!loading && !isAuthenticated) {\n      router.push('/login');\n    }\n  }, [isAuthenticated, loading, router]);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return null;\n  }\n\n  return <>{children}</>;\n}\n\n"],"names":["c","_c","React","useRouter","useAuth","ProtectedRouteProps","children","ReactNode","ProtectedRoute","t0","$","$i","Symbol","for","isAuthenticated","loading","router","t1","t2","ProtectedRoute[useEffect()]","push","useEffect","t3"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,OAAO,QAAQ,oBAAoB;;;AAJ5C,YAAY;;;;;AAUL,wBAAAK,EAAA;;IAAA,MAAAC,CAAA,OAAAT,gLAAA,EAAA;IAAA,IAAAS,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAwB,MAAA,EAAAJ,QAAAA,EAAA,GAAAG,EAAiC;IAC9D,MAAA,EAAAK,eAAA,EAAAC,OAAAA,EAAA;IACA,MAAAC,MAAA;IAA2B,IAAAC,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAR,CAAA,CAAA,EAAA,KAAAI,eAAA,IAAAJ,CAAA,CAAA,EAAA,KAAAK,OAAA,IAAAL,CAAA,CAAA,EAAA,KAAAM,MAAA,EAAA;QAEXC,EAAA,GAAA,CAAA;YAAA,+BAAAE,CAAA;gBACd,IAAI,CAACJ,OAA2B,IAA5B,CAAaD,eAAe,EAAA;oBAC9BE,MAAM,CAAAI,IAAK,CAAC,QAAQ,CAAC;gBAAA;YACtB;SAAA,CAAA,CAAA,8BACF;QAAEF,EAAA,GAAA;YAACJ,eAAe;YAAEC,OAAO;YAAEC,MAAM;SAAC;QAAAN,CAAA,CAAA,EAAA,GAAAI,eAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAK,OAAA;QAAAL,CAAA,CAAA,EAAA,GAAAM,MAAA;QAAAN,CAAA,CAAA,EAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,EAAA,GAAAQ,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAP,CAAA,CAAA,EAAA;QAAAQ,EAAA,GAAAR,CAAA,CAAA,EAAA;IAAA;IAJrCR,wKAAK,CAAAmB,SAAU,CAACJ,EAIf,EAAEC,EAAkC,CAAC;IAEtC,IAAIH,OAAO,EAAA;QAAA,IAAAO,EAAA;QAAA,IAAAZ,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;YAEPS,EAAA,iBAAA,6LAAA,GAKM;gBALS,SAA+C,EAA/C,+CAA+C;wCAC5D,6LAAA,GAGM;oBAHS,SAAa,EAAb,aAAa;;sCAC1B,6LAAA,GAA8F;4BAA/E,SAAwE,EAAxE,wEAAwE;;;;;;sCACvF,6LAAA,CAAgD;4BAAnC,SAAoB,EAApB,oBAAoB;sCAAC,UAAU,EAA5C,CAAgD,CAClD,EAHA,GAGM,CACR,EALA,GAKM;;;;;;;;;;;;;;;;;YAAAZ,CAAA,CAAA,EAAA,GAAAY,EAAA;QAAA,OAAA;YAAAA,EAAA,GAAAZ,CAAA,CAAA,EAAA;QAAA;QAAA,OALNY,EAKM;IAAA;IAIV,IAAI,CAACR,eAAe,EAAA;QAAA,OACX,IAAI;IAAA;IACZ,IAAAQ,EAAA;IAAA,IAAAZ,CAAA,CAAA,EAAA,KAAAJ,QAAA,EAAA;QAEMgB,EAAA,iBAAA,EAAGhB;sBAAAA,QAAO,CAAC,GAAI;;QAAAI,CAAA,CAAA,EAAA,GAAAJ,QAAA;QAAAI,CAAA,CAAA,EAAA,GAAAY,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAZ,CAAA,CAAA,EAAA;IAAA;IAAA,OAAfY,EAAe;AAAA;;;QAxBelB,2IAAO,CAAC,CAAC;QAC/BD,kJAAS,CAAC,CAAC;;;KAFrBK","ignoreList":[]}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/groups/GroupCard.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { Group } from '@/lib/api/groups';\nimport { cn } from '@/lib/utils';\n\ninterface GroupCardProps {\n  group: Group;\n  onJoin?: (groupId: string) => void;\n  onLeave?: (groupId: string) => void;\n  isJoining?: boolean;\n}\n\nexport default function GroupCard({ group, onJoin, onLeave, isJoining }: GroupCardProps) {\n  const memberCount = group._count?.members || group.memberCount;\n  const postCount = group._count?.posts || group.postCount;\n\n  const privacyBadge = {\n    PUBLIC: { label: 'Public', color: 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400' },\n    PRIVATE: { label: 'Private', color: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400' },\n    SECRET: { label: 'Secret', color: 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400' },\n  };\n\n  const privacy = privacyBadge[group.privacy];\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-shadow\">\n      {/* Cover Image */}\n      <Link href={`/groups/${group.slug}`}>\n        <div className=\"relative h-32 bg-gradient-to-r from-blue-500 to-purple-600\">\n          {group.coverImage && (\n            <Image\n              src={group.coverImage}\n              alt={group.name}\n              fill\n              className=\"object-cover\"\n            />\n          )}\n          {/* Icon overlay */}\n          {group.iconImage && (\n            <div className=\"absolute -bottom-6 left-4\">\n              <div className=\"w-14 h-14 rounded-xl border-4 border-white dark:border-gray-800 overflow-hidden bg-white dark:bg-gray-800\">\n                <Image\n                  src={group.iconImage}\n                  alt={group.name}\n                  width={56}\n                  height={56}\n                  className=\"object-cover\"\n                />\n              </div>\n            </div>\n          )}\n        </div>\n      </Link>\n\n      {/* Content */}\n      <div className={cn(\"p-4\", group.iconImage && \"pt-8\")}>\n        <div className=\"flex items-start justify-between gap-2\">\n          <Link href={`/groups/${group.slug}`} className=\"flex-1 min-w-0\">\n            <h3 className=\"font-semibold text-gray-900 dark:text-white truncate hover:text-blue-600 dark:hover:text-blue-400 transition-colors\">\n              {group.name}\n            </h3>\n          </Link>\n          <span className={cn(\"px-2 py-0.5 text-xs font-medium rounded-full flex-shrink-0\", privacy.color)}>\n            {privacy.label}\n          </span>\n        </div>\n\n        {group.description && (\n          <p className=\"mt-1 text-sm text-gray-600 dark:text-gray-400 line-clamp-2\">\n            {group.description}\n          </p>\n        )}\n\n        {/* Stats */}\n        <div className=\"mt-3 flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400\">\n          <span className=\"flex items-center gap-1\">\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z\" />\n            </svg>\n            {memberCount.toLocaleString()} members\n          </span>\n          <span className=\"flex items-center gap-1\">\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z\" />\n            </svg>\n            {postCount} posts\n          </span>\n        </div>\n\n        {/* Category tag */}\n        {group.category && (\n          <div className=\"mt-3\">\n            <span className=\"inline-block px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-md\">\n              {group.category}\n            </span>\n          </div>\n        )}\n\n        {/* Member avatars preview */}\n        {group.members && group.members.length > 0 && (\n          <div className=\"mt-3 flex items-center\">\n            <div className=\"flex -space-x-2\">\n              {group.members.slice(0, 3).map((member) => (\n                <div\n                  key={member.id}\n                  className=\"w-7 h-7 rounded-full border-2 border-white dark:border-gray-800 overflow-hidden bg-gray-200 dark:bg-gray-600\"\n                >\n                  {member.user.profileImage ? (\n                    <Image\n                      src={member.user.profileImage}\n                      alt={member.user.name}\n                      width={28}\n                      height={28}\n                      className=\"object-cover\"\n                    />\n                  ) : (\n                    <div className=\"w-full h-full flex items-center justify-center text-xs font-medium text-gray-600 dark:text-gray-300\">\n                      {member.user.name.charAt(0).toUpperCase()}\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n            {memberCount > 3 && (\n              <span className=\"ml-2 text-xs text-gray-500 dark:text-gray-400\">\n                +{memberCount - 3} more\n              </span>\n            )}\n          </div>\n        )}\n\n        {/* Action Button */}\n        <div className=\"mt-4\">\n          {group.isMember ? (\n            <div className=\"flex items-center gap-2\">\n              <Link\n                href={`/groups/${group.slug}`}\n                className=\"flex-1 px-4 py-2 text-center text-sm font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors\"\n              >\n                View Group\n              </Link>\n              {group.memberRole !== 'OWNER' && onLeave && (\n                <button\n                  onClick={() => onLeave(group.id)}\n                  className=\"p-2 text-gray-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors\"\n                  title=\"Leave group\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n                  </svg>\n                </button>\n              )}\n            </div>\n          ) : (\n            <button\n              onClick={() => onJoin?.(group.id)}\n              disabled={isJoining}\n              className=\"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              {isJoining ? (\n                <span className=\"flex items-center justify-center gap-2\">\n                  <svg className=\"w-4 h-4 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\" />\n                  </svg>\n                  Joining...\n                </span>\n              ) : group.privacy === 'PRIVATE' ? (\n                'Request to Join'\n              ) : (\n                'Join Group'\n              )}\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["c","_c","Link","Image","Group","cn","GroupCardProps","group","onJoin","groupId","onLeave","isJoining","GroupCard","t0","$","$i","Symbol","for","memberCount","_count","members","postCount","posts","privacy","t1","t2","t3","t4","t5","t6","coverImage","iconImage","name","slug","privacyBadge","PUBLIC","label","color","PRIVATE","SECRET","t7","t8","t9","t10","t11","t12","t13","description","toLocaleString","t14","t15","t16","category","t17","length","slice","map","_GroupCardAnonymous","t18","id","isMember","memberRole","GroupCard[<button>.onClick]","t19","t20","member","user","profileImage","charAt","toUpperCase"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 763, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/groups/GroupHeader.tsx"],"sourcesContent":["'use client';\n\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { Group, GroupMemberRole } from '@/lib/api/groups';\nimport { cn } from '@/lib/utils';\n\ninterface GroupHeaderProps {\n  group: Group;\n  onJoin?: () => void;\n  onLeave?: () => void;\n  isLoading?: boolean;\n}\n\nexport default function GroupHeader({ group, onJoin, onLeave, isLoading }: GroupHeaderProps) {\n  const router = useRouter();\n  const memberCount = group._count?.members || group.memberCount;\n\n  const privacyInfo = {\n    PUBLIC: { icon: 'üåç', label: 'Public Group' },\n    PRIVATE: { icon: 'üîí', label: 'Private Group' },\n    SECRET: { icon: 'üëÅÔ∏è', label: 'Secret Group' },\n  };\n\n  const privacy = privacyInfo[group.privacy];\n\n  const canManage = group.memberRole && ['OWNER', 'ADMIN'].includes(group.memberRole);\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden\">\n      {/* Cover Image */}\n      <div className=\"relative h-48 md:h-64 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500\">\n        {group.coverImage && (\n          <Image\n            src={group.coverImage}\n            alt={group.name}\n            fill\n            className=\"object-cover\"\n          />\n        )}\n        \n        {/* Back button */}\n        <button\n          onClick={() => router.back()}\n          className=\"absolute top-4 left-4 p-2 bg-black/30 hover:bg-black/50 text-white rounded-full backdrop-blur-sm transition-colors\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n          </svg>\n        </button>\n\n        {/* Settings button for admins */}\n        {canManage && (\n          <Link\n            href={`/groups/${group.slug}/settings`}\n            className=\"absolute top-4 right-4 p-2 bg-black/30 hover:bg-black/50 text-white rounded-full backdrop-blur-sm transition-colors\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n            </svg>\n          </Link>\n        )}\n\n        {/* Group Icon */}\n        <div className=\"absolute -bottom-12 left-6\">\n          <div className=\"w-24 h-24 rounded-2xl border-4 border-white dark:border-gray-800 overflow-hidden bg-white dark:bg-gray-800 shadow-lg\">\n            {group.iconImage ? (\n              <Image\n                src={group.iconImage}\n                alt={group.name}\n                width={96}\n                height={96}\n                className=\"object-cover\"\n              />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 text-white text-3xl font-bold\">\n                {group.name.charAt(0).toUpperCase()}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"pt-14 px-6 pb-6\">\n        <div className=\"flex flex-col md:flex-row md:items-start md:justify-between gap-4\">\n          {/* Info */}\n          <div className=\"flex-1\">\n            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n              {group.name}\n            </h1>\n            <div className=\"flex flex-wrap items-center gap-3 mt-2 text-sm text-gray-600 dark:text-gray-400\">\n              <span className=\"flex items-center gap-1\">\n                {privacy.icon} {privacy.label}\n              </span>\n              <span>‚Ä¢</span>\n              <span className=\"flex items-center gap-1\">\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z\" />\n                </svg>\n                {memberCount.toLocaleString()} members\n              </span>\n              {group.category && (\n                <>\n                  <span>‚Ä¢</span>\n                  <span className=\"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 rounded-full text-xs\">\n                    {group.category}\n                  </span>\n                </>\n              )}\n            </div>\n            {group.description && (\n              <p className=\"mt-3 text-gray-600 dark:text-gray-400 max-w-2xl\">\n                {group.description}\n              </p>\n            )}\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex items-center gap-3\">\n            {group.isMember ? (\n              <>\n                <Link\n                  href={`/groups/${group.slug}/chat`}\n                  className=\"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                  </svg>\n                  Chat\n                </Link>\n                {group.memberRole !== 'OWNER' && onLeave && (\n                  <button\n                    onClick={onLeave}\n                    disabled={isLoading}\n                    className=\"px-4 py-2.5 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 transition-colors\"\n                  >\n                    Leave\n                  </button>\n                )}\n              </>\n            ) : (\n              <button\n                onClick={onJoin}\n                disabled={isLoading}\n                className=\"flex items-center gap-2 px-6 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors\"\n              >\n                {isLoading ? (\n                  <>\n                    <svg className=\"w-5 h-5 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\" />\n                    </svg>\n                    Joining...\n                  </>\n                ) : group.privacy === 'PRIVATE' ? (\n                  <>\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                    Request to Join\n                  </>\n                ) : (\n                  <>\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                    Join Group\n                  </>\n                )}\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* Role badge for members */}\n        {group.memberRole && (\n          <div className=\"mt-4 inline-flex items-center gap-1.5 px-3 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-sm font-medium rounded-full\">\n            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n            </svg>\n            {group.memberRole.charAt(0) + group.memberRole.slice(1).toLowerCase()}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["c","_c","Image","Link","useRouter","Group","GroupMemberRole","cn","GroupHeaderProps","group","onJoin","onLeave","isLoading","GroupHeader","t0","$","$i","Symbol","for","router","memberCount","_count","members","t1","PUBLIC","icon","label","PRIVATE","SECRET","privacyInfo","privacy","t2","memberRole","includes","canManage","t3","coverImage","name","t4","GroupHeader[<button>.onClick]","back","t5","t6","t7","slug","t8","iconImage","charAt","toUpperCase","t9","t10","t11","t12","t13","t14","toLocaleString","t15","t16","category","t17","t18","description","t19","t20","isMember","t21","t22","slice","toLowerCase","t23","t24"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1458, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/api/groups.ts"],"sourcesContent":["import apiClient from './client';\n\n// ============================================\n// Types\n// ============================================\n\nexport type GroupPrivacy = 'PUBLIC' | 'PRIVATE' | 'SECRET';\nexport type GroupMemberRole = 'OWNER' | 'ADMIN' | 'MODERATOR' | 'MEMBER';\nexport type GroupJoinRequestStatus = 'PENDING' | 'APPROVED' | 'REJECTED';\n\nexport interface GroupUser {\n  id: string;\n  name: string;\n  username: string;\n  profileImage: string | null;\n  avatar?: string | null; // Alias for profileImage\n  headline?: string | null;\n}\n\nexport interface Group {\n  id: string;\n  name: string;\n  slug: string;\n  description: string | null;\n  coverImage: string | null;\n  iconImage: string | null;\n  privacy: GroupPrivacy;\n  category: string | null;\n  tags: string[];\n  rules: string[];\n  createdById: string;\n  createdBy: GroupUser;\n  memberCount: number;\n  postCount: number;\n  allowMemberPosts: boolean;\n  requirePostApproval: boolean;\n  createdAt: string;\n  updatedAt: string;\n  isMember: boolean;\n  memberRole: GroupMemberRole | null;\n  userRole?: GroupMemberRole | null; // Alias for memberRole\n  joinedAt?: string;\n  members?: GroupMember[];\n  _count?: {\n    members: number;\n    posts: number;\n    messages?: number;\n  };\n}\n\nexport interface GroupMember {\n  id: string;\n  groupId: string;\n  userId: string;\n  user: GroupUser;\n  role: GroupMemberRole;\n  joinedAt: string;\n  mutedUntil: string | null;\n}\n\nexport interface GroupJoinRequest {\n  id: string;\n  groupId: string;\n  userId: string;\n  user: GroupUser;\n  status: GroupJoinRequestStatus;\n  message: string | null;\n  reviewedById: string | null;\n  reviewedBy: GroupUser | null;\n  reviewedAt: string | null;\n  createdAt: string;\n}\n\nexport type GroupInviteStatus = 'PENDING' | 'ACCEPTED' | 'DECLINED' | 'EXPIRED';\n\nexport interface GroupInvite {\n  id: string;\n  groupId: string;\n  invitedUserId: string;\n  invitedUser: GroupUser;\n  invitedById: string;\n  invitedBy: GroupUser;\n  status: GroupInviteStatus;\n  message: string | null;\n  respondedAt: string | null;\n  createdAt: string;\n  group?: {\n    id: string;\n    name: string;\n    slug: string;\n    iconImage: string | null;\n    privacy: GroupPrivacy;\n    memberCount: number;\n  };\n}\n\nexport interface GroupPost {\n  id: string;\n  groupId: string;\n  authorId: string;\n  author: GroupUser;\n  content: string | null;\n  mediaUrls: string[];\n  mediaType: string | null;\n  likesCount: number;\n  commentsCount: number;\n  isPinned: boolean;\n  isApproved: boolean;\n  createdAt: string;\n  updatedAt: string;\n  isLiked?: boolean;\n  _count?: {\n    likes: number;\n    comments: number;\n  };\n}\n\nexport interface GroupPostComment {\n  id: string;\n  postId: string;\n  authorId: string;\n  author: GroupUser;\n  parentId: string | null;\n  content: string;\n  likesCount: number;\n  createdAt: string;\n  updatedAt: string;\n  replies?: GroupPostComment[];\n}\n\nexport interface GroupMessage {\n  id: string;\n  groupId: string;\n  senderId: string;\n  sender: GroupUser;\n  content: string;\n  contentType: string;\n  mediaUrl: string | null;\n  mediaType: string | null;\n  fileName: string | null;\n  fileSize: number | null;\n  replyToId: string | null;\n  replyTo: GroupMessage | null;\n  isDeleted: boolean;\n  createdAt: string;\n  updatedAt: string;\n  reactions: GroupMessageReaction[];\n}\n\nexport interface GroupMessageReaction {\n  id: string;\n  messageId: string;\n  userId: string;\n  user: GroupUser;\n  emoji: string;\n  createdAt: string;\n}\n\nexport interface PaginatedResponse<T> {\n  pagination: {\n    page: number;\n    limit: number;\n    total: number;\n    totalPages: number;\n  };\n}\n\nexport interface GroupsResponse extends PaginatedResponse<Group> {\n  groups: Group[];\n}\n\nexport interface GroupMembersResponse extends PaginatedResponse<GroupMember> {\n  members: GroupMember[];\n}\n\nexport interface GroupPostsResponse extends PaginatedResponse<GroupPost> {\n  posts: GroupPost[];\n}\n\nexport interface GroupCategory {\n  name: string;\n  count: number;\n}\n\n// ============================================\n// Group CRUD\n// ============================================\n\nexport async function createGroup(data: {\n  name: string;\n  description?: string;\n  privacy?: GroupPrivacy;\n  category?: string;\n  tags?: string[];\n  rules?: string[];\n  coverImage?: string;\n  iconImage?: string;\n}): Promise<Group> {\n  return apiClient.post('/groups', data);\n}\n\nexport async function getGroup(identifier: string): Promise<Group> {\n  return apiClient.get(`/groups/${identifier}`);\n}\n\nexport async function updateGroup(\n  groupId: string,\n  data: Partial<{\n    name: string;\n    description: string;\n    privacy: GroupPrivacy;\n    category: string;\n    tags: string[];\n    rules: string[];\n    coverImage: string;\n    iconImage: string;\n    allowMemberPosts: boolean;\n    requirePostApproval: boolean;\n  }>\n): Promise<Group> {\n  return apiClient.put(`/groups/${groupId}`, data);\n}\n\nexport async function deleteGroup(groupId: string): Promise<{ success: boolean }> {\n  return apiClient.delete(`/groups/${groupId}`);\n}\n\n// ============================================\n// Group Discovery\n// ============================================\n\nexport async function listGroups(options?: {\n  search?: string;\n  category?: string;\n  privacy?: GroupPrivacy;\n  page?: number;\n  limit?: number;\n}): Promise<GroupsResponse> {\n  const params = new URLSearchParams();\n  if (options?.search) params.append('search', options.search);\n  if (options?.category) params.append('category', options.category);\n  if (options?.privacy) params.append('privacy', options.privacy);\n  if (options?.page) params.append('page', String(options.page));\n  if (options?.limit) params.append('limit', String(options.limit));\n\n  return apiClient.get(`/groups?${params.toString()}`);\n}\n\nexport async function getMyGroups(page = 1, limit = 20): Promise<GroupsResponse> {\n  return apiClient.get(`/groups/my?page=${page}&limit=${limit}`);\n}\n\nexport async function discoverGroups(page = 1, limit = 20): Promise<GroupsResponse> {\n  return apiClient.get(`/groups/discover?page=${page}&limit=${limit}`);\n}\n\nexport async function getCategories(): Promise<GroupCategory[]> {\n  return apiClient.get('/groups/categories');\n}\n\n// ============================================\n// Membership\n// ============================================\n\nexport async function joinGroup(\n  groupId: string,\n  message?: string\n): Promise<{ status: 'joined' | 'pending'; message: string }> {\n  return apiClient.post(`/groups/${groupId}/join`, { message });\n}\n\nexport async function leaveGroup(groupId: string): Promise<{ success: boolean }> {\n  return apiClient.post(`/groups/${groupId}/leave`);\n}\n\nexport async function getGroupMembers(\n  groupId: string,\n  options?: {\n    role?: GroupMemberRole;\n    search?: string;\n    page?: number;\n    limit?: number;\n  }\n): Promise<GroupMembersResponse> {\n  const params = new URLSearchParams();\n  if (options?.role) params.append('role', options.role);\n  if (options?.search) params.append('search', options.search);\n  if (options?.page) params.append('page', String(options.page));\n  if (options?.limit) params.append('limit', String(options.limit));\n\n  return apiClient.get(`/groups/${groupId}/members?${params.toString()}`);\n}\n\nexport async function updateMemberRole(\n  groupId: string,\n  userId: string,\n  role: GroupMemberRole\n): Promise<{ success: boolean }> {\n  return apiClient.put(`/groups/${groupId}/members/${userId}`, { role });\n}\n\nexport async function removeMember(\n  groupId: string,\n  userId: string\n): Promise<{ success: boolean }> {\n  return apiClient.delete(`/groups/${groupId}/members/${userId}`);\n}\n\n// ============================================\n// Join Requests\n// ============================================\n\nexport async function getJoinRequests(\n  groupId: string,\n  status?: GroupJoinRequestStatus\n): Promise<GroupJoinRequest[]> {\n  const params = status ? `?status=${status}` : '';\n  return apiClient.get(`/groups/${groupId}/requests${params}`);\n}\n\nexport async function handleJoinRequest(\n  groupId: string,\n  requestId: string,\n  action: 'approve' | 'reject'\n): Promise<{ success: boolean }> {\n  return apiClient.post(`/groups/${groupId}/requests/${requestId}`, { action });\n}\n\n// ============================================\n// Group Invites\n// ============================================\n\nexport async function inviteToGroup(\n  groupId: string,\n  userId: string,\n  message?: string\n): Promise<{ success: boolean; message: string }> {\n  return apiClient.post(`/groups/${groupId}/invites`, { userId, message });\n}\n\nexport async function getGroupInvites(\n  groupId: string,\n  status?: GroupInviteStatus\n): Promise<{ invites: GroupInvite[] }> {\n  const params = status ? `?status=${status}` : '';\n  return apiClient.get(`/groups/${groupId}/invites${params}`);\n}\n\nexport async function getUserPendingInvites(): Promise<{ invites: GroupInvite[] }> {\n  return apiClient.get('/groups/invites/pending');\n}\n\nexport async function respondToInvite(\n  inviteId: string,\n  action: 'accept' | 'decline'\n): Promise<{ success: boolean; message: string; groupSlug?: string }> {\n  return apiClient.post(`/groups/invites/${inviteId}`, { action });\n}\n\nexport async function cancelInvite(\n  groupId: string,\n  inviteId: string\n): Promise<{ success: boolean }> {\n  return apiClient.delete(`/groups/${groupId}/invites/${inviteId}`);\n}\n\n// ============================================\n// Group Posts\n// ============================================\n\nexport async function createGroupPost(\n  groupId: string,\n  data: {\n    content?: string;\n    mediaUrls?: string[];\n    mediaType?: string;\n  }\n): Promise<GroupPost> {\n  return apiClient.post(`/groups/${groupId}/posts`, data);\n}\n\nexport async function getGroupPosts(\n  groupId: string,\n  options?: {\n    page?: number;\n    limit?: number;\n    pinnedFirst?: boolean;\n  }\n): Promise<GroupPostsResponse> {\n  const params = new URLSearchParams();\n  if (options?.page) params.append('page', String(options.page));\n  if (options?.limit) params.append('limit', String(options.limit));\n  if (options?.pinnedFirst !== undefined) params.append('pinnedFirst', String(options.pinnedFirst));\n\n  return apiClient.get(`/groups/${groupId}/posts?${params.toString()}`);\n}\n\nexport async function toggleGroupPostLike(\n  groupId: string,\n  postId: string,\n  reactionType = 'like'\n): Promise<{ liked: boolean }> {\n  return apiClient.post(`/groups/${groupId}/posts/${postId}/like`, { reactionType });\n}\n\nexport async function pinGroupPost(\n  groupId: string,\n  postId: string,\n  isPinned: boolean\n): Promise<GroupPost> {\n  return apiClient.put(`/groups/${groupId}/posts/${postId}/pin`, { isPinned });\n}\n\nexport async function deleteGroupPost(\n  groupId: string,\n  postId: string\n): Promise<{ success: boolean }> {\n  return apiClient.delete(`/groups/${groupId}/posts/${postId}`);\n}\n\n// ============================================\n// Group Chat\n// ============================================\n\nexport async function getGroupMessages(\n  groupId: string,\n  options?: {\n    before?: string;\n    limit?: number;\n  }\n): Promise<GroupMessage[]> {\n  const params = new URLSearchParams();\n  if (options?.before) params.append('before', options.before);\n  if (options?.limit) params.append('limit', String(options.limit));\n\n  return apiClient.get(`/groups/${groupId}/messages?${params.toString()}`);\n}\n\nexport async function sendGroupMessage(\n  groupId: string,\n  data: {\n    content: string;\n    contentType?: string;\n    mediaUrl?: string;\n    mediaType?: string;\n    fileName?: string;\n    fileSize?: number;\n    replyToId?: string;\n  }\n): Promise<GroupMessage> {\n  return apiClient.post(`/groups/${groupId}/messages`, data);\n}\n\nexport async function addGroupMessageReaction(\n  groupId: string,\n  messageId: string,\n  emoji: string\n): Promise<{ action: 'added' | 'updated' | 'removed' }> {\n  return apiClient.post(`/groups/${groupId}/messages/${messageId}/reactions`, { emoji });\n}\n\nexport async function deleteGroupMessage(\n  groupId: string,\n  messageId: string\n): Promise<{ success: boolean }> {\n  return apiClient.delete(`/groups/${groupId}/messages/${messageId}`);\n}\n\n// ============================================\n// Group Image Uploads\n// ============================================\n\n/**\n * Upload group icon/profile image\n */\nexport async function uploadGroupIcon(groupId: string, file: File): Promise<{ iconUrl: string }> {\n  const formData = new FormData();\n  formData.append('image', file);\n  return apiClient.post(`/groups/${groupId}/upload/icon`, formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  });\n}\n\n/**\n * Upload group cover/banner image\n */\nexport async function uploadGroupCover(groupId: string, file: File): Promise<{ coverUrl: string }> {\n  const formData = new FormData();\n  formData.append('image', file);\n  return apiClient.post(`/groups/${groupId}/upload/cover`, formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  });\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1673, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/groups/GroupChat.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport Image from 'next/image';\nimport { format, isToday, isYesterday } from 'date-fns';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Group, GroupMessage, GroupUser, getGroupMessages } from '@/lib/api/groups';\nimport { getSocket, initializeSocket } from '@/lib/socket';\nimport { useAuth } from '@/lib/auth/useAuth';\nimport { cn } from '@/lib/utils';\n\ninterface GroupChatProps {\n  group: Group;\n}\n\nexport default function GroupChat({ group }: GroupChatProps) {\n  const { user } = useAuth();\n  const [messages, setMessages] = useState<GroupMessage[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState('');\n  const [typingUsers, setTypingUsers] = useState<GroupUser[]>([]);\n  const [onlineCount, setOnlineCount] = useState(0);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const typingTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const [isTyping, setIsTyping] = useState(false);\n\n  // Scroll to bottom\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  // Fetch messages\n  useEffect(() => {\n    const fetchMessages = async () => {\n      try {\n        setLoading(true);\n        const data = await getGroupMessages(group.id);\n        setMessages(data);\n        setTimeout(scrollToBottom, 100);\n      } catch (error) {\n        console.error('Failed to fetch messages:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchMessages();\n  }, [group.id]);\n\n  // Setup socket\n  useEffect(() => {\n    initializeSocket();\n    const socket = getSocket();\n    if (!socket) return;\n\n    // Join group chat room\n    socket.emit('group:join', { groupId: group.id });\n\n    // Listen for new messages\n    socket.on('group:new_message', (newMessage: GroupMessage) => {\n      setMessages(prev => [...prev, newMessage]);\n      scrollToBottom();\n    });\n\n    // Listen for typing indicators\n    socket.on('group:user_typing', (data: { groupId: string; user: GroupUser; isTyping: boolean }) => {\n      if (data.groupId !== group.id || data.user.id === user?.id) return;\n      \n      setTypingUsers(prev => {\n        if (data.isTyping) {\n          if (!prev.find(u => u.id === data.user.id)) {\n            return [...prev, data.user];\n          }\n        } else {\n          return prev.filter(u => u.id !== data.user.id);\n        }\n        return prev;\n      });\n    });\n\n    // Listen for online count\n    socket.on('group:online_count', (data: { groupId: string; count: number }) => {\n      if (data.groupId === group.id) {\n        setOnlineCount(data.count);\n      }\n    });\n\n    socket.on('group:user_joined', (data: { groupId: string; onlineCount: number }) => {\n      if (data.groupId === group.id) {\n        setOnlineCount(data.onlineCount);\n      }\n    });\n\n    socket.on('group:user_left', (data: { groupId: string; onlineCount: number }) => {\n      if (data.groupId === group.id) {\n        setOnlineCount(data.onlineCount);\n      }\n    });\n\n    // Listen for message deletions\n    socket.on('group:message_deleted', (data: { groupId: string; messageId: string }) => {\n      if (data.groupId === group.id) {\n        setMessages(prev => prev.filter(m => m.id !== data.messageId));\n      }\n    });\n\n    // Cleanup\n    return () => {\n      socket.emit('group:leave', { groupId: group.id });\n      socket.off('group:new_message');\n      socket.off('group:user_typing');\n      socket.off('group:online_count');\n      socket.off('group:user_joined');\n      socket.off('group:user_left');\n      socket.off('group:message_deleted');\n    };\n  }, [group.id, user?.id]);\n\n  // Handle typing indicator\n  const handleTyping = useCallback(() => {\n    const socket = getSocket();\n    if (!socket) return;\n\n    if (!isTyping) {\n      setIsTyping(true);\n      socket.emit('group:typing', { groupId: group.id, isTyping: true });\n    }\n\n    if (typingTimeoutRef.current) {\n      clearTimeout(typingTimeoutRef.current);\n    }\n\n    typingTimeoutRef.current = setTimeout(() => {\n      setIsTyping(false);\n      socket.emit('group:typing', { groupId: group.id, isTyping: false });\n    }, 2000);\n  }, [group.id, isTyping]);\n\n  // Send message\n  const handleSend = () => {\n    if (!message.trim()) return;\n\n    const socket = getSocket();\n    if (!socket) return;\n\n    socket.emit('group:message', {\n      groupId: group.id,\n      content: message.trim(),\n      tempId: `temp-${Date.now()}`,\n    });\n\n    setMessage('');\n    \n    // Stop typing indicator\n    if (typingTimeoutRef.current) {\n      clearTimeout(typingTimeoutRef.current);\n    }\n    setIsTyping(false);\n    socket.emit('group:typing', { groupId: group.id, isTyping: false });\n  };\n\n  // Format message time\n  const formatMessageTime = (dateStr: string) => {\n    const date = new Date(dateStr);\n    return format(date, 'HH:mm');\n  };\n\n  // Group messages by date\n  const groupedMessages = messages.reduce((acc, msg) => {\n    const date = new Date(msg.createdAt);\n    let dateLabel = format(date, 'MMMM d, yyyy');\n    if (isToday(date)) dateLabel = 'Today';\n    else if (isYesterday(date)) dateLabel = 'Yesterday';\n    \n    if (!acc[dateLabel]) acc[dateLabel] = [];\n    acc[dateLabel].push(msg);\n    return acc;\n  }, {} as Record<string, GroupMessage[]>);\n\n  if (loading) {\n    return (\n      <div className=\"flex-1 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-full bg-gray-50 dark:bg-gray-900\">\n      {/* Header */}\n      <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 rounded-xl overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold\">\n            {group.iconImage ? (\n              <Image src={group.iconImage} alt={group.name} width={40} height={40} className=\"object-cover\" />\n            ) : (\n              group.name.charAt(0).toUpperCase()\n            )}\n          </div>\n          <div>\n            <h2 className=\"font-semibold text-gray-900 dark:text-white\">{group.name}</h2>\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n              {onlineCount} online ‚Ä¢ {group.memberCount} members\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Messages */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n        {Object.entries(groupedMessages).map(([date, msgs]) => (\n          <div key={date}>\n            {/* Date divider */}\n            <div className=\"flex items-center justify-center my-4\">\n              <span className=\"px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 text-xs rounded-full\">\n                {date}\n              </span>\n            </div>\n\n            {/* Messages for this date */}\n            {msgs.map((msg, index) => {\n              const isOwn = msg.senderId === user?.id;\n              const showAvatar = !isOwn && (index === 0 || msgs[index - 1]?.senderId !== msg.senderId);\n\n              return (\n                <motion.div\n                  key={msg.id}\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  className={cn(\"flex gap-2 mb-2\", isOwn ? \"justify-end\" : \"justify-start\")}\n                >\n                  {/* Avatar */}\n                  {!isOwn && (\n                    <div className={cn(\"w-8 h-8 flex-shrink-0\", !showAvatar && \"invisible\")}>\n                      {msg.sender.profileImage ? (\n                        <Image\n                          src={msg.sender.profileImage}\n                          alt={msg.sender.name}\n                          width={32}\n                          height={32}\n                          className=\"rounded-full object-cover\"\n                        />\n                      ) : (\n                        <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-medium\">\n                          {msg.sender.name.charAt(0).toUpperCase()}\n                        </div>\n                      )}\n                    </div>\n                  )}\n\n                  {/* Message */}\n                  <div className={cn(\"max-w-[70%]\", isOwn ? \"text-right\" : \"text-left\")}>\n                    {/* Sender name */}\n                    {!isOwn && showAvatar && (\n                      <span className=\"text-xs text-gray-500 dark:text-gray-400 ml-1 mb-1 block\">\n                        {msg.sender.name}\n                      </span>\n                    )}\n                    \n                    <div\n                      className={cn(\n                        \"inline-block px-4 py-2 rounded-2xl\",\n                        isOwn\n                          ? \"bg-blue-600 text-white rounded-br-md\"\n                          : \"bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded-bl-md shadow-sm\"\n                      )}\n                    >\n                      {/* Media */}\n                      {msg.mediaUrl && (\n                        <div className=\"mb-2\">\n                          {msg.contentType === 'image' ? (\n                            <Image\n                              src={msg.mediaUrl}\n                              alt=\"Image\"\n                              width={200}\n                              height={200}\n                              className=\"rounded-lg max-w-full\"\n                            />\n                          ) : msg.contentType === 'video' ? (\n                            <video src={msg.mediaUrl} controls className=\"rounded-lg max-w-full\" />\n                          ) : (\n                            <a\n                              href={msg.mediaUrl}\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              className=\"flex items-center gap-2 text-blue-400 hover:underline\"\n                            >\n                              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\n                              </svg>\n                              {msg.fileName || 'Attachment'}\n                            </a>\n                          )}\n                        </div>\n                      )}\n\n                      {/* Text content */}\n                      {msg.content && (\n                        <p className=\"whitespace-pre-wrap break-words\">{msg.content}</p>\n                      )}\n                      \n                      {/* Time */}\n                      <span className={cn(\n                        \"text-xs mt-1 block\",\n                        isOwn ? \"text-blue-200\" : \"text-gray-400\"\n                      )}>\n                        {formatMessageTime(msg.createdAt)}\n                      </span>\n                    </div>\n                  </div>\n                </motion.div>\n              );\n            })}\n          </div>\n        ))}\n\n        {/* Typing indicator */}\n        <AnimatePresence>\n          {typingUsers.length > 0 && (\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -10 }}\n              className=\"flex items-center gap-2 text-gray-500 dark:text-gray-400 text-sm\"\n            >\n              <div className=\"flex -space-x-2\">\n                {typingUsers.slice(0, 3).map((u) => (\n                  <div key={u.id} className=\"w-6 h-6 rounded-full bg-gray-300 dark:bg-gray-600 border-2 border-white dark:border-gray-900 overflow-hidden\">\n                    {u.profileImage ? (\n                      <Image src={u.profileImage} alt={u.name} width={24} height={24} className=\"object-cover\" />\n                    ) : (\n                      <div className=\"w-full h-full flex items-center justify-center text-xs\">\n                        {u.name.charAt(0)}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n              <span>\n                {typingUsers.length === 1\n                  ? `${typingUsers[0].name} is typing...`\n                  : `${typingUsers.length} people are typing...`}\n              </span>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Input */}\n      <div className=\"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4\">\n        <div className=\"flex items-center gap-3\">\n          <button className=\"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors\">\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\n            </svg>\n          </button>\n          \n          <input\n            type=\"text\"\n            value={message}\n            onChange={(e) => {\n              setMessage(e.target.value);\n              handleTyping();\n            }}\n            onKeyDown={(e) => {\n              if (e.key === 'Enter' && !e.shiftKey) {\n                e.preventDefault();\n                handleSend();\n              }\n            }}\n            placeholder=\"Type a message...\"\n            className=\"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-900 rounded-full border-0 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500\"\n          />\n          \n          <button\n            onClick={handleSend}\n            disabled={!message.trim()}\n            className=\"p-2.5 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["useState","useEffect","useRef","useCallback","Image","format","isToday","isYesterday","motion","AnimatePresence","Group","GroupMessage","GroupUser","getGroupMessages","getSocket","initializeSocket","useAuth","cn","GroupChatProps","group","GroupChat","user","messages","setMessages","loading","setLoading","message","setMessage","typingUsers","setTypingUsers","onlineCount","setOnlineCount","messagesEndRef","HTMLDivElement","typingTimeoutRef","NodeJS","Timeout","isTyping","setIsTyping","scrollToBottom","current","scrollIntoView","behavior","fetchMessages","data","id","setTimeout","error","console","socket","emit","groupId","on","newMessage","prev","find","u","filter","count","messageId","m","off","handleTyping","clearTimeout","handleSend","trim","content","tempId","Date","now","formatMessageTime","dateStr","date","groupedMessages","reduce","acc","msg","createdAt","dateLabel","push","Record","iconImage","name","charAt","toUpperCase","memberCount","Object","entries","map","msgs","index","isOwn","senderId","showAvatar","opacity","y","sender","profileImage","mediaUrl","contentType","fileName","length","slice","e","target","value","key","shiftKey","preventDefault"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2351, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/groups/CreateGroupModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { createGroup, GroupPrivacy } from '@/lib/api/groups';\n\ninterface CreateGroupModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nconst CATEGORIES = [\n  'Technology',\n  'Career',\n  'Education',\n  'Business',\n  'Design',\n  'Marketing',\n  'Finance',\n  'Health',\n  'Sports',\n  'Entertainment',\n  'Other',\n];\n\nexport default function CreateGroupModal({ isOpen, onClose, onSuccess }: CreateGroupModalProps) {\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [privacy, setPrivacy] = useState<GroupPrivacy>('PUBLIC');\n  const [category, setCategory] = useState('');\n  const [rules, setRules] = useState<string[]>(['']);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleAddRule = () => {\n    setRules([...rules, '']);\n  };\n\n  const handleRemoveRule = (index: number) => {\n    setRules(rules.filter((_, i) => i !== index));\n  };\n\n  const handleRuleChange = (index: number, value: string) => {\n    const newRules = [...rules];\n    newRules[index] = value;\n    setRules(newRules);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n\n    if (!name.trim() || name.trim().length < 3) {\n      setError('Group name must be at least 3 characters');\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      await createGroup({\n        name: name.trim(),\n        description: description.trim() || undefined,\n        privacy,\n        category: category || undefined,\n        rules: rules.filter(r => r.trim()),\n      });\n\n      // Reset form\n      setName('');\n      setDescription('');\n      setPrivacy('PUBLIC');\n      setCategory('');\n      setRules(['']);\n\n      onSuccess();\n      onClose();\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to create group');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\"\n        onClick={onClose}\n      >\n        <motion.div\n          initial={{ scale: 0.95, opacity: 0 }}\n          animate={{ scale: 1, opacity: 1 }}\n          exit={{ scale: 0.95, opacity: 0 }}\n          className=\"w-full max-w-lg bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-h-[90vh] overflow-y-auto\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Header */}\n          <div className=\"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between\">\n            <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n              Create Group\n            </h2>\n            <button\n              onClick={onClose}\n              className=\"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          {/* Form */}\n          <form onSubmit={handleSubmit} className=\"p-6 space-y-5\">\n            {error && (\n              <div className=\"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-lg\">\n                {error}\n              </div>\n            )}\n\n            {/* Name */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Group Name <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                placeholder=\"Enter group name\"\n                className=\"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500\"\n                maxLength={100}\n              />\n            </div>\n\n            {/* Description */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Description\n              </label>\n              <textarea\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                placeholder=\"What is this group about?\"\n                rows={3}\n                className=\"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 resize-none\"\n                maxLength={500}\n              />\n            </div>\n\n            {/* Privacy */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Privacy\n              </label>\n              <div className=\"grid grid-cols-3 gap-3\">\n                {[\n                  { value: 'PUBLIC', label: 'Public', desc: 'Anyone can join' },\n                  { value: 'PRIVATE', label: 'Private', desc: 'Request to join' },\n                  { value: 'SECRET', label: 'Secret', desc: 'Invite only' },\n                ].map((option) => (\n                  <button\n                    key={option.value}\n                    type=\"button\"\n                    onClick={() => setPrivacy(option.value as GroupPrivacy)}\n                    className={`p-3 rounded-lg border-2 text-left transition-colors ${\n                      privacy === option.value\n                        ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                    }`}\n                  >\n                    <span className={`block text-sm font-medium ${\n                      privacy === option.value ? 'text-blue-600 dark:text-blue-400' : 'text-gray-900 dark:text-white'\n                    }`}>\n                      {option.label}\n                    </span>\n                    <span className=\"block text-xs text-gray-500 dark:text-gray-400 mt-0.5\">\n                      {option.desc}\n                    </span>\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Category */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Category\n              </label>\n              <select\n                value={category}\n                onChange={(e) => setCategory(e.target.value)}\n                className=\"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white\"\n              >\n                <option value=\"\">Select a category</option>\n                {CATEGORIES.map((cat) => (\n                  <option key={cat} value={cat}>{cat}</option>\n                ))}\n              </select>\n            </div>\n\n            {/* Rules */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Group Rules\n              </label>\n              <div className=\"space-y-2\">\n                {rules.map((rule, index) => (\n                  <div key={index} className=\"flex items-center gap-2\">\n                    <span className=\"text-sm text-gray-500 dark:text-gray-400 w-6\">{index + 1}.</span>\n                    <input\n                      type=\"text\"\n                      value={rule}\n                      onChange={(e) => handleRuleChange(index, e.target.value)}\n                      placeholder=\"Enter a rule\"\n                      className=\"flex-1 px-3 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 text-sm\"\n                    />\n                    {rules.length > 1 && (\n                      <button\n                        type=\"button\"\n                        onClick={() => handleRemoveRule(index)}\n                        className=\"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors\"\n                      >\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                        </svg>\n                      </button>\n                    )}\n                  </div>\n                ))}\n                {rules.length < 10 && (\n                  <button\n                    type=\"button\"\n                    onClick={handleAddRule}\n                    className=\"flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:underline\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                    Add Rule\n                  </button>\n                )}\n              </div>\n            </div>\n\n            {/* Submit */}\n            <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\n              <button\n                type=\"submit\"\n                disabled={isSubmitting || !name.trim()}\n                className=\"w-full px-4 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                {isSubmitting ? (\n                  <span className=\"flex items-center justify-center gap-2\">\n                    <svg className=\"w-5 h-5 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\" />\n                    </svg>\n                    Creating...\n                  </span>\n                ) : (\n                  'Create Group'\n                )}\n              </button>\n            </div>\n          </form>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n"],"names":["useState","motion","AnimatePresence","createGroup","GroupPrivacy","CreateGroupModalProps","isOpen","onClose","onSuccess","CATEGORIES","CreateGroupModal","name","setName","description","setDescription","privacy","setPrivacy","category","setCategory","rules","setRules","isSubmitting","setIsSubmitting","error","setError","handleAddRule","handleRemoveRule","index","filter","_","i","handleRuleChange","value","newRules","handleSubmit","e","React","FormEvent","preventDefault","trim","length","undefined","r","err","response","data","opacity","scale","stopPropagation","target","label","desc","map","option","cat","rule"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2909, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/ui/Button.tsx"],"sourcesContent":["import React from 'react';\nimport { cn } from '@/lib/utils';\n\nexport interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';\n  size?: 'default' | 'icon';\n  isLoading?: boolean;\n}\n\nexport function Button({\n  children,\n  variant = 'primary',\n  size = 'default',\n  isLoading = false,\n  disabled,\n  className = '',\n  ...props\n}: ButtonProps) {\n  const baseClasses = 'inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none';\n  \n  const variantClasses = {\n    primary: 'bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600',\n    secondary: 'bg-gray-600 text-white hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-600',\n    outline: 'border border-gray-300 text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800',\n    ghost: 'hover:bg-gray-100 dark:hover:bg-gray-800',\n  };\n\n  const sizeClasses = {\n    default: 'px-4 py-2',\n    icon: 'h-9 w-9',\n  };\n\n  return (\n    <button\n      className={cn(baseClasses, variantClasses[variant], sizeClasses[size], className)}\n      disabled={disabled || isLoading}\n      {...props}\n    >\n      {isLoading ? 'Loading...' : children}\n    </button>\n  );\n}\n\n"],"names":["React","cn","ButtonProps","ButtonHTMLAttributes","HTMLButtonElement","variant","size","isLoading","Button","t0","$","_c","$i","Symbol","for","children","disabled","props","t1","t2","t3","t4","className","undefined","t5","variantClasses","primary","secondary","outline","ghost","sizeClasses","default","icon","t6","t7","t8"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3011, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/profile/ImageCropper.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useCallback, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { X, ZoomIn, ZoomOut, RotateCw, Check, RefreshCw } from 'lucide-react';\n\ninterface ImageCropperProps {\n  imageSrc: string;\n  aspectRatio: number; // width/height ratio (1 for avatar, 4 for banner)\n  onCropComplete: (croppedBlob: Blob) => void;\n  onCancel: () => void;\n  cropShape?: 'circle' | 'rectangle';\n  minWidth?: number;\n  minHeight?: number;\n}\n\ninterface CropArea {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\nexport default function ImageCropper({\n  imageSrc,\n  aspectRatio,\n  onCropComplete,\n  onCancel,\n  cropShape = 'rectangle',\n  minWidth = 100,\n  minHeight = 100\n}: ImageCropperProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const imageRef = useRef<HTMLImageElement>(null);\n  \n  const [zoom, setZoom] = useState(1);\n  const [rotation, setRotation] = useState(0);\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [imageLoaded, setImageLoaded] = useState(false);\n\n  const handleZoomIn = () => {\n    setZoom((prev) => Math.min(prev + 0.1, 3));\n  };\n\n  const handleZoomOut = () => {\n    setZoom((prev) => Math.max(prev - 0.1, 0.5));\n  };\n\n  const handleRotate = () => {\n    setRotation((prev) => (prev + 90) % 360);\n  };\n\n  const handleReset = () => {\n    setZoom(1);\n    setRotation(0);\n    setPosition({ x: 0, y: 0 });\n  };\n\n  const handleMouseDown = (e: React.MouseEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n    setDragStart({\n      x: e.clientX - position.x,\n      y: e.clientY - position.y\n    });\n  };\n\n  const handleMouseMove = useCallback((e: React.MouseEvent) => {\n    if (!isDragging) return;\n    \n    const newX = e.clientX - dragStart.x;\n    const newY = e.clientY - dragStart.y;\n    \n    // Constrain movement within reasonable bounds\n    const maxOffset = 200 * zoom;\n    setPosition({\n      x: Math.max(-maxOffset, Math.min(maxOffset, newX)),\n      y: Math.max(-maxOffset, Math.min(maxOffset, newY))\n    });\n  }, [isDragging, dragStart, zoom]);\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  const handleTouchStart = (e: React.TouchEvent) => {\n    if (e.touches.length === 1) {\n      const touch = e.touches[0];\n      setIsDragging(true);\n      setDragStart({\n        x: touch.clientX - position.x,\n        y: touch.clientY - position.y\n      });\n    }\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    if (!isDragging || e.touches.length !== 1) return;\n    \n    const touch = e.touches[0];\n    const newX = touch.clientX - dragStart.x;\n    const newY = touch.clientY - dragStart.y;\n    \n    const maxOffset = 200 * zoom;\n    setPosition({\n      x: Math.max(-maxOffset, Math.min(maxOffset, newX)),\n      y: Math.max(-maxOffset, Math.min(maxOffset, newY))\n    });\n  };\n\n  const handleTouchEnd = () => {\n    setIsDragging(false);\n  };\n\n  const handleCrop = async () => {\n    if (!imageRef.current || isProcessing) return;\n    \n    setIsProcessing(true);\n    \n    try {\n      const image = imageRef.current;\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n      \n      if (!ctx) {\n        throw new Error('Could not get canvas context');\n      }\n\n      // Calculate output dimensions based on aspect ratio\n      const outputWidth = aspectRatio >= 1 ? 800 : 400;\n      const outputHeight = outputWidth / aspectRatio;\n      \n      canvas.width = outputWidth;\n      canvas.height = outputHeight;\n\n      // Clear canvas\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      \n      // Apply circular mask for avatar\n      if (cropShape === 'circle') {\n        ctx.beginPath();\n        ctx.arc(outputWidth / 2, outputHeight / 2, outputWidth / 2, 0, Math.PI * 2);\n        ctx.clip();\n      }\n\n      // Calculate the crop area based on zoom and position\n      const containerSize = Math.min(containerRef.current?.clientWidth || 400, containerRef.current?.clientHeight || 400);\n      const cropSize = aspectRatio >= 1 \n        ? { width: containerSize * 0.8, height: (containerSize * 0.8) / aspectRatio }\n        : { width: (containerSize * 0.8) * aspectRatio, height: containerSize * 0.8 };\n\n      // Save context state\n      ctx.save();\n      \n      // Move to center of canvas\n      ctx.translate(outputWidth / 2, outputHeight / 2);\n      \n      // Apply rotation\n      ctx.rotate((rotation * Math.PI) / 180);\n      \n      // Calculate source dimensions\n      const naturalWidth = image.naturalWidth;\n      const naturalHeight = image.naturalHeight;\n      \n      // Calculate the visible portion of the image\n      const scaleX = naturalWidth / (image.width * zoom);\n      const scaleY = naturalHeight / (image.height * zoom);\n      \n      // Calculate source crop area\n      const srcX = (naturalWidth / 2) - (position.x * scaleX);\n      const srcY = (naturalHeight / 2) - (position.y * scaleY);\n      \n      // Draw the image\n      ctx.drawImage(\n        image,\n        -outputWidth / 2,\n        -outputHeight / 2,\n        outputWidth,\n        outputHeight\n      );\n      \n      // Restore context\n      ctx.restore();\n      \n      // Actually crop properly by redrawing with transforms\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      \n      if (cropShape === 'circle') {\n        ctx.beginPath();\n        ctx.arc(outputWidth / 2, outputHeight / 2, outputWidth / 2, 0, Math.PI * 2);\n        ctx.clip();\n      }\n      \n      // Center the context\n      ctx.translate(outputWidth / 2, outputHeight / 2);\n      ctx.rotate((rotation * Math.PI) / 180);\n      ctx.scale(zoom, zoom);\n      ctx.translate(position.x / zoom, position.y / zoom);\n      \n      // Draw image centered\n      const scale = Math.max(outputWidth / naturalWidth, outputHeight / naturalHeight);\n      const scaledWidth = naturalWidth * scale;\n      const scaledHeight = naturalHeight * scale;\n      \n      ctx.drawImage(\n        image,\n        -scaledWidth / 2,\n        -scaledHeight / 2,\n        scaledWidth,\n        scaledHeight\n      );\n\n      // Convert to blob\n      canvas.toBlob(\n        (blob) => {\n          if (blob) {\n            onCropComplete(blob);\n          } else {\n            throw new Error('Failed to create image blob');\n          }\n        },\n        'image/jpeg',\n        0.95\n      );\n    } catch (error) {\n      console.error('Crop error:', error);\n      setIsProcessing(false);\n    }\n  };\n\n  const handleImageLoad = () => {\n    setImageLoaded(true);\n  };\n\n  // Calculate crop area dimensions\n  const getCropAreaStyle = (): React.CSSProperties => {\n    const size = 280;\n    const width = aspectRatio >= 1 ? size : size * aspectRatio;\n    const height = aspectRatio >= 1 ? size / aspectRatio : size;\n    \n    return {\n      width: `${width}px`,\n      height: `${height}px`,\n      borderRadius: cropShape === 'circle' ? '50%' : '8px',\n    };\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black/90\"\n    >\n      <div className=\"relative w-full max-w-2xl mx-4\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold text-white\">\n            Crop Image\n          </h3>\n          <button\n            onClick={onCancel}\n            className=\"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Crop Area */}\n        <div\n          ref={containerRef}\n          className=\"relative w-full aspect-square bg-gray-900 rounded-xl overflow-hidden cursor-move select-none\"\n          onMouseDown={handleMouseDown}\n          onMouseMove={handleMouseMove}\n          onMouseUp={handleMouseUp}\n          onMouseLeave={handleMouseUp}\n          onTouchStart={handleTouchStart}\n          onTouchMove={handleTouchMove}\n          onTouchEnd={handleTouchEnd}\n        >\n          {/* Image */}\n          <div\n            className=\"absolute inset-0 flex items-center justify-center\"\n            style={{\n              transform: `translate(${position.x}px, ${position.y}px) scale(${zoom}) rotate(${rotation}deg)`,\n              transition: isDragging ? 'none' : 'transform 0.1s ease-out',\n            }}\n          >\n            <img\n              ref={imageRef}\n              src={imageSrc}\n              alt=\"Crop preview\"\n              className=\"max-w-none\"\n              style={{\n                maxWidth: '100%',\n                maxHeight: '100%',\n                objectFit: 'contain',\n              }}\n              onLoad={handleImageLoad}\n              draggable={false}\n            />\n          </div>\n\n          {/* Overlay with crop window */}\n          <div className=\"absolute inset-0 pointer-events-none\">\n            {/* Dark overlay */}\n            <div className=\"absolute inset-0 bg-black/60\" />\n            \n            {/* Transparent crop area */}\n            <div\n              className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 border-2 border-white shadow-lg\"\n              style={{\n                ...getCropAreaStyle(),\n                boxShadow: '0 0 0 9999px rgba(0, 0, 0, 0.6)',\n              }}\n            >\n              {/* Corner indicators */}\n              <div className=\"absolute -left-1 -top-1 w-4 h-4 border-l-2 border-t-2 border-white\" />\n              <div className=\"absolute -right-1 -top-1 w-4 h-4 border-r-2 border-t-2 border-white\" />\n              <div className=\"absolute -left-1 -bottom-1 w-4 h-4 border-l-2 border-b-2 border-white\" />\n              <div className=\"absolute -right-1 -bottom-1 w-4 h-4 border-r-2 border-b-2 border-white\" />\n            </div>\n          </div>\n\n          {/* Loading indicator */}\n          {!imageLoaded && (\n            <div className=\"absolute inset-0 flex items-center justify-center bg-gray-900\">\n              <div className=\"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\" />\n            </div>\n          )}\n        </div>\n\n        {/* Controls */}\n        <div className=\"flex items-center justify-between mt-4 px-2\">\n          {/* Zoom controls */}\n          <div className=\"flex items-center gap-3\">\n            <button\n              onClick={handleZoomOut}\n              disabled={zoom <= 0.5}\n              className=\"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <ZoomOut className=\"w-5 h-5\" />\n            </button>\n            \n            <div className=\"flex items-center gap-2\">\n              <input\n                type=\"range\"\n                min=\"0.5\"\n                max=\"3\"\n                step=\"0.1\"\n                value={zoom}\n                onChange={(e) => setZoom(parseFloat(e.target.value))}\n                className=\"w-32 h-1 bg-gray-700 rounded-full appearance-none cursor-pointer\n                  [&::-webkit-slider-thumb]:appearance-none\n                  [&::-webkit-slider-thumb]:w-4\n                  [&::-webkit-slider-thumb]:h-4\n                  [&::-webkit-slider-thumb]:bg-white\n                  [&::-webkit-slider-thumb]:rounded-full\n                  [&::-webkit-slider-thumb]:cursor-pointer\n                  [&::-webkit-slider-thumb]:shadow-md\"\n              />\n              <span className=\"text-sm text-gray-400 w-12 text-center\">\n                {Math.round(zoom * 100)}%\n              </span>\n            </div>\n            \n            <button\n              onClick={handleZoomIn}\n              disabled={zoom >= 3}\n              className=\"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <ZoomIn className=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          {/* Rotate & Reset */}\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={handleRotate}\n              className=\"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors\"\n              title=\"Rotate 90¬∞\"\n            >\n              <RotateCw className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={handleReset}\n              className=\"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors\"\n              title=\"Reset\"\n            >\n              <RefreshCw className=\"w-5 h-5\" />\n            </button>\n          </div>\n        </div>\n\n        {/* Action buttons */}\n        <div className=\"flex items-center justify-end gap-3 mt-6\">\n          <button\n            onClick={onCancel}\n            className=\"px-4 py-2 text-gray-300 hover:text-white rounded-lg hover:bg-white/10 transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleCrop}\n            disabled={isProcessing || !imageLoaded}\n            className=\"flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {isProcessing ? (\n              <>\n                <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                Processing...\n              </>\n            ) : (\n              <>\n                <Check className=\"w-4 h-4\" />\n                Apply\n              </>\n            )}\n          </button>\n        </div>\n\n        {/* Instructions */}\n        <p className=\"text-center text-sm text-gray-500 mt-4\">\n          Drag to reposition ‚Ä¢ Scroll or use slider to zoom ‚Ä¢ Click rotate to adjust orientation\n        </p>\n      </div>\n    </motion.div>\n  );\n}\n"],"names":["React","useState","useCallback","useRef","motion","AnimatePresence","X","ZoomIn","ZoomOut","RotateCw","Check","RefreshCw","ImageCropperProps","imageSrc","aspectRatio","onCropComplete","croppedBlob","Blob","onCancel","cropShape","minWidth","minHeight","CropArea","x","y","width","height","ImageCropper","containerRef","HTMLDivElement","imageRef","HTMLImageElement","zoom","setZoom","rotation","setRotation","position","setPosition","isDragging","setIsDragging","dragStart","setDragStart","isProcessing","setIsProcessing","imageLoaded","setImageLoaded","handleZoomIn","prev","Math","min","handleZoomOut","max","handleRotate","handleReset","handleMouseDown","e","MouseEvent","preventDefault","clientX","clientY","handleMouseMove","newX","newY","maxOffset","handleMouseUp","handleTouchStart","TouchEvent","touches","length","touch","handleTouchMove","handleTouchEnd","handleCrop","current","image","canvas","document","createElement","ctx","getContext","Error","outputWidth","outputHeight","clearRect","beginPath","arc","PI","clip","containerSize","clientWidth","clientHeight","cropSize","save","translate","rotate","naturalWidth","naturalHeight","scaleX","scaleY","srcX","srcY","drawImage","restore","scale","scaledWidth","scaledHeight","toBlob","blob","error","console","handleImageLoad","getCropAreaStyle","CSSProperties","size","borderRadius","opacity","transform","transition","maxWidth","maxHeight","objectFit","boxShadow","parseFloat","target","value","round"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3578, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/groups/GroupImageUploadModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport * as Dialog from '@radix-ui/react-dialog';\nimport {\n  X,\n  Upload,\n  Image as ImageIcon,\n  Loader2,\n  Crop,\n} from 'lucide-react';\nimport { Button } from '@/components/ui/Button';\nimport { uploadGroupIcon, uploadGroupCover } from '@/lib/api/groups';\nimport ImageCropper from '@/components/profile/ImageCropper';\n\ninterface GroupImageUploadModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  type: 'icon' | 'cover';\n  groupId: string;\n  currentImageUrl?: string | null;\n  onImageUpdated: (imageUrl: string) => void;\n}\n\nexport function GroupImageUploadModal({\n  isOpen,\n  onClose,\n  type,\n  groupId,\n  currentImageUrl,\n  onImageUpdated,\n}: GroupImageUploadModalProps) {\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [croppedFile, setCroppedFile] = useState<File | null>(null);\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n  const [rawImageUrl, setRawImageUrl] = useState<string | null>(null);\n  const [showCropper, setShowCropper] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [dragActive, setDragActive] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const isIcon = type === 'icon';\n  const title = isIcon ? 'Update Group Icon' : 'Update Group Cover';\n  const aspectRatio = isIcon ? 'aspect-square' : 'aspect-[4/1]';\n  const cropAspectRatio = isIcon ? 1 : 4; // 1:1 for icon, 4:1 for cover\n  const maxSize = isIcon ? 5 : 10; // MB\n\n  const handleFileSelect = useCallback((file: File) => {\n    // Validate file type\n    if (!file.type.startsWith('image/')) {\n      setError('Please select an image file');\n      return;\n    }\n\n    // Validate file size\n    const sizeMB = file.size / (1024 * 1024);\n    if (sizeMB > maxSize) {\n      setError(`Image must be less than ${maxSize}MB`);\n      return;\n    }\n\n    setError(null);\n    setSelectedFile(file);\n\n    // Create preview for cropper\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      setRawImageUrl(e.target?.result as string);\n      setShowCropper(true);\n    };\n    reader.readAsDataURL(file);\n  }, [maxSize]);\n\n  const handleCropComplete = useCallback((croppedBlob: Blob) => {\n    // Convert blob to file\n    const croppedFile = new File(\n      [croppedBlob],\n      selectedFile?.name || 'cropped-image.jpg',\n      { type: 'image/jpeg' }\n    );\n    \n    setCroppedFile(croppedFile);\n    \n    // Create preview URL from cropped blob\n    const url = URL.createObjectURL(croppedBlob);\n    setPreviewUrl(url);\n    setShowCropper(false);\n  }, [selectedFile]);\n\n  const handleCropCancel = useCallback(() => {\n    setShowCropper(false);\n    setRawImageUrl(null);\n    setSelectedFile(null);\n  }, []);\n\n  const handleReCrop = useCallback(() => {\n    if (rawImageUrl) {\n      setShowCropper(true);\n    }\n  }, [rawImageUrl]);\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setDragActive(false);\n\n    const file = e.dataTransfer.files[0];\n    if (file) {\n      handleFileSelect(file);\n    }\n  }, [handleFileSelect]);\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setDragActive(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setDragActive(false);\n  }, []);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      handleFileSelect(file);\n    }\n  };\n\n  const handleUpload = async () => {\n    const fileToUpload = croppedFile || selectedFile;\n    if (!fileToUpload) return;\n\n    setUploading(true);\n    setError(null);\n\n    try {\n      let imageUrl: string;\n      \n      if (isIcon) {\n        const result = await uploadGroupIcon(groupId, fileToUpload);\n        imageUrl = result.iconUrl;\n      } else {\n        const result = await uploadGroupCover(groupId, fileToUpload);\n        imageUrl = result.coverUrl;\n      }\n\n      onImageUpdated(imageUrl);\n      handleClose();\n    } catch (err: any) {\n      console.error('Upload error:', err);\n      setError(err.response?.data?.error || err.message || 'Failed to upload image');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleClose = () => {\n    setSelectedFile(null);\n    setCroppedFile(null);\n    setPreviewUrl(null);\n    setRawImageUrl(null);\n    setShowCropper(false);\n    setError(null);\n    setDragActive(false);\n    onClose();\n  };\n\n  const clearSelection = () => {\n    setSelectedFile(null);\n    setCroppedFile(null);\n    setPreviewUrl(null);\n    setRawImageUrl(null);\n    setError(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  return (\n    <>\n      {/* Image Cropper */}\n      <AnimatePresence>\n        {showCropper && rawImageUrl && (\n          <ImageCropper\n            imageSrc={rawImageUrl}\n            aspectRatio={cropAspectRatio}\n            onCropComplete={handleCropComplete}\n            onCancel={handleCropCancel}\n            cropShape={isIcon ? 'rectangle' : 'rectangle'}\n          />\n        )}\n      </AnimatePresence>\n\n      <Dialog.Root open={isOpen && !showCropper} onOpenChange={handleClose}>\n        <Dialog.Portal>\n          <AnimatePresence>\n            {isOpen && !showCropper && (\n              <>\n                <Dialog.Overlay asChild>\n                  <motion.div\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    exit={{ opacity: 0 }}\n                    className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50\"\n                  />\n                </Dialog.Overlay>\n\n                <Dialog.Content asChild>\n                  <motion.div\n                    initial={{ opacity: 0, scale: 0.95, y: 20 }}\n                    animate={{ opacity: 1, scale: 1, y: 0 }}\n                    exit={{ opacity: 0, scale: 0.95, y: 20 }}\n                    className=\"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-lg bg-white dark:bg-gray-900 rounded-2xl shadow-2xl z-50 overflow-hidden\"\n                  >\n                    {/* Header */}\n                    <div className=\"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700\">\n                      <Dialog.Title className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                        {title}\n                      </Dialog.Title>\n                      <Dialog.Close asChild>\n                        <button\n                          className=\"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\n                          aria-label=\"Close\"\n                        >\n                          <X className=\"w-5 h-5\" />\n                        </button>\n                      </Dialog.Close>\n                    </div>\n\n                    {/* Content */}\n                    <div className=\"p-6\">\n                      {/* Error Message */}\n                      {error && (\n                        <div className=\"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-lg\">\n                          {error}\n                        </div>\n                      )}\n\n                      {/* Preview or Upload Area */}\n                      {previewUrl ? (\n                        <div className=\"space-y-4\">\n                          {/* Preview */}\n                          <div className={`relative ${aspectRatio} w-full bg-gray-100 dark:bg-gray-800 rounded-xl overflow-hidden`}>\n                            <img\n                              src={previewUrl}\n                              alt=\"Preview\"\n                              className=\"w-full h-full object-cover\"\n                            />\n                          </div>\n\n                          {/* Actions */}\n                          <div className=\"flex gap-3\">\n                            <Button\n                              variant=\"outline\"\n                              onClick={handleReCrop}\n                              className=\"flex-1\"\n                            >\n                              <Crop className=\"w-4 h-4 mr-2\" />\n                              Re-crop\n                            </Button>\n                            <Button\n                              variant=\"outline\"\n                              onClick={clearSelection}\n                              className=\"flex-1\"\n                            >\n                              Choose Different\n                            </Button>\n                          </div>\n                        </div>\n                      ) : (\n                        /* Upload Area */\n                        <div\n                          onDrop={handleDrop}\n                          onDragOver={handleDragOver}\n                          onDragLeave={handleDragLeave}\n                          className={`relative border-2 border-dashed rounded-xl p-8 text-center transition-colors ${\n                            dragActive\n                              ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                              : 'border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500'\n                          }`}\n                        >\n                          <input\n                            ref={fileInputRef}\n                            type=\"file\"\n                            accept=\"image/*\"\n                            onChange={handleInputChange}\n                            className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\n                          />\n\n                          <div className=\"flex flex-col items-center gap-4\">\n                            <div className={`p-4 rounded-full ${\n                              dragActive\n                                ? 'bg-blue-100 dark:bg-blue-900/40'\n                                : 'bg-gray-100 dark:bg-gray-800'\n                            }`}>\n                              {dragActive ? (\n                                <Upload className=\"w-8 h-8 text-blue-500\" />\n                              ) : (\n                                <ImageIcon className=\"w-8 h-8 text-gray-400\" />\n                              )}\n                            </div>\n\n                            <div>\n                              <p className=\"text-gray-700 dark:text-gray-300 font-medium\">\n                                {dragActive ? 'Drop image here' : 'Drag and drop an image'}\n                              </p>\n                              <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n                                or click to browse\n                              </p>\n                            </div>\n\n                            <p className=\"text-xs text-gray-400 dark:text-gray-500\">\n                              {isIcon\n                                ? 'Square image recommended ‚Ä¢ Max 5MB'\n                                : 'Wide image recommended (4:1 ratio) ‚Ä¢ Max 10MB'}\n                            </p>\n                          </div>\n                        </div>\n                      )}\n\n                      {/* Current Image */}\n                      {currentImageUrl && !previewUrl && (\n                        <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700\">\n                          <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-2\">\n                            Current {isIcon ? 'icon' : 'cover'}:\n                          </p>\n                          <div className={`relative ${aspectRatio} w-full max-w-[200px] bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden`}>\n                            <img\n                              src={currentImageUrl}\n                              alt=\"Current\"\n                              className=\"w-full h-full object-cover\"\n                            />\n                          </div>\n                        </div>\n                      )}\n                    </div>\n\n                    {/* Footer */}\n                    <div className=\"flex justify-end gap-3 p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50\">\n                      <Button\n                        variant=\"ghost\"\n                        onClick={handleClose}\n                        disabled={uploading}\n                      >\n                        Cancel\n                      </Button>\n                      <Button\n                        onClick={handleUpload}\n                        disabled={!previewUrl || uploading}\n                        className=\"min-w-[100px]\"\n                      >\n                        {uploading ? (\n                          <>\n                            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                            Uploading...\n                          </>\n                        ) : (\n                          'Save'\n                        )}\n                      </Button>\n                    </div>\n                  </motion.div>\n                </Dialog.Content>\n              </>\n            )}\n          </AnimatePresence>\n        </Dialog.Portal>\n      </Dialog.Root>\n    </>\n  );\n}\n\nexport default GroupImageUploadModal;\n"],"names":["useState","useRef","useCallback","motion","AnimatePresence","Dialog","X","Upload","Image","ImageIcon","Loader2","Crop","Button","uploadGroupIcon","uploadGroupCover","ImageCropper","GroupImageUploadModalProps","isOpen","onClose","type","groupId","currentImageUrl","onImageUpdated","imageUrl","GroupImageUploadModal","selectedFile","setSelectedFile","File","croppedFile","setCroppedFile","previewUrl","setPreviewUrl","rawImageUrl","setRawImageUrl","showCropper","setShowCropper","uploading","setUploading","error","setError","dragActive","setDragActive","fileInputRef","HTMLInputElement","isIcon","title","aspectRatio","cropAspectRatio","maxSize","handleFileSelect","file","startsWith","sizeMB","size","reader","FileReader","onload","e","target","result","readAsDataURL","handleCropComplete","croppedBlob","Blob","name","url","URL","createObjectURL","handleCropCancel","handleReCrop","handleDrop","React","DragEvent","preventDefault","dataTransfer","files","handleDragOver","handleDragLeave","handleInputChange","ChangeEvent","handleUpload","fileToUpload","iconUrl","coverUrl","handleClose","err","console","response","data","message","clearSelection","current","value","opacity","scale","y"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 4148, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/groups/index.ts"],"sourcesContent":["export { default as GroupCard } from './GroupCard';\nexport { default as GroupHeader } from './GroupHeader';\nexport { default as GroupChat } from './GroupChat';\nexport { default as CreateGroupModal } from './CreateGroupModal';\nexport { default as GroupImageUploadModal } from './GroupImageUploadModal';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 4175, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/api/people.ts"],"sourcesContent":["import apiClient from './client';\n\n// ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n// TYPES\n// ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\nexport interface PersonCard {\n  id: string;\n  username: string;\n  name: string;\n  profileImage: string | null;\n  bannerImageUrl: string | null;\n  headline: string | null;\n  college: string | null;\n  branch: string | null;\n  bio: string | null;\n  skills: string[];\n  interests: string[];\n  isOnline: boolean;\n  connectionStatus: 'none' | 'pending_sent' | 'pending_received' | 'connected';\n  mutualConnections?: number;\n}\n\nexport interface PeopleFilters {\n  search?: string;\n  college?: string;\n  branch?: string;\n  graduationYear?: number;\n  skills?: string[];\n  interests?: string[];\n  location?: string;\n  isOpenToOpportunities?: boolean;\n}\n\nexport interface PeoplePagination {\n  page?: number;\n  limit?: number;\n}\n\nexport interface PeopleResponse {\n  people: PersonCard[];\n  total: number;\n  page: number;\n  totalPages: number;\n  hasMore: boolean;\n}\n\nexport interface FilterOptions {\n  colleges: string[];\n  branches: string[];\n  graduationYears: number[];\n  locations: string[];\n}\n\n// ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n// API FUNCTIONS\n// ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n/**\n * Get all people with optional filters and pagination\n */\nexport async function getPeople(\n  filters?: PeopleFilters,\n  pagination?: PeoplePagination\n): Promise<PeopleResponse> {\n  const params = new URLSearchParams();\n  \n  if (filters?.search) params.append('search', filters.search);\n  if (filters?.college) params.append('college', filters.college);\n  if (filters?.branch) params.append('branch', filters.branch);\n  if (filters?.graduationYear) params.append('graduationYear', filters.graduationYear.toString());\n  if (filters?.skills?.length) params.append('skills', filters.skills.join(','));\n  if (filters?.interests?.length) params.append('interests', filters.interests.join(','));\n  if (filters?.location) params.append('location', filters.location);\n  if (filters?.isOpenToOpportunities !== undefined) {\n    params.append('isOpenToOpportunities', filters.isOpenToOpportunities.toString());\n  }\n  \n  if (pagination?.page) params.append('page', pagination.page.toString());\n  if (pagination?.limit) params.append('limit', pagination.limit.toString());\n  \n  return apiClient.get(`/people?${params.toString()}`);\n}\n\n/**\n * Get personalized suggestions (People You May Know)\n */\nexport async function getSuggestions(limit: number = 10): Promise<{ suggestions: PersonCard[] }> {\n  return apiClient.get(`/people/suggestions?limit=${limit}`);\n}\n\n/**\n * Get people from the same college\n */\nexport async function getPeopleFromSameCollege(limit: number = 10): Promise<{ people: PersonCard[] }> {\n  return apiClient.get(`/people/same-college?limit=${limit}`);\n}\n\n/**\n * Get people near the current user\n */\nexport async function getPeopleNearMe(limit: number = 10): Promise<{ people: PersonCard[] }> {\n  return apiClient.get(`/people/near-me?limit=${limit}`);\n}\n\n/**\n * Get available filter options\n */\nexport async function getFilterOptions(): Promise<FilterOptions> {\n  return apiClient.get('/people/filter-options');\n}\n\n// ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n// HELPER TYPES AND FUNCTIONS\n// ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\nexport interface SearchUser {\n  id: string;\n  username: string;\n  name: string;\n  profileImage: string | null;\n  headline: string | null;\n}\n\n/**\n * Quick search users by name or username\n */\nexport async function searchUsers(query: string, limit: number = 10): Promise<SearchUser[]> {\n  const response = await getPeople({ search: query }, { limit });\n  return response.people.map(p => ({\n    id: p.id,\n    username: p.username,\n    name: p.name,\n    profileImage: p.profileImage,\n    headline: p.headline,\n  }));\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;AA6DO,eAAe,UACpB,OAAuB,EACvB,UAA6B;IAE7B,MAAM,SAAS,IAAI;IAEnB,IAAI,SAAS,QAAQ,OAAO,MAAM,CAAC,UAAU,QAAQ,MAAM;IAC3D,IAAI,SAAS,SAAS,OAAO,MAAM,CAAC,WAAW,QAAQ,OAAO;IAC9D,IAAI,SAAS,QAAQ,OAAO,MAAM,CAAC,UAAU,QAAQ,MAAM;IAC3D,IAAI,SAAS,gBAAgB,OAAO,MAAM,CAAC,kBAAkB,QAAQ,cAAc,CAAC,QAAQ;IAC5F,IAAI,SAAS,QAAQ,QAAQ,OAAO,MAAM,CAAC,UAAU,QAAQ,MAAM,CAAC,IAAI,CAAC;IACzE,IAAI,SAAS,WAAW,QAAQ,OAAO,MAAM,CAAC,aAAa,QAAQ,SAAS,CAAC,IAAI,CAAC;IAClF,IAAI,SAAS,UAAU,OAAO,MAAM,CAAC,YAAY,QAAQ,QAAQ;IACjE,IAAI,SAAS,0BAA0B,WAAW;QAChD,OAAO,MAAM,CAAC,yBAAyB,QAAQ,qBAAqB,CAAC,QAAQ;IAC/E;IAEA,IAAI,YAAY,MAAM,OAAO,MAAM,CAAC,QAAQ,WAAW,IAAI,CAAC,QAAQ;IACpE,IAAI,YAAY,OAAO,OAAO,MAAM,CAAC,SAAS,WAAW,KAAK,CAAC,QAAQ;IAEvE,OAAO,yIAAS,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,OAAO,QAAQ,IAAI;AACrD;AAKO,eAAe,eAAe,QAAgB,EAAE;IACrD,OAAO,yIAAS,CAAC,GAAG,CAAC,CAAC,0BAA0B,EAAE,OAAO;AAC3D;AAKO,eAAe,yBAAyB,QAAgB,EAAE;IAC/D,OAAO,yIAAS,CAAC,GAAG,CAAC,CAAC,2BAA2B,EAAE,OAAO;AAC5D;AAKO,eAAe,gBAAgB,QAAgB,EAAE;IACtD,OAAO,yIAAS,CAAC,GAAG,CAAC,CAAC,sBAAsB,EAAE,OAAO;AACvD;AAKO,eAAe;IACpB,OAAO,yIAAS,CAAC,GAAG,CAAC;AACvB;AAiBO,eAAe,YAAY,KAAa,EAAE,QAAgB,EAAE;IACjE,MAAM,WAAW,MAAM,UAAU;QAAE,QAAQ;IAAM,GAAG;QAAE;IAAM;IAC5D,OAAO,SAAS,MAAM,CAAC,GAAG,CAAC,CAAA,IAAK,CAAC;YAC/B,IAAI,EAAE,EAAE;YACR,UAAU,EAAE,QAAQ;YACpB,MAAM,EAAE,IAAI;YACZ,cAAc,EAAE,YAAY;YAC5B,UAAU,EAAE,QAAQ;QACtB,CAAC;AACH"}},
    {"offset": {"line": 4240, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/app/groups/%5Bslug%5D/settings/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, use } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { ProtectedRoute } from '@/components/auth/ProtectedRoute';\nimport { GroupImageUploadModal } from '@/components/groups';\nimport { \n  getGroup, \n  updateGroup,\n  getGroupMembers,\n  updateMemberRole,\n  removeMember,\n  deleteGroup,\n  getJoinRequests,\n  handleJoinRequest,\n  getGroupInvites,\n  inviteToGroup,\n  cancelInvite,\n  Group, \n  GroupMember,\n  GroupJoinRequest,\n  GroupInvite\n} from '@/lib/api/groups';\nimport { searchUsers, SearchUser } from '@/lib/api/people';\n\ninterface GroupSettingsPageProps {\n  params: Promise<{ slug: string }>;\n}\n\ntype SettingsTab = 'general' | 'members' | 'requests' | 'invites' | 'danger';\n\nexport default function GroupSettingsPage({ params }: GroupSettingsPageProps) {\n  const resolvedParams = use(params);\n  const router = useRouter();\n  const [group, setGroup] = useState<Group | null>(null);\n  const [members, setMembers] = useState<GroupMember[]>([]);\n  const [pendingRequests, setPendingRequests] = useState<GroupJoinRequest[]>([]);\n  const [pendingInvites, setPendingInvites] = useState<GroupInvite[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [successMessage, setSuccessMessage] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState<SettingsTab>('general');\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [deleteConfirmText, setDeleteConfirmText] = useState('');\n  const [deleting, setDeleting] = useState(false);\n  const [processingRequest, setProcessingRequest] = useState<string | null>(null);\n  \n  // Invite state\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState<SearchUser[]>([]);\n  const [searching, setSearching] = useState(false);\n  const [inviting, setInviting] = useState<string | null>(null);\n  \n  // Image upload modal state\n  const [showIconModal, setShowIconModal] = useState(false);\n  const [showCoverModal, setShowCoverModal] = useState(false);\n  \n  // Form state\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    rules: '',\n    category: '',\n    privacy: 'PUBLIC' as 'PUBLIC' | 'PRIVATE' | 'SECRET',\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const [groupData, membersData] = await Promise.all([\n          getGroup(resolvedParams.slug),\n          getGroupMembers(resolvedParams.slug)\n        ]);\n        \n        // Check if user is admin/owner\n        const userRole = groupData.memberRole || groupData.userRole;\n        if (userRole !== 'OWNER' && userRole !== 'ADMIN') {\n          router.push(`/groups/${resolvedParams.slug}`);\n          return;\n        }\n        \n        setGroup(groupData);\n        setMembers(membersData.members || []);\n        setFormData({\n          name: groupData.name,\n          description: groupData.description || '',\n          rules: Array.isArray(groupData.rules) ? groupData.rules.join('\\n') : (groupData.rules || ''),\n          category: groupData.category || '',\n          privacy: groupData.privacy,\n        });\n\n        // Fetch pending join requests for private groups\n        if (groupData.privacy === 'PRIVATE') {\n          try {\n            const requests = await getJoinRequests(groupData.id, 'PENDING');\n            setPendingRequests(requests);\n          } catch {\n            // Silently fail\n          }\n        }\n\n        // Fetch pending invites for secret groups\n        if (groupData.privacy === 'SECRET') {\n          try {\n            const { invites } = await getGroupInvites(groupData.id, 'PENDING');\n            setPendingInvites(invites);\n          } catch {\n            // Silently fail\n          }\n        }\n      } catch (err: any) {\n        setError(err.response?.data?.error || 'Failed to load group settings');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [resolvedParams.slug, router]);\n\n  // Search users for invite\n  useEffect(() => {\n    if (!searchQuery.trim() || searchQuery.length < 2) {\n      setSearchResults([]);\n      return;\n    }\n\n    const searchTimeout = setTimeout(async () => {\n      try {\n        setSearching(true);\n        const results = await searchUsers(searchQuery);\n        // Filter out existing members and pending invites\n        const memberIds = new Set(members.map(m => m.user.id));\n        const inviteIds = new Set(pendingInvites.map(i => i.invitedUserId));\n        const filtered = results.filter(\n          u => !memberIds.has(u.id) && !inviteIds.has(u.id)\n        );\n        setSearchResults(filtered);\n      } catch {\n        setSearchResults([]);\n      } finally {\n        setSearching(false);\n      }\n    }, 300);\n\n    return () => clearTimeout(searchTimeout);\n  }, [searchQuery, members, pendingInvites]);\n\n  const handleSaveGeneral = async () => {\n    if (!group) return;\n    \n    try {\n      setSaving(true);\n      setError(null);\n      // Convert rules string back to array\n      const rulesArray = formData.rules.split('\\n').map(r => r.trim()).filter(r => r);\n      await updateGroup(group.id, {\n        ...formData,\n        rules: rulesArray,\n      });\n      setSuccessMessage('Settings saved successfully!');\n      setTimeout(() => setSuccessMessage(null), 3000);\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to save settings');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleIconUpdated = (imageUrl: string) => {\n    if (group) {\n      setGroup({ ...group, iconImage: imageUrl });\n      setSuccessMessage('Group icon updated successfully!');\n      setTimeout(() => setSuccessMessage(null), 3000);\n    }\n  };\n\n  const handleCoverUpdated = (imageUrl: string) => {\n    if (group) {\n      setGroup({ ...group, coverImage: imageUrl });\n      setSuccessMessage('Group cover updated successfully!');\n      setTimeout(() => setSuccessMessage(null), 3000);\n    }\n  };\n\n  const handleUpdateRole = async (memberId: string, newRole: 'ADMIN' | 'MODERATOR' | 'MEMBER') => {\n    if (!group) return;\n    \n    try {\n      await updateMemberRole(group.id, memberId, newRole);\n      setMembers(prev => \n        prev.map(m => \n          m.id === memberId ? { ...m, role: newRole } : m\n        )\n      );\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to update role');\n    }\n  };\n\n  const handleRemoveMember = async (memberId: string) => {\n    if (!group || !confirm('Are you sure you want to remove this member?')) return;\n    \n    try {\n      await removeMember(group.id, memberId);\n      setMembers(prev => prev.filter(m => m.id !== memberId));\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to remove member');\n    }\n  };\n\n  const handleRequest = async (requestId: string, action: 'approve' | 'reject') => {\n    if (!group) return;\n    \n    try {\n      setProcessingRequest(requestId);\n      setError(null);\n      await handleJoinRequest(group.id, requestId, action);\n      \n      // Remove the request from the list\n      setPendingRequests(prev => prev.filter(r => r.id !== requestId));\n      \n      if (action === 'approve') {\n        setSuccessMessage('Member approved successfully!');\n        // Refresh members list\n        const membersData = await getGroupMembers(group.id);\n        setMembers(membersData.members || []);\n      } else {\n        setSuccessMessage('Request rejected');\n      }\n      setTimeout(() => setSuccessMessage(null), 3000);\n    } catch (err: any) {\n      setError(err.response?.data?.error || `Failed to ${action} request`);\n    } finally {\n      setProcessingRequest(null);\n    }\n  };\n\n  const handleInviteUser = async (userId: string) => {\n    if (!group) return;\n    \n    try {\n      setInviting(userId);\n      setError(null);\n      await inviteToGroup(group.id, userId);\n      \n      // Refresh invites list\n      const { invites } = await getGroupInvites(group.id, 'PENDING');\n      setPendingInvites(invites);\n      \n      // Clear search\n      setSearchQuery('');\n      setSearchResults([]);\n      \n      setSuccessMessage('Invite sent successfully!');\n      setTimeout(() => setSuccessMessage(null), 3000);\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to send invite');\n    } finally {\n      setInviting(null);\n    }\n  };\n\n  const handleCancelInvite = async (inviteId: string) => {\n    if (!group) return;\n    \n    try {\n      setProcessingRequest(inviteId);\n      await cancelInvite(group.id, inviteId);\n      setPendingInvites(prev => prev.filter(i => i.id !== inviteId));\n      setSuccessMessage('Invite cancelled');\n      setTimeout(() => setSuccessMessage(null), 3000);\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to cancel invite');\n    } finally {\n      setProcessingRequest(null);\n    }\n  };\n\n  const handleDeleteGroup = async () => {\n    if (!group || deleteConfirmText !== group.name) return;\n    \n    try {\n      setDeleting(true);\n      await deleteGroup(group.id);\n      router.push('/groups');\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to delete group');\n      setDeleting(false);\n    }\n  };\n\n  const tabs: { id: SettingsTab; label: string; icon: React.ReactNode; badge?: number; hidden?: boolean }[] = [\n    {\n      id: 'general',\n      label: 'General',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n        </svg>\n      )\n    },\n    {\n      id: 'members',\n      label: 'Members',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" />\n        </svg>\n      )\n    },\n    {\n      id: 'requests',\n      label: 'Requests',\n      badge: pendingRequests.length,\n      hidden: group?.privacy !== 'PRIVATE', // Only for PRIVATE groups\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\" />\n        </svg>\n      )\n    },\n    {\n      id: 'invites',\n      label: 'Invites',\n      badge: pendingInvites.length,\n      hidden: group?.privacy !== 'SECRET', // Only for SECRET groups\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n        </svg>\n      )\n    },\n    {\n      id: 'danger',\n      label: 'Danger Zone',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n        </svg>\n      )\n    },\n  ];\n\n  if (loading) {\n    return (\n      <ProtectedRoute>\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\n          <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600\"></div>\n        </div>\n      </ProtectedRoute>\n    );\n  }\n\n  if (!group) {\n    return (\n      <ProtectedRoute>\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\n          <div className=\"text-center\">\n            <p className=\"text-red-500 mb-4\">Group not found or you don&apos;t have permission</p>\n            <Link href=\"/groups\" className=\"text-blue-600 hover:underline\">\n              Go back to groups\n            </Link>\n          </div>\n        </div>\n      </ProtectedRoute>\n    );\n  }\n\n  return (\n    <ProtectedRoute>\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24\">\n        {/* Header */}\n        <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\">\n          <div className=\"max-w-4xl mx-auto px-4 py-4\">\n            <div className=\"flex items-center gap-4\">\n              <Link\n                href={`/groups/${group.slug}`}\n                className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                </svg>\n              </Link>\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                  Group Settings\n                </h1>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  {group.name}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"max-w-4xl mx-auto px-4 py-6\">\n          {/* Messages */}\n          <AnimatePresence>\n            {error && (\n              <motion.div\n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -10 }}\n                className=\"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl\"\n              >\n                {error}\n              </motion.div>\n            )}\n            {successMessage && (\n              <motion.div\n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -10 }}\n                className=\"mb-4 p-4 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-xl\"\n              >\n                {successMessage}\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          <div className=\"flex flex-col md:flex-row gap-6\">\n            {/* Sidebar Tabs */}\n            <div className=\"md:w-64 shrink-0\">\n              <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden\">\n                {tabs.filter(tab => !tab.hidden).map(tab => (\n                  <button\n                    key={tab.id}\n                    onClick={() => setActiveTab(tab.id)}\n                    className={`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors ${\n                      activeTab === tab.id\n                        ? 'bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400'\n                        : 'text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\n                    } ${tab.id === 'danger' ? 'text-red-600 dark:text-red-400' : ''}`}\n                  >\n                    {tab.icon}\n                    <span className=\"font-medium flex-1\">{tab.label}</span>\n                    {tab.badge !== undefined && tab.badge > 0 && (\n                      <span className=\"px-2 py-0.5 text-xs font-medium bg-blue-600 text-white rounded-full\">\n                        {tab.badge}\n                      </span>\n                    )}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Content */}\n            <div className=\"flex-1\">\n              {/* General Settings */}\n              {activeTab === 'general' && (\n                <motion.div\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6\"\n                >\n                  <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-6\">\n                    General Settings\n                  </h2>\n\n                  <div className=\"space-y-6\">\n                    {/* Group Images */}\n                    <div className=\"space-y-4\">\n                      <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                        Group Images\n                      </h3>\n                      \n                      {/* Cover Image */}\n                      <div>\n                        <label className=\"block text-sm text-gray-600 dark:text-gray-400 mb-2\">\n                          Cover Image\n                        </label>\n                        <div className=\"relative\">\n                          <div className=\"w-full h-32 rounded-xl overflow-hidden bg-gradient-to-r from-blue-500 to-purple-500\">\n                            {group.coverImage && (\n                              <Image\n                                src={group.coverImage}\n                                alt=\"Group cover\"\n                                fill\n                                className=\"object-cover\"\n                              />\n                            )}\n                          </div>\n                          <button\n                            onClick={() => setShowCoverModal(true)}\n                            className=\"absolute bottom-2 right-2 px-3 py-1.5 bg-white/90 dark:bg-gray-800/90 text-sm font-medium rounded-lg hover:bg-white dark:hover:bg-gray-800 transition-colors\"\n                          >\n                            <svg className=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\" />\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\" />\n                            </svg>\n                            Change Cover\n                          </button>\n                        </div>\n                        <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n                          Click to upload and crop. Recommended: 1200x400 pixels\n                        </p>\n                      </div>\n\n                      {/* Icon Image */}\n                      <div>\n                        <label className=\"block text-sm text-gray-600 dark:text-gray-400 mb-2\">\n                          Group Icon\n                        </label>\n                        <div className=\"flex items-center gap-4\">\n                          <div className=\"relative w-20 h-20 rounded-xl overflow-hidden bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center\">\n                            {group.iconImage ? (\n                              <Image\n                                src={group.iconImage}\n                                alt=\"Group icon\"\n                                fill\n                                className=\"object-cover\"\n                              />\n                            ) : (\n                              <span className=\"text-2xl font-bold text-white\">\n                                {group.name.charAt(0).toUpperCase()}\n                              </span>\n                            )}\n                          </div>\n                          <div>\n                            <button\n                              onClick={() => setShowIconModal(true)}\n                              className=\"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-sm font-medium rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\n                            >\n                              Change Icon\n                            </button>\n                            <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n                              Click to upload and crop. Square image recommended\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <hr className=\"border-gray-200 dark:border-gray-700\" />\n\n                    {/* Name */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Group Name\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={formData.name}\n                        onChange={e => setFormData({ ...formData, name: e.target.value })}\n                        className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                        placeholder=\"Enter group name\"\n                      />\n                    </div>\n\n                    {/* Description */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Description\n                      </label>\n                      <textarea\n                        value={formData.description}\n                        onChange={e => setFormData({ ...formData, description: e.target.value })}\n                        rows={4}\n                        className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n                        placeholder=\"What is this group about?\"\n                      />\n                    </div>\n\n                    {/* Rules */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Group Rules\n                      </label>\n                      <textarea\n                        value={formData.rules}\n                        onChange={e => setFormData({ ...formData, rules: e.target.value })}\n                        rows={4}\n                        className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n                        placeholder=\"Enter group rules (one per line)\"\n                      />\n                      <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n                        Separate each rule with a new line\n                      </p>\n                    </div>\n\n                    {/* Category */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Category\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={formData.category}\n                        onChange={e => setFormData({ ...formData, category: e.target.value })}\n                        className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                        placeholder=\"e.g., Technology, Sports, Art\"\n                      />\n                    </div>\n\n                    {/* Privacy */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Privacy\n                      </label>\n                      <div className=\"space-y-3\">\n                        {[\n                          { value: 'PUBLIC', label: 'Public', desc: 'Anyone can find and join' },\n                          { value: 'PRIVATE', label: 'Private', desc: 'Anyone can find, but must request to join' },\n                          { value: 'SECRET', label: 'Secret', desc: 'Only members can find and invite others' },\n                        ].map(option => (\n                          <label\n                            key={option.value}\n                            className={`flex items-start gap-3 p-4 rounded-xl border-2 cursor-pointer transition-colors ${\n                              formData.privacy === option.value\n                                ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                                : 'border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500'\n                            }`}\n                          >\n                            <input\n                              type=\"radio\"\n                              name=\"privacy\"\n                              value={option.value}\n                              checked={formData.privacy === option.value}\n                              onChange={e => setFormData({ ...formData, privacy: e.target.value as any })}\n                              className=\"mt-1\"\n                            />\n                            <div>\n                              <p className=\"font-medium text-gray-900 dark:text-white\">\n                                {option.label}\n                              </p>\n                              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                                {option.desc}\n                              </p>\n                            </div>\n                          </label>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Save Button */}\n                    <div className=\"pt-4\">\n                      <button\n                        onClick={handleSaveGeneral}\n                        disabled={saving}\n                        className=\"w-full px-6 py-3 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        {saving ? 'Saving...' : 'Save Changes'}\n                      </button>\n                    </div>\n                  </div>\n                </motion.div>\n              )}\n\n              {/* Members Management */}\n              {activeTab === 'members' && (\n                <motion.div\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6\"\n                >\n                  <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-6\">\n                    Manage Members\n                  </h2>\n\n                  <div className=\"space-y-4\">\n                    {members.map(member => (\n                      <div\n                        key={member.id}\n                        className=\"flex items-center justify-between p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50\"\n                      >\n                        <div className=\"flex items-center gap-3\">\n                          <div className=\"relative w-10 h-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600\">\n                            {(member.user.profileImage || member.user.avatar) ? (\n                              <Image\n                                src={member.user.profileImage || member.user.avatar || ''}\n                                alt={member.user.name}\n                                fill\n                                className=\"object-cover\"\n                              />\n                            ) : (\n                              <div className=\"w-full h-full flex items-center justify-center text-gray-500 dark:text-gray-400 font-medium\">\n                                {member.user.name.charAt(0).toUpperCase()}\n                              </div>\n                            )}\n                          </div>\n                          <div>\n                            <p className=\"font-medium text-gray-900 dark:text-white\">\n                              {member.user.name}\n                            </p>\n                            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                              @{member.user.username}\n                            </p>\n                          </div>\n                          <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                            member.role === 'OWNER'\n                              ? 'bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400'\n                              : member.role === 'ADMIN'\n                              ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400'\n                              : member.role === 'MODERATOR'\n                              ? 'bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400'\n                              : 'bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-400'\n                          }`}>\n                            {member.role}\n                          </span>\n                        </div>\n\n                        {member.role !== 'OWNER' && (group.memberRole === 'OWNER' || group.userRole === 'OWNER') && (\n                          <div className=\"flex items-center gap-2\">\n                            <select\n                              value={member.role}\n                              onChange={e => handleUpdateRole(member.id, e.target.value as any)}\n                              className=\"px-3 py-1.5 text-sm rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n                            >\n                              <option value=\"ADMIN\">Admin</option>\n                              <option value=\"MODERATOR\">Moderator</option>\n                              <option value=\"MEMBER\">Member</option>\n                            </select>\n                            <button\n                              onClick={() => handleRemoveMember(member.id)}\n                              className=\"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors\"\n                              title=\"Remove member\"\n                            >\n                              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                              </svg>\n                            </button>\n                          </div>\n                        )}\n                      </div>\n                    ))}\n\n                    {members.length === 0 && (\n                      <div className=\"text-center py-8\">\n                        <p className=\"text-gray-500 dark:text-gray-400\">No members found</p>\n                      </div>\n                    )}\n                  </div>\n                </motion.div>\n              )}\n\n              {/* Join Requests (for Private/Secret groups) */}\n              {activeTab === 'requests' && (group.privacy === 'PRIVATE' || group.privacy === 'SECRET') && (\n                <motion.div\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6\"\n                >\n                  <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-6\">\n                    Pending Requests\n                  </h2>\n\n                  <div className=\"space-y-4\">\n                    {pendingRequests.map(request => (\n                      <div\n                        key={request.id}\n                        className=\"flex items-center justify-between p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50\"\n                      >\n                        <div className=\"flex items-center gap-3\">\n                          <div className=\"relative w-12 h-12 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600\">\n                            {request.user.profileImage ? (\n                              <Image\n                                src={request.user.profileImage}\n                                alt={request.user.name}\n                                fill\n                                className=\"object-cover\"\n                              />\n                            ) : (\n                              <div className=\"w-full h-full flex items-center justify-center text-gray-500 dark:text-gray-400 font-medium text-lg\">\n                                {request.user.name.charAt(0).toUpperCase()}\n                              </div>\n                            )}\n                          </div>\n                          <div>\n                            <p className=\"font-medium text-gray-900 dark:text-white\">\n                              {request.user.name}\n                            </p>\n                            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                              @{request.user.username}\n                            </p>\n                            {request.message && (\n                              <p className=\"text-sm text-gray-600 dark:text-gray-300 mt-1 italic\">\n                                &ldquo;{request.message}&rdquo;\n                              </p>\n                            )}\n                            <p className=\"text-xs text-gray-400 mt-1\">\n                              Requested {new Date(request.createdAt).toLocaleDateString()}\n                            </p>\n                          </div>\n                        </div>\n\n                        <div className=\"flex items-center gap-2\">\n                          <button\n                            onClick={() => handleRequest(request.id, 'approve')}\n                            disabled={processingRequest === request.id}\n                            className=\"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center gap-2\"\n                          >\n                            {processingRequest === request.id ? (\n                              <svg className=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                              </svg>\n                            ) : (\n                              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                              </svg>\n                            )}\n                            Approve\n                          </button>\n                          <button\n                            onClick={() => handleRequest(request.id, 'reject')}\n                            disabled={processingRequest === request.id}\n                            className=\"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 text-sm font-medium rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors disabled:opacity-50\"\n                          >\n                            Reject\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n\n                    {pendingRequests.length === 0 && (\n                      <div className=\"text-center py-12\">\n                        <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center\">\n                          <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\" />\n                          </svg>\n                        </div>\n                        <p className=\"text-gray-500 dark:text-gray-400\">No pending requests</p>\n                        <p className=\"text-sm text-gray-400 dark:text-gray-500 mt-1\">\n                          When someone requests to join, they&apos;ll appear here\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                </motion.div>\n              )}\n\n              {/* Invites (for Secret groups) */}\n              {activeTab === 'invites' && group.privacy === 'SECRET' && (\n                <motion.div\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6\"\n                >\n                  <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-6\">\n                    Invite Members\n                  </h2>\n\n                  {/* Search to invite */}\n                  <div className=\"mb-6\">\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                      Search users to invite\n                    </label>\n                    <div className=\"relative\">\n                      <input\n                        type=\"text\"\n                        value={searchQuery}\n                        onChange={e => setSearchQuery(e.target.value)}\n                        placeholder=\"Search by name or username...\"\n                        className=\"w-full px-4 py-3 pl-10 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                      <svg className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                      </svg>\n                      {searching && (\n                        <svg className=\"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                        </svg>\n                      )}\n                    </div>\n\n                    {/* Search results */}\n                    {searchResults.length > 0 && (\n                      <div className=\"mt-2 border border-gray-200 dark:border-gray-600 rounded-xl overflow-hidden\">\n                        {searchResults.map(user => (\n                          <div\n                            key={user.id}\n                            className=\"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                          >\n                            <div className=\"flex items-center gap-3\">\n                              <div className=\"relative w-10 h-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600\">\n                                {user.profileImage ? (\n                                  <Image\n                                    src={user.profileImage}\n                                    alt={user.name}\n                                    fill\n                                    className=\"object-cover\"\n                                  />\n                                ) : (\n                                  <div className=\"w-full h-full flex items-center justify-center text-gray-500 dark:text-gray-400 font-medium\">\n                                    {user.name.charAt(0).toUpperCase()}\n                                  </div>\n                                )}\n                              </div>\n                              <div>\n                                <p className=\"font-medium text-gray-900 dark:text-white text-sm\">\n                                  {user.name}\n                                </p>\n                                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                                  @{user.username}\n                                </p>\n                              </div>\n                            </div>\n                            <button\n                              onClick={() => handleInviteUser(user.id)}\n                              disabled={inviting === user.id}\n                              className=\"px-3 py-1.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\"\n                            >\n                              {inviting === user.id ? 'Sending...' : 'Invite'}\n                            </button>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Pending invites */}\n                  <div>\n                    <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4\">\n                      Pending Invites ({pendingInvites.length})\n                    </h3>\n                    <div className=\"space-y-3\">\n                      {pendingInvites.map(invite => (\n                        <div\n                          key={invite.id}\n                          className=\"flex items-center justify-between p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50\"\n                        >\n                          <div className=\"flex items-center gap-3\">\n                            <div className=\"relative w-10 h-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600\">\n                              {invite.invitedUser.profileImage ? (\n                                <Image\n                                  src={invite.invitedUser.profileImage}\n                                  alt={invite.invitedUser.name}\n                                  fill\n                                  className=\"object-cover\"\n                                />\n                              ) : (\n                                <div className=\"w-full h-full flex items-center justify-center text-gray-500 dark:text-gray-400 font-medium\">\n                                  {invite.invitedUser.name.charAt(0).toUpperCase()}\n                                </div>\n                              )}\n                            </div>\n                            <div>\n                              <p className=\"font-medium text-gray-900 dark:text-white\">\n                                {invite.invitedUser.name}\n                              </p>\n                              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                                @{invite.invitedUser.username}\n                              </p>\n                              <p className=\"text-xs text-gray-400 mt-1\">\n                                Invited {new Date(invite.createdAt).toLocaleDateString()}\n                              </p>\n                            </div>\n                          </div>\n                          <button\n                            onClick={() => handleCancelInvite(invite.id)}\n                            disabled={processingRequest === invite.id}\n                            className=\"px-3 py-1.5 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 text-sm font-medium rounded-lg transition-colors disabled:opacity-50\"\n                          >\n                            Cancel\n                          </button>\n                        </div>\n                      ))}\n\n                      {pendingInvites.length === 0 && (\n                        <div className=\"text-center py-8\">\n                          <p className=\"text-gray-500 dark:text-gray-400 text-sm\">\n                            No pending invites. Search for users above to invite them.\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </motion.div>\n              )}\n\n              {/* Danger Zone */}\n              {activeTab === 'danger' && (group.memberRole === 'OWNER' || group.userRole === 'OWNER') && (\n                <motion.div\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border-2 border-red-200 dark:border-red-800\"\n                >\n                  <h2 className=\"text-lg font-semibold text-red-600 dark:text-red-400 mb-6\">\n                    Danger Zone\n                  </h2>\n\n                  <div className=\"space-y-6\">\n                    <div className=\"p-4 bg-red-50 dark:bg-red-900/20 rounded-xl\">\n                      <h3 className=\"font-medium text-red-600 dark:text-red-400 mb-2\">\n                        Delete Group\n                      </h3>\n                      <p className=\"text-sm text-red-600/80 dark:text-red-400/80 mb-4\">\n                        Once you delete a group, there is no going back. All posts, messages, and members will be permanently deleted.\n                      </p>\n                      <button\n                        onClick={() => setShowDeleteModal(true)}\n                        className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\n                      >\n                        Delete Group\n                      </button>\n                    </div>\n                  </div>\n                </motion.div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Delete Confirmation Modal */}\n        <AnimatePresence>\n          {showDeleteModal && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\"\n              onClick={() => setShowDeleteModal(false)}\n            >\n              <motion.div\n                initial={{ scale: 0.9, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                exit={{ scale: 0.9, opacity: 0 }}\n                onClick={e => e.stopPropagation()}\n                className=\"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md\"\n              >\n                <div className=\"text-center mb-6\">\n                  <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center\">\n                    <svg className=\"w-8 h-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                    </svg>\n                  </div>\n                  <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-2\">\n                    Delete Group?\n                  </h3>\n                  <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n                    This action cannot be undone. Type <strong>{group.name}</strong> to confirm.\n                  </p>\n                  <input\n                    type=\"text\"\n                    value={deleteConfirmText}\n                    onChange={e => setDeleteConfirmText(e.target.value)}\n                    placeholder=\"Type group name to confirm\"\n                    className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent\"\n                  />\n                </div>\n\n                <div className=\"flex gap-3\">\n                  <button\n                    onClick={() => {\n                      setShowDeleteModal(false);\n                      setDeleteConfirmText('');\n                    }}\n                    className=\"flex-1 px-4 py-3 border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleDeleteGroup}\n                    disabled={deleteConfirmText !== group.name || deleting}\n                    className=\"flex-1 px-4 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {deleting ? 'Deleting...' : 'Delete Group'}\n                  </button>\n                </div>\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Image Upload Modals */}\n        <GroupImageUploadModal\n          isOpen={showIconModal}\n          onClose={() => setShowIconModal(false)}\n          groupId={group.id}\n          type=\"icon\"\n          currentImageUrl={group.iconImage}\n          onImageUpdated={handleIconUpdated}\n        />\n        <GroupImageUploadModal\n          isOpen={showCoverModal}\n          onClose={() => setShowCoverModal(false)}\n          groupId={group.id}\n          type=\"cover\"\n          currentImageUrl={group.coverImage}\n          onImageUpdated={handleCoverUpdated}\n        />\n      </div>\n    </ProtectedRoute>\n  );\n}\n"],"names":["useState","useEffect","use","useRouter","Link","Image","motion","AnimatePresence","ProtectedRoute","GroupImageUploadModal","getGroup","updateGroup","getGroupMembers","updateMemberRole","removeMember","deleteGroup","getJoinRequests","handleJoinRequest","getGroupInvites","inviteToGroup","cancelInvite","Group","GroupMember","GroupJoinRequest","GroupInvite","searchUsers","SearchUser","GroupSettingsPageProps","params","Promise","slug","SettingsTab","GroupSettingsPage","resolvedParams","router","group","setGroup","members","setMembers","pendingRequests","setPendingRequests","pendingInvites","setPendingInvites","loading","setLoading","saving","setSaving","error","setError","successMessage","setSuccessMessage","activeTab","setActiveTab","showDeleteModal","setShowDeleteModal","deleteConfirmText","setDeleteConfirmText","deleting","setDeleting","processingRequest","setProcessingRequest","searchQuery","setSearchQuery","searchResults","setSearchResults","searching","setSearching","inviting","setInviting","showIconModal","setShowIconModal","showCoverModal","setShowCoverModal","formData","setFormData","name","description","rules","category","privacy","fetchData","groupData","membersData","all","userRole","memberRole","push","Array","isArray","join","requests","id","invites","err","response","data","trim","length","searchTimeout","setTimeout","results","memberIds","Set","map","m","user","inviteIds","i","invitedUserId","filtered","filter","u","has","clearTimeout","handleSaveGeneral","rulesArray","split","r","handleIconUpdated","imageUrl","iconImage","handleCoverUpdated","coverImage","handleUpdateRole","memberId","newRole","prev","role","handleRemoveMember","confirm","handleRequest","requestId","action","handleInviteUser","userId","handleCancelInvite","inviteId","handleDeleteGroup","tabs","label","icon","React","ReactNode","badge","hidden","opacity","y","tab","undefined","x","charAt","toUpperCase","e","target","value","desc","option","member","profileImage","avatar","username","request","message","Date","createdAt","toLocaleDateString","invite","invitedUser","scale","stopPropagation"],"mappings":"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","ignoreList":[]}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelPlayer.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useEffect, useState, useCallback } from 'react';\nimport Hls from 'hls.js';\nimport { Loader2, Volume2, VolumeX, Play, Pause } from 'lucide-react';\n\ninterface ReelPlayerProps {\n  hlsUrl: string | null;\n  mp4Url: string;\n  thumbnailUrl?: string | null;\n  isActive: boolean;\n  isMuted: boolean;\n  onProgress?: (progress: number, watchTimeMs: number) => void;\n  onComplete?: () => void;\n  onTap?: () => void;\n  onDoubleTap?: () => void;\n  onMuteToggle?: () => void;\n}\n\nexport function ReelPlayer({\n  hlsUrl,\n  mp4Url,\n  thumbnailUrl,\n  isActive,\n  isMuted,\n  onProgress,\n  onComplete,\n  onTap,\n  onDoubleTap,\n  onMuteToggle,\n}: ReelPlayerProps) {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const hlsRef = useRef<Hls | null>(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [showControls, setShowControls] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState(false);\n  const lastTap = useRef(0);\n  const watchTimeRef = useRef(0);\n  const controlsTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    const initHls = () => {\n      if (hlsUrl && Hls.isSupported()) {\n        const hls = new Hls({\n          enableWorker: true,\n          lowLatencyMode: true,\n          backBufferLength: 90,\n          maxBufferLength: 30,\n          maxMaxBufferLength: 60,\n          startLevel: -1,\n          capLevelToPlayerSize: true,\n        });\n\n        hls.loadSource(hlsUrl);\n        hls.attachMedia(video);\n\n        hls.on(Hls.Events.MANIFEST_PARSED, () => {\n          setIsLoaded(true);\n          if (isActive) {\n            video.play().catch(() => {});\n          }\n        });\n\n        hls.on(Hls.Events.ERROR, (_, data) => {\n          if (data.fatal) {\n            console.error('HLS error:', data);\n            setError(true);\n            video.src = mp4Url;\n            video.load();\n          }\n        });\n\n        hlsRef.current = hls;\n      } else if (hlsUrl && video.canPlayType('application/vnd.apple.mpegurl')) {\n        video.src = hlsUrl;\n        video.addEventListener('loadedmetadata', () => {\n          setIsLoaded(true);\n          if (isActive) {\n            video.play().catch(() => {});\n          }\n        });\n      } else {\n        video.src = mp4Url;\n        video.addEventListener('loadedmetadata', () => {\n          setIsLoaded(true);\n          if (isActive) {\n            video.play().catch(() => {});\n          }\n        });\n      }\n    };\n\n    initHls();\n\n    return () => {\n      hlsRef.current?.destroy();\n      hlsRef.current = null;\n    };\n  }, [hlsUrl, mp4Url]);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video || !isLoaded) return;\n\n    if (isActive) {\n      video.play().then(() => setIsPlaying(true)).catch(() => {});\n    } else {\n      video.pause();\n      video.currentTime = 0;\n      setIsPlaying(false);\n    }\n  }, [isActive, isLoaded]);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (video) {\n      video.muted = isMuted;\n    }\n  }, [isMuted, isLoaded]);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    const handleTimeUpdate = () => {\n      const currentProgress = video.duration > 0 ? video.currentTime / video.duration : 0;\n      watchTimeRef.current = video.currentTime * 1000;\n      setProgress(currentProgress);\n      onProgress?.(currentProgress, watchTimeRef.current);\n    };\n\n    const handleEnded = () => {\n      onComplete?.();\n      video.currentTime = 0;\n      video.play().catch(() => {});\n    };\n\n    const handlePlay = () => setIsPlaying(true);\n    const handlePause = () => setIsPlaying(false);\n\n    video.addEventListener('timeupdate', handleTimeUpdate);\n    video.addEventListener('ended', handleEnded);\n    video.addEventListener('play', handlePlay);\n    video.addEventListener('pause', handlePause);\n\n    return () => {\n      video.removeEventListener('timeupdate', handleTimeUpdate);\n      video.removeEventListener('ended', handleEnded);\n      video.removeEventListener('play', handlePlay);\n      video.removeEventListener('pause', handlePause);\n    };\n  }, [onProgress, onComplete]);\n\n  const handleTap = useCallback((e: React.MouseEvent | React.TouchEvent) => {\n    e.stopPropagation();\n    const now = Date.now();\n    \n    if (now - lastTap.current < 300) {\n      onDoubleTap?.();\n      lastTap.current = 0;\n    } else {\n      lastTap.current = now;\n      setTimeout(() => {\n        if (lastTap.current !== 0 && Date.now() - lastTap.current >= 300) {\n          onTap?.();\n          // Tap to pause/play\n          const video = videoRef.current;\n          if (video && isLoaded) {\n            if (video.paused) {\n              video.play().then(() => setIsPlaying(true)).catch(() => {});\n            } else {\n              video.pause();\n              setIsPlaying(false);\n            }\n          }\n          lastTap.current = 0;\n        }\n      }, 300);\n    }\n\n    setShowControls(true);\n    if (controlsTimeoutRef.current) {\n      clearTimeout(controlsTimeoutRef.current);\n    }\n    controlsTimeoutRef.current = setTimeout(() => {\n      setShowControls(false);\n    }, 2000);\n  }, [onTap, onDoubleTap, isLoaded]);\n\n  const togglePlayPause = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    const video = videoRef.current;\n    if (!video) return;\n\n    if (isPlaying) {\n      video.pause();\n    } else {\n      video.play().catch(() => {});\n    }\n  }, [isPlaying]);\n\n  const handleMuteClick = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    onMuteToggle?.();\n  }, [onMuteToggle]);\n\n  return (\n    <div\n      className=\"absolute inset-0 w-full h-full bg-black overflow-hidden flex items-center justify-center\"\n      onClick={handleTap}\n    >\n      {!isLoaded && thumbnailUrl && (\n        <img\n          src={thumbnailUrl}\n          alt=\"\"\n          className=\"absolute inset-0 w-full h-full object-contain\"\n        />\n      )}\n\n      {!isLoaded && (\n        <div className=\"absolute inset-0 flex items-center justify-center bg-black/50\">\n          <Loader2 className=\"w-12 h-12 text-white animate-spin\" />\n        </div>\n      )}\n\n      <video\n        ref={videoRef}\n        className=\"w-full h-full object-contain\"\n        playsInline\n        loop\n        muted={isMuted}\n        poster={thumbnailUrl || undefined}\n        preload=\"metadata\"\n      />\n\n      <div className=\"absolute top-0 left-0 right-0 h-1 bg-white/20\">\n        <div\n          className=\"h-full bg-white transition-all duration-100\"\n          style={{ width: `${progress * 100}%` }}\n        />\n      </div>\n\n      {showControls && isLoaded && (\n        <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n          <button\n            onClick={togglePlayPause}\n            className=\"w-16 h-16 rounded-full bg-black/50 flex items-center justify-center pointer-events-auto transition-opacity\"\n          >\n            {isPlaying ? (\n              <Pause className=\"w-8 h-8 text-white\" fill=\"white\" />\n            ) : (\n              <Play className=\"w-8 h-8 text-white ml-1\" fill=\"white\" />\n            )}\n          </button>\n        </div>\n      )}\n\n      <button\n        onClick={handleMuteClick}\n        className=\"absolute top-4 right-4 w-10 h-10 rounded-full bg-black/50 flex items-center justify-center\"\n      >\n        {isMuted ? (\n          <VolumeX className=\"w-5 h-5 text-white\" />\n        ) : (\n          <Volume2 className=\"w-5 h-5 text-white\" />\n        )}\n      </button>\n\n      {error && (\n        <div className=\"absolute bottom-20 left-4 right-4 text-center text-white/70 text-sm\">\n          Video playback error. Using fallback quality.\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/api/reels.ts"],"sourcesContent":["import apiClient from './client';\n\nexport interface ReelAuthor {\n  id: string;\n  username: string;\n  name: string;\n  profileImage: string | null;\n  headline?: string | null;\n}\n\nexport interface ReelAudio {\n  id: string;\n  title: string;\n  artist: string | null;\n  albumArt: string | null;\n}\n\nexport interface Reel {\n  id: string;\n  author: ReelAuthor;\n  videoId: string;\n  videoUrl: string;\n  hlsUrl: string | null;\n  thumbnailUrl: string | null;\n  previewGifUrl: string | null;\n  title: string | null;\n  caption: string | null;\n  durationSeconds: number;\n  width: number;\n  height: number;\n  aspectRatio: string;\n  audio: ReelAudio | null;\n  hashtags: string[];\n  mentions: string[];\n  skills: string[];\n  topics: string[];\n  category: string | null;\n  locationName: string | null;\n  isResponse: boolean;\n  responseType: string | null;\n  originalReelId: string | null;\n  pollQuestion: string | null;\n  pollOptions: { id: number; text: string; votes: number }[] | null;\n  pollEndsAt: string | null;\n  userVotedOption: number | null;\n  quizQuestion: string | null;\n  quizOptions: { id: number; text: string }[] | null;\n  codeSnippet: string | null;\n  codeLanguage: string | null;\n  codeFileName: string | null;\n  repoUrl: string | null;\n  ctaType: string | null;\n  ctaText: string | null;\n  ctaUrl: string | null;\n  visibility: string;\n  allowComments: boolean;\n  allowDuets: boolean;\n  allowStitch: boolean;\n  allowDownload: boolean;\n  allowSharing: boolean;\n  status: string;\n  viewsCount: number;\n  likesCount: number;\n  commentsCount: number;\n  sharesCount: number;\n  savesCount: number;\n  isLiked: boolean;\n  isSaved: boolean;\n  publishedAt: string | null;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface ReelsFeedResponse {\n  reels: Reel[];\n  nextCursor: string | null;\n  hasMore: boolean;\n}\n\nexport interface ReelComment {\n  id: string;\n  reelId: string;\n  parentId: string | null;\n  author: ReelAuthor;\n  content: string;\n  mentions: string[];\n  likesCount: number;\n  repliesCount: number;\n  isLiked: boolean;\n  isPinned: boolean;\n  isAuthorHeart: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface CommentsResponse {\n  comments: ReelComment[];\n  nextCursor: string | null;\n  hasMore: boolean;\n}\n\nexport interface UploadUrlResponse {\n  videoId: string;\n  uploadUrl: string;\n  tusUrl: string;\n}\n\nexport interface PreloadDataResponse {\n  hlsUrl: string;\n  videoUrl: string;\n  thumbnailUrl: string;\n  durationSeconds: number;\n}\n\nexport const reelsApi = {\n  getFeed: (params?: { cursor?: string; limit?: number; mode?: 'foryou' | 'following' }) =>\n    apiClient.get<ReelsFeedResponse>('/reels/feed', { params }),\n\n  getFollowingFeed: (params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>('/reels/feed/following', { params }),\n\n  getTrending: (params?: { hours?: number; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>('/reels/trending', { params }),\n\n  getReel: (reelId: string) =>\n    apiClient.get<Reel>(`/reels/${reelId}`),\n\n  getDrafts: (params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>('/reels/drafts', { params }),\n\n  getReelAudio: (reelId: string) =>\n    apiClient.get<{\n      hasAudio: boolean;\n      audio?: {\n        id: string;\n        title: string;\n        artist: string | null;\n        albumArt: string | null;\n        audioUrl: string;\n        durationMs: number;\n        genre: string | null;\n        usageCount: number;\n        sourceReelId: string;\n        originalCreator: { id: string; username: string; name: string } | null;\n      };\n      message?: string;\n    }>(`/reels/${reelId}/audio`),\n\n  publishDraft: (reelId: string, data?: { scheduledAt?: string }) =>\n    apiClient.post<Reel>(`/reels/${reelId}/publish`, data || {}),\n\n  getPreloadData: (reelId: string) =>\n    apiClient.get<PreloadDataResponse>(`/reels/${reelId}/preload`),\n\n  getUploadUrl: () =>\n    apiClient.post<UploadUrlResponse>('/reels/upload-url'),\n\n  createReel: (data: FormData) =>\n    apiClient.post<Reel>('/reels', data),\n\n  onUploadComplete: (videoId: string, metadata: Record<string, unknown>) =>\n    apiClient.post<Reel>('/reels/upload-complete', { videoId, ...metadata }),\n\n  updateReel: (reelId: string, data: Partial<Reel>) =>\n    apiClient.put<Reel>(`/reels/${reelId}`, data),\n\n  deleteReel: (reelId: string) =>\n    apiClient.delete(`/reels/${reelId}`),\n\n  toggleLike: (reelId: string) =>\n    apiClient.post<{ liked: boolean; likesCount: number }>(`/reels/${reelId}/like`),\n\n  toggleSave: (reelId: string) =>\n    apiClient.post<{ saved: boolean; savesCount: number }>(`/reels/${reelId}/save`),\n\n  share: (reelId: string, data: { shareType: string; platform?: string; recipientId?: string }) =>\n    apiClient.post<{ success: boolean; sharesCount: number }>(`/reels/${reelId}/share`, data),\n\n  shareInChat: (reelId: string, data: { recipientId: string; message?: string }) =>\n    apiClient.post<{ success: boolean; message: { id: string; conversationId: string }; sharesCount: number }>(\n      `/reels/${reelId}/share/chat`,\n      data\n    ),\n\n  trackView: (reelId: string, data: { watchTimeMs: number; completed: boolean; source: string }) =>\n    apiClient.post(`/reels/${reelId}/view`, data),\n\n  getComments: (reelId: string, params?: { cursor?: string; limit?: number; parentId?: string }) =>\n    apiClient.get<CommentsResponse>(`/reels/${reelId}/comments`, { params }),\n\n  createComment: (reelId: string, data: { content: string; parentId?: string; mentions?: string[] }) =>\n    apiClient.post<ReelComment>(`/reels/${reelId}/comments`, data),\n\n  toggleCommentLike: (reelId: string, commentId: string) =>\n    apiClient.post<{ liked: boolean; likesCount: number }>(`/reels/${reelId}/comments/${commentId}/like`),\n\n  deleteComment: (reelId: string, commentId: string) =>\n    apiClient.delete(`/reels/${reelId}/comments/${commentId}`),\n\n  heartComment: (reelId: string, commentId: string) =>\n    apiClient.post<{ isAuthorHeart: boolean }>(`/reels/${reelId}/comments/${commentId}/heart`),\n\n  votePoll: (reelId: string, optionId: number) =>\n    apiClient.post<{ success: boolean; pollOptions: { id: number; text: string; votes: number }[]; userVotedOption: number }>(\n      `/reels/${reelId}/poll/vote`,\n      { optionId }\n    ),\n\n  answerQuiz: (reelId: string, optionId: number) =>\n    apiClient.post<{ correct: boolean; correctAnswer: number }>(`/reels/${reelId}/quiz/answer`, { optionId }),\n\n  getByHashtag: (hashtag: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse & { hashtag: string }>(`/reels/hashtag/${hashtag}`, { params }),\n\n  getByAudio: (audioId: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse & { audioId: string }>(`/reels/audio/${audioId}`, { params }),\n\n  getUserReels: (userId: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>(`/reels/user/${userId}`, { params }),\n\n  getUserLikedReels: (userId: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>(`/reels/user/${userId}/liked`, { params }),\n\n  getUserSavedReels: (userId: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>(`/reels/user/${userId}/saved`, { params }),\n\n  getResponses: (reelId: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>(`/reels/${reelId}/responses`, { params }),\n\n  getCreatorAnalytics: (params?: { days?: number }) =>\n    apiClient.get('/reels/analytics/creator', { params }),\n\n  getReelAnalytics: (reelId: string) =>\n    apiClient.get(`/reels/analytics/reel/${reelId}`),\n\n  report: (reelId: string, data: { reason: string; description?: string }) =>\n    apiClient.post(`/reels/${reelId}/report`, data),\n};\n\nexport interface Audio {\n  id: string;\n  title: string;\n  artist: string | null;\n  albumName: string | null;\n  albumArt: string | null;\n  audioUrl: string;\n  durationMs: number;\n  genre: string | null;\n  mood: string | null;\n  tempo: number | null;\n  isRoyaltyFree: boolean;\n  source: string | null;\n  usageCount: number;\n  savesCount: number;\n  isSaved: boolean;\n  createdAt: string;\n}\n\nexport interface AudioResponse {\n  audio: Audio[];\n  nextCursor?: string | null;\n  hasMore?: boolean;\n}\n\nexport const audioApi = {\n  getTrending: (params?: { limit?: number }) =>\n    apiClient.get<AudioResponse>('/audio/trending', { params }),\n\n  search: (query: string, params?: { limit?: number; cursor?: string }) =>\n    apiClient.get<AudioResponse>('/audio/search', { params: { q: query, ...params } }),\n\n  getCategories: () =>\n    apiClient.get<{ categories: { name: string; count: number }[] }>('/audio/categories'),\n\n  getMoods: () =>\n    apiClient.get<{ moods: { name: string; count: number }[] }>('/audio/moods'),\n\n  getByGenre: (genre: string, params?: { limit?: number; cursor?: string }) =>\n    apiClient.get<AudioResponse & { genre: string }>(`/audio/genre/${genre}`, { params }),\n\n  getAudio: (audioId: string) =>\n    apiClient.get<Audio>(`/audio/${audioId}`),\n\n  getAudioReels: (audioId: string, params?: { limit?: number; cursor?: string }) =>\n    apiClient.get(`/audio/${audioId}/reels`, { params }),\n\n  toggleSave: (audioId: string) =>\n    apiClient.post<{ saved: boolean; savesCount: number }>(`/audio/${audioId}/save`),\n\n  getSaved: (params?: { limit?: number; cursor?: string }) =>\n    apiClient.get<AudioResponse>('/audio/saved', { params }),\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 428, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelActions.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useRef, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Heart, MessageCircle, Share2, Bookmark, MoreHorizontal, Music2, Copy, Scissors } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { reelsApi, Reel } from '@/lib/api/reels';\n\ninterface ReelActionsProps {\n  reel: Reel;\n  onCommentClick: () => void;\n  onShareClick: () => void;\n  onLikeUpdate?: (liked: boolean, count: number) => void;\n  onSaveUpdate?: (saved: boolean, count: number) => void;\n}\n\nexport function ReelActions({\n  reel,\n  onCommentClick,\n  onShareClick,\n  onLikeUpdate,\n  onSaveUpdate,\n}: ReelActionsProps) {\n  const router = useRouter();\n  const [isLiked, setIsLiked] = useState(reel.isLiked);\n  const [likesCount, setLikesCount] = useState(reel.likesCount);\n  const [isSaved, setIsSaved] = useState(reel.isSaved);\n  const [savesCount, setSavesCount] = useState(reel.savesCount);\n  const [isLikeAnimating, setIsLikeAnimating] = useState(false);\n  const [showMoreMenu, setShowMoreMenu] = useState(false);\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(e.target as Node)) {\n        setShowMoreMenu(false);\n      }\n    };\n    document.addEventListener('click', handleClickOutside);\n    return () => document.removeEventListener('click', handleClickOutside);\n  }, []);\n\n  const handleLike = useCallback(async () => {\n    const newLiked = !isLiked;\n    const newCount = newLiked ? likesCount + 1 : likesCount - 1;\n    \n    setIsLiked(newLiked);\n    setLikesCount(newCount);\n    \n    if (newLiked) {\n      setIsLikeAnimating(true);\n      setTimeout(() => setIsLikeAnimating(false), 400);\n    }\n\n    try {\n      const response = await reelsApi.toggleLike(reel.id) as { liked: boolean; likesCount: number };\n      setIsLiked(response.liked);\n      setLikesCount(response.likesCount);\n      onLikeUpdate?.(response.liked, response.likesCount);\n    } catch (error) {\n      setIsLiked(!newLiked);\n      setLikesCount(likesCount);\n    }\n  }, [isLiked, likesCount, reel.id, onLikeUpdate]);\n\n  const handleSave = useCallback(async () => {\n    const newSaved = !isSaved;\n    const newCount = newSaved ? savesCount + 1 : savesCount - 1;\n    \n    setIsSaved(newSaved);\n    setSavesCount(newCount);\n\n    try {\n      const response = await reelsApi.toggleSave(reel.id) as { saved: boolean; savesCount: number };\n      setIsSaved(response.saved);\n      setSavesCount(response.savesCount);\n      onSaveUpdate?.(response.saved, response.savesCount);\n    } catch (error) {\n      setIsSaved(!newSaved);\n      setSavesCount(savesCount);\n    }\n  }, [isSaved, savesCount, reel.id, onSaveUpdate]);\n\n  const formatCount = (count: number): string => {\n    if (count >= 1000000) {\n      return `${(count / 1000000).toFixed(1)}M`;\n    }\n    if (count >= 1000) {\n      return `${(count / 1000).toFixed(1)}K`;\n    }\n    return count.toString();\n  };\n\n  return (\n    <div className=\"flex flex-col items-center gap-5\">\n      <button\n        onClick={handleLike}\n        className=\"flex flex-col items-center gap-1 group\"\n      >\n        <div className={cn(\n          \"w-12 h-12 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center transition-transform\",\n          isLikeAnimating && \"animate-bounce-once\"\n        )}>\n          <Heart\n            className={cn(\n              \"w-7 h-7 transition-all\",\n              isLiked ? \"text-red-500 fill-red-500 scale-110\" : \"text-white\"\n            )}\n          />\n        </div>\n        <span className=\"text-white text-xs font-medium\">\n          {formatCount(likesCount)}\n        </span>\n      </button>\n\n      <button\n        onClick={onCommentClick}\n        className=\"flex flex-col items-center gap-1 group\"\n      >\n        <div className=\"w-12 h-12 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center group-active:scale-95 transition-transform\">\n          <MessageCircle className=\"w-7 h-7 text-white\" />\n        </div>\n        <span className=\"text-white text-xs font-medium\">\n          {formatCount(reel.commentsCount)}\n        </span>\n      </button>\n\n      <button\n        onClick={onShareClick}\n        className=\"flex flex-col items-center gap-1 group\"\n      >\n        <div className=\"w-12 h-12 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center group-active:scale-95 transition-transform\">\n          <Share2 className=\"w-7 h-7 text-white\" />\n        </div>\n        <span className=\"text-white text-xs font-medium\">\n          {formatCount(reel.sharesCount)}\n        </span>\n      </button>\n\n      <button\n        onClick={handleSave}\n        className=\"flex flex-col items-center gap-1 group\"\n      >\n        <div className=\"w-12 h-12 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center group-active:scale-95 transition-transform\">\n          <Bookmark\n            className={cn(\n              \"w-7 h-7 transition-all\",\n              isSaved ? \"text-yellow-400 fill-yellow-400\" : \"text-white\"\n            )}\n          />\n        </div>\n        <span className=\"text-white text-xs font-medium\">\n          {formatCount(savesCount)}\n        </span>\n      </button>\n\n      {reel.audio && (\n        <button className=\"w-10 h-10 rounded-full overflow-hidden border-2 border-white animate-spin-slow\">\n          <img\n            src={reel.audio.albumArt || '/audio-placeholder.png'}\n            alt={reel.audio.title}\n            className=\"w-full h-full object-cover\"\n          />\n        </button>\n      )}\n\n      <div className=\"relative\" ref={menuRef}>\n        <button\n          onClick={() => setShowMoreMenu(!showMoreMenu)}\n          className=\"flex flex-col items-center gap-1 group\"\n        >\n          <div className=\"w-10 h-10 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center group-active:scale-95 transition-transform\">\n            <MoreHorizontal className=\"w-5 h-5 text-white\" />\n          </div>\n        </button>\n\n        {showMoreMenu && (\n          <div className=\"absolute bottom-full right-0 mb-2 w-48 bg-neutral-900 rounded-xl shadow-xl border border-white/10 py-2 z-50\">\n            {reel.allowDuets && (\n              <button\n                onClick={() => {\n                  router.push(`/reels/create?duet=${reel.id}`);\n                  setShowMoreMenu(false);\n                }}\n                className=\"w-full flex items-center gap-2 px-4 py-2 hover:bg-white/10 text-left text-sm\"\n              >\n                <Copy className=\"w-4 h-4\" />\n                Duet\n              </button>\n            )}\n            {reel.allowStitch && (\n              <button\n                onClick={() => {\n                  router.push(`/reels/create?stitch=${reel.id}`);\n                  setShowMoreMenu(false);\n                }}\n                className=\"w-full flex items-center gap-2 px-4 py-2 hover:bg-white/10 text-left text-sm\"\n              >\n                <Scissors className=\"w-4 h-4\" />\n                Stitch\n              </button>\n            )}\n            {reel.audio && (\n              <button\n                onClick={() => {\n                  router.push(`/reels/create?audio=${reel.audio!.id}`);\n                  setShowMoreMenu(false);\n                }}\n                className=\"w-full flex items-center gap-2 px-4 py-2 hover:bg-white/10 text-left text-sm\"\n              >\n                <Music2 className=\"w-4 h-4\" />\n                Use this audio\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 785, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelInfo.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { Music, MapPin, ChevronDown, ChevronUp, Code, ExternalLink } from 'lucide-react';\nimport { Reel } from '@/lib/api/reels';\n\ninterface ReelInfoProps {\n  reel: Reel;\n  onAudioClick?: () => void;\n  onHashtagClick?: (hashtag: string) => void;\n}\n\nexport function ReelInfo({ reel, onAudioClick, onHashtagClick }: ReelInfoProps) {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const maxLength = 100;\n  const shouldTruncate = reel.caption && reel.caption.length > maxLength;\n\n  const displayCaption = shouldTruncate && !isExpanded\n    ? reel.caption?.slice(0, maxLength) + '...'\n    : reel.caption;\n\n  const renderHashtags = (text: string | null) => {\n    if (!text) return null;\n    \n    const parts = text.split(/(#\\w+)/g);\n    return parts.map((part, index) => {\n      if (part.startsWith('#')) {\n        const tag = part.slice(1);\n        return (\n          <button\n            key={index}\n            onClick={(e) => {\n              e.stopPropagation();\n              onHashtagClick?.(tag);\n            }}\n            className=\"text-white font-semibold hover:underline\"\n          >\n            {part}\n          </button>\n        );\n      }\n      return <span key={index}>{part}</span>;\n    });\n  };\n\n  const renderMentions = (text: string | null) => {\n    if (!text) return null;\n    \n    const parts = text.split(/(@\\w+)/g);\n    return parts.map((part, index) => {\n      if (part.startsWith('@')) {\n        const username = part.slice(1);\n        return (\n          <Link\n            key={index}\n            href={`/profile/${username}`}\n            onClick={(e) => e.stopPropagation()}\n            className=\"text-blue-400 font-semibold hover:underline\"\n          >\n            {part}\n          </Link>\n        );\n      }\n      return renderHashtags(part);\n    });\n  };\n\n  return (\n    <div className=\"flex flex-col gap-3 max-w-[calc(100%-80px)]\">\n      <Link\n        href={`/profile/${reel.author.id}`}\n        onClick={(e) => e.stopPropagation()}\n        className=\"flex items-center gap-3\"\n      >\n        <div className=\"w-10 h-10 rounded-full overflow-hidden border-2 border-white\">\n          <img\n            src={reel.author.profileImage || '/default-avatar.png'}\n            alt={reel.author.name}\n            className=\"w-full h-full object-cover\"\n          />\n        </div>\n        <div className=\"flex flex-col\">\n          <span className=\"text-white font-semibold text-sm\">\n            {reel.author.username}\n          </span>\n          {reel.author.headline && (\n            <span className=\"text-white/70 text-xs line-clamp-1\">\n              {reel.author.headline}\n            </span>\n          )}\n        </div>\n        <button\n          onClick={(e) => e.stopPropagation()}\n          className=\"ml-2 px-4 py-1 bg-white text-black text-xs font-semibold rounded-full hover:bg-white/90 transition-colors\"\n        >\n          Follow\n        </button>\n      </Link>\n\n      {reel.title && (\n        <h3 className=\"text-white font-semibold text-base\">\n          {reel.title}\n        </h3>\n      )}\n\n      {reel.caption && (\n        <div className=\"text-white text-sm leading-relaxed\">\n          {renderMentions(displayCaption)}\n          {shouldTruncate && (\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                setIsExpanded(!isExpanded);\n              }}\n              className=\"ml-1 text-white/70 hover:text-white inline-flex items-center gap-0.5\"\n            >\n              {isExpanded ? (\n                <>less <ChevronUp className=\"w-3 h-3\" /></>\n              ) : (\n                <>more <ChevronDown className=\"w-3 h-3\" /></>\n              )}\n            </button>\n          )}\n        </div>\n      )}\n\n      {reel.hashtags && reel.hashtags.length > 0 && (\n        <div className=\"flex flex-wrap gap-2\">\n          {reel.hashtags.map((tag) => (\n            <button\n              key={tag}\n              onClick={(e) => {\n                e.stopPropagation();\n                onHashtagClick?.(tag);\n              }}\n              className=\"text-white/90 text-sm hover:text-white\"\n            >\n              #{tag}\n            </button>\n          ))}\n        </div>\n      )}\n\n      {reel.codeSnippet && (\n        <div className=\"flex items-center gap-2 text-white/80 text-sm\">\n          <Code className=\"w-4 h-4\" />\n          <span>{reel.codeLanguage || 'Code'}</span>\n          {reel.codeFileName && (\n            <span className=\"text-white/60\">• {reel.codeFileName}</span>\n          )}\n          {reel.repoUrl && (\n            <a\n              href={reel.repoUrl}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              onClick={(e) => e.stopPropagation()}\n              className=\"ml-1 hover:text-white\"\n            >\n              <ExternalLink className=\"w-3 h-3\" />\n            </a>\n          )}\n        </div>\n      )}\n\n      {reel.locationName && (\n        <div className=\"flex items-center gap-1 text-white/70 text-sm\">\n          <MapPin className=\"w-4 h-4\" />\n          <span>{reel.locationName}</span>\n        </div>\n      )}\n\n      {reel.audio && (\n        <button\n          onClick={(e) => {\n            e.stopPropagation();\n            onAudioClick?.();\n          }}\n          className=\"flex items-center gap-2 text-white/90 text-sm hover:text-white overflow-hidden\"\n        >\n          <div className=\"flex items-center gap-2 animate-marquee\">\n            <Music className=\"w-4 h-4 flex-shrink-0\" />\n            <span className=\"whitespace-nowrap\">\n              {reel.audio.title}\n              {reel.audio.artist && ` • ${reel.audio.artist}`}\n            </span>\n          </div>\n        </button>\n      )}\n\n      {reel.ctaType && reel.ctaText && reel.ctaUrl && (\n        <a\n          href={reel.ctaUrl}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          onClick={(e) => e.stopPropagation()}\n          className=\"inline-flex items-center gap-2 px-4 py-2 bg-white text-black text-sm font-semibold rounded-full hover:bg-white/90 transition-colors w-fit\"\n        >\n          {reel.ctaText}\n          <ExternalLink className=\"w-4 h-4\" />\n        </a>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1139, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/MentionInput.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useCallback, useEffect, KeyboardEvent } from 'react';\nimport Image from 'next/image';\nimport { User } from 'lucide-react';\nimport apiClient from '@/lib/api/client';\n\ninterface MentionUser {\n  id: string;\n  username: string;\n  name: string;\n  profileImage: string | null;\n  headline?: string;\n}\n\ninterface MentionInputProps {\n  value: string;\n  onChange: (value: string, mentions: string[]) => void;\n  placeholder?: string;\n  className?: string;\n  autoFocus?: boolean;\n  onSubmit?: () => void;\n  maxLength?: number;\n}\n\nexport function MentionInput({\n  value,\n  onChange,\n  placeholder = 'Write something...',\n  className = '',\n  autoFocus = false,\n  onSubmit,\n  maxLength,\n}: MentionInputProps) {\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [suggestions, setSuggestions] = useState<MentionUser[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const [mentionQuery, setMentionQuery] = useState('');\n  const [mentionStart, setMentionStart] = useState(-1);\n  const debounceRef = useRef<NodeJS.Timeout | null>(null);\n\n  const extractMentions = useCallback((text: string): string[] => {\n    const mentionRegex = /@(\\w+)/g;\n    const mentions: string[] = [];\n    let match;\n    while ((match = mentionRegex.exec(text)) !== null) {\n      mentions.push(match[1]);\n    }\n    return [...new Set(mentions)];\n  }, []);\n\n  const searchUsers = useCallback(async (query: string) => {\n    if (query.length < 1) {\n      setSuggestions([]);\n      setShowSuggestions(false);\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const response = await apiClient.get('/users/search', {\n        params: { q: query, limit: 6 },\n      });\n      const users = response.data.users || response.data || [];\n      setSuggestions(users);\n      setShowSuggestions(users.length > 0);\n      setSelectedIndex(0);\n    } catch (error) {\n      console.error('Failed to search users:', error);\n      setSuggestions([]);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const handleInput = useCallback((e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const newValue = e.target.value;\n    const cursorPos = e.target.selectionStart || 0;\n    \n    // Check if we're in a mention context\n    const textBeforeCursor = newValue.slice(0, cursorPos);\n    const mentionMatch = textBeforeCursor.match(/@(\\w*)$/);\n    \n    if (mentionMatch) {\n      const query = mentionMatch[1];\n      setMentionQuery(query);\n      setMentionStart(cursorPos - query.length - 1);\n      \n      if (debounceRef.current) {\n        clearTimeout(debounceRef.current);\n      }\n      debounceRef.current = setTimeout(() => {\n        searchUsers(query);\n      }, 200);\n    } else {\n      setShowSuggestions(false);\n      setMentionQuery('');\n      setMentionStart(-1);\n    }\n\n    const mentions = extractMentions(newValue);\n    onChange(newValue, mentions);\n  }, [onChange, searchUsers, extractMentions]);\n\n  const insertMention = useCallback((user: MentionUser) => {\n    if (mentionStart === -1) return;\n\n    const beforeMention = value.slice(0, mentionStart);\n    const afterMention = value.slice(mentionStart + mentionQuery.length + 1);\n    const newValue = `${beforeMention}@${user.username} ${afterMention}`;\n    \n    const mentions = extractMentions(newValue);\n    onChange(newValue, mentions);\n    \n    setShowSuggestions(false);\n    setMentionQuery('');\n    setMentionStart(-1);\n\n    // Focus and set cursor position\n    setTimeout(() => {\n      if (textareaRef.current) {\n        const newCursorPos = mentionStart + user.username.length + 2;\n        textareaRef.current.focus();\n        textareaRef.current.setSelectionRange(newCursorPos, newCursorPos);\n      }\n    }, 0);\n  }, [value, mentionStart, mentionQuery, onChange, extractMentions]);\n\n  const handleKeyDown = useCallback((e: KeyboardEvent<HTMLTextAreaElement>) => {\n    if (!showSuggestions) {\n      if (e.key === 'Enter' && !e.shiftKey && onSubmit) {\n        e.preventDefault();\n        onSubmit();\n      }\n      return;\n    }\n\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        setSelectedIndex(prev => (prev + 1) % suggestions.length);\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        setSelectedIndex(prev => (prev - 1 + suggestions.length) % suggestions.length);\n        break;\n      case 'Enter':\n      case 'Tab':\n        e.preventDefault();\n        if (suggestions[selectedIndex]) {\n          insertMention(suggestions[selectedIndex]);\n        }\n        break;\n      case 'Escape':\n        e.preventDefault();\n        setShowSuggestions(false);\n        break;\n    }\n  }, [showSuggestions, suggestions, selectedIndex, insertMention, onSubmit]);\n\n  useEffect(() => {\n    if (autoFocus && textareaRef.current) {\n      textareaRef.current.focus();\n    }\n  }, [autoFocus]);\n\n  useEffect(() => {\n    return () => {\n      if (debounceRef.current) {\n        clearTimeout(debounceRef.current);\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"relative\">\n      <textarea\n        ref={textareaRef}\n        value={value}\n        onChange={handleInput}\n        onKeyDown={handleKeyDown}\n        placeholder={placeholder}\n        maxLength={maxLength}\n        rows={1}\n        className={`w-full resize-none bg-transparent text-white placeholder-white/40 focus:outline-none ${className}`}\n        style={{ minHeight: '24px' }}\n      />\n\n      {showSuggestions && (\n        <div className=\"absolute bottom-full left-0 right-0 mb-2 bg-neutral-800 rounded-xl overflow-hidden shadow-xl border border-white/10 z-50\">\n          {isLoading ? (\n            <div className=\"p-3 text-center text-white/60 text-sm\">\n              Searching...\n            </div>\n          ) : (\n            <div className=\"max-h-64 overflow-y-auto\">\n              {suggestions.map((user, index) => (\n                <button\n                  key={user.id}\n                  onClick={() => insertMention(user)}\n                  className={`w-full flex items-center gap-3 p-3 transition-colors ${\n                    index === selectedIndex ? 'bg-white/10' : 'hover:bg-white/5'\n                  }`}\n                >\n                  <div className=\"w-10 h-10 rounded-full overflow-hidden bg-neutral-700 flex-shrink-0\">\n                    {user.profileImage ? (\n                      <Image\n                        src={user.profileImage}\n                        alt={user.name}\n                        width={40}\n                        height={40}\n                        className=\"w-full h-full object-cover\"\n                      />\n                    ) : (\n                      <div className=\"w-full h-full flex items-center justify-center\">\n                        <User className=\"w-5 h-5 text-neutral-500\" />\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"flex-1 min-w-0 text-left\">\n                    <p className=\"text-white font-medium truncate\">{user.name}</p>\n                    <p className=\"text-white/60 text-sm truncate\">@{user.username}</p>\n                  </div>\n                </button>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1423, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelComments.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { X, Heart, Send, Loader2, ChevronDown, Pin } from 'lucide-react';\nimport Link from 'next/link';\nimport { cn } from '@/lib/utils';\nimport { reelsApi, ReelComment } from '@/lib/api/reels';\nimport { MentionInput } from './MentionInput';\n\ninterface ReelCommentsProps {\n  reelId: string;\n  isOpen: boolean;\n  onClose: () => void;\n  authorId: string;\n}\n\nexport function ReelComments({ reelId, isOpen, onClose, authorId }: ReelCommentsProps) {\n  const [comments, setComments] = useState<ReelComment[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n  const [nextCursor, setNextCursor] = useState<string | null>(null);\n  const [newComment, setNewComment] = useState('');\n  const [commentMentions, setCommentMentions] = useState<string[]>([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [replyTo, setReplyTo] = useState<ReelComment | null>(null);\n  const [expandedReplies, setExpandedReplies] = useState<Set<string>>(new Set());\n  const [repliesData, setRepliesData] = useState<Record<string, ReelComment[]>>({});\n  const inputRef = useRef<HTMLInputElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const fetchComments = useCallback(async (cursor?: string) => {\n    try {\n      setIsLoading(true);\n      const response = await reelsApi.getComments(reelId, { cursor, limit: 20 }) as {\n        comments: ReelComment[];\n        nextCursor: string | null;\n        hasMore: boolean;\n      };\n      \n      if (cursor) {\n        setComments((prev) => [...prev, ...response.comments]);\n      } else {\n        setComments(response.comments);\n      }\n      setNextCursor(response.nextCursor);\n      setHasMore(response.hasMore);\n    } catch (error) {\n      console.error('Failed to fetch comments:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [reelId]);\n\n  useEffect(() => {\n    if (isOpen) {\n      fetchComments();\n    }\n  }, [isOpen, fetchComments]);\n\n  const fetchReplies = useCallback(async (parentId: string) => {\n    try {\n      const response = await reelsApi.getComments(reelId, { parentId, limit: 10 }) as {\n        comments: ReelComment[];\n        nextCursor: string | null;\n        hasMore: boolean;\n      };\n      setRepliesData((prev) => ({\n        ...prev,\n        [parentId]: response.comments,\n      }));\n    } catch (error) {\n      console.error('Failed to fetch replies:', error);\n    }\n  }, [reelId]);\n\n  const handleSubmit = useCallback(async (e?: React.FormEvent) => {\n    e?.preventDefault();\n    if (!newComment.trim() || isSubmitting) return;\n\n    try {\n      setIsSubmitting(true);\n      const response = await reelsApi.createComment(reelId, {\n        content: newComment.trim(),\n        parentId: replyTo?.id,\n        mentions: commentMentions,\n      }) as ReelComment;\n\n      if (replyTo) {\n        setRepliesData((prev) => ({\n          ...prev,\n          [replyTo.id]: [response, ...(prev[replyTo.id] || [])],\n        }));\n        setComments((prev) =>\n          prev.map((c) =>\n            c.id === replyTo.id\n              ? { ...c, repliesCount: c.repliesCount + 1 }\n              : c\n          )\n        );\n      } else {\n        setComments((prev) => [response, ...prev]);\n      }\n\n      setNewComment('');\n      setCommentMentions([]);\n      setReplyTo(null);\n    } catch (error) {\n      console.error('Failed to create comment:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  }, [reelId, newComment, commentMentions, replyTo, isSubmitting]);\n\n  const handleCommentChange = useCallback((value: string, mentions: string[]) => {\n    setNewComment(value);\n    setCommentMentions(mentions);\n  }, []);\n\n  const handleLike = useCallback(async (commentId: string) => {\n    try {\n      const response = await reelsApi.toggleCommentLike(reelId, commentId) as {\n        liked: boolean;\n        likesCount: number;\n      };\n      \n      setComments((prev) =>\n        prev.map((c) =>\n          c.id === commentId\n            ? { ...c, isLiked: response.liked, likesCount: response.likesCount }\n            : c\n        )\n      );\n\n      Object.keys(repliesData).forEach((parentId) => {\n        setRepliesData((prev) => ({\n          ...prev,\n          [parentId]: prev[parentId].map((c) =>\n            c.id === commentId\n              ? { ...c, isLiked: response.liked, likesCount: response.likesCount }\n              : c\n          ),\n        }));\n      });\n    } catch (error) {\n      console.error('Failed to toggle like:', error);\n    }\n  }, [reelId, repliesData]);\n\n  const handleReply = useCallback((comment: ReelComment) => {\n    setReplyTo(comment);\n    inputRef.current?.focus();\n  }, []);\n\n  const toggleReplies = useCallback((commentId: string) => {\n    const newExpanded = new Set(expandedReplies);\n    if (newExpanded.has(commentId)) {\n      newExpanded.delete(commentId);\n    } else {\n      newExpanded.add(commentId);\n      if (!repliesData[commentId]) {\n        fetchReplies(commentId);\n      }\n    }\n    setExpandedReplies(newExpanded);\n  }, [expandedReplies, repliesData, fetchReplies]);\n\n  const formatTime = (dateString: string) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n    const minutes = Math.floor(diff / 60000);\n    const hours = Math.floor(diff / 3600000);\n    const days = Math.floor(diff / 86400000);\n\n    if (minutes < 1) return 'now';\n    if (minutes < 60) return `${minutes}m`;\n    if (hours < 24) return `${hours}h`;\n    if (days < 7) return `${days}d`;\n    return date.toLocaleDateString();\n  };\n\n  const renderComment = (comment: ReelComment, isReply = false) => (\n    <div key={comment.id} className={cn(\"flex gap-3\", isReply && \"ml-12\")}>\n      <Link href={`/profile/${comment.author.id}`}>\n        <img\n          src={comment.author.profileImage || '/default-avatar.png'}\n          alt={comment.author.name}\n          className=\"w-8 h-8 rounded-full flex-shrink-0\"\n        />\n      </Link>\n      \n      <div className=\"flex-1 min-w-0\">\n        <div className=\"flex items-center gap-2 flex-wrap\">\n          <Link\n            href={`/profile/${comment.author.id}`}\n            className=\"font-semibold text-sm hover:underline\"\n          >\n            {comment.author.username}\n          </Link>\n          {comment.author.id === authorId && (\n            <span className=\"text-xs bg-blue-500 text-white px-1.5 py-0.5 rounded\">\n              Creator\n            </span>\n          )}\n          {comment.isPinned && (\n            <Pin className=\"w-3 h-3 text-gray-400\" />\n          )}\n          <span className=\"text-gray-500 text-xs\">\n            {formatTime(comment.createdAt)}\n          </span>\n        </div>\n        \n        <p className=\"text-sm mt-1 break-words\">{comment.content}</p>\n        \n        <div className=\"flex items-center gap-4 mt-2\">\n          <button\n            onClick={() => handleLike(comment.id)}\n            className=\"flex items-center gap-1 text-xs text-gray-500 hover:text-gray-700\"\n          >\n            <Heart\n              className={cn(\n                \"w-4 h-4\",\n                comment.isLiked && \"fill-red-500 text-red-500\"\n              )}\n            />\n            {comment.likesCount > 0 && comment.likesCount}\n          </button>\n          \n          <button\n            onClick={() => handleReply(comment)}\n            className=\"text-xs text-gray-500 hover:text-gray-700\"\n          >\n            Reply\n          </button>\n          \n          {comment.isAuthorHeart && (\n            <span className=\"text-xs text-red-500 flex items-center gap-1\">\n              <Heart className=\"w-3 h-3 fill-red-500\" /> by creator\n            </span>\n          )}\n        </div>\n        \n        {!isReply && comment.repliesCount > 0 && (\n          <button\n            onClick={() => toggleReplies(comment.id)}\n            className=\"flex items-center gap-1 text-xs text-blue-500 mt-2 hover:underline\"\n          >\n            <ChevronDown\n              className={cn(\n                \"w-4 h-4 transition-transform\",\n                expandedReplies.has(comment.id) && \"rotate-180\"\n              )}\n            />\n            {expandedReplies.has(comment.id)\n              ? 'Hide replies'\n              : `View ${comment.repliesCount} ${comment.repliesCount === 1 ? 'reply' : 'replies'}`\n            }\n          </button>\n        )}\n        \n        {expandedReplies.has(comment.id) && repliesData[comment.id] && (\n          <div className=\"mt-3 space-y-4\">\n            {repliesData[comment.id].map((reply) => renderComment(reply, true))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-end justify-center\">\n      <div\n        className=\"absolute inset-0 bg-black/50\"\n        onClick={onClose}\n      />\n      \n      <div className=\"relative w-full max-w-lg h-[70vh] bg-white dark:bg-gray-900 rounded-t-3xl flex flex-col animate-slide-up\">\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700\">\n          <h2 className=\"text-lg font-semibold\">Comments</h2>\n          <button\n            onClick={onClose}\n            className=\"w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 flex items-center justify-center\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n        \n        <div\n          ref={containerRef}\n          className=\"flex-1 overflow-y-auto p-4 space-y-6\"\n        >\n          {isLoading && comments.length === 0 ? (\n            <div className=\"flex items-center justify-center h-32\">\n              <Loader2 className=\"w-8 h-8 animate-spin text-gray-400\" />\n            </div>\n          ) : comments.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center h-32 text-gray-500\">\n              <p>No comments yet</p>\n              <p className=\"text-sm\">Be the first to comment!</p>\n            </div>\n          ) : (\n            <>\n              {comments.map((comment) => renderComment(comment))}\n              \n              {hasMore && (\n                <button\n                  onClick={() => fetchComments(nextCursor || undefined)}\n                  disabled={isLoading}\n                  className=\"w-full py-2 text-sm text-blue-500 hover:underline disabled:opacity-50\"\n                >\n                  {isLoading ? (\n                    <Loader2 className=\"w-4 h-4 animate-spin mx-auto\" />\n                  ) : (\n                    'Load more comments'\n                  )}\n                </button>\n              )}\n            </>\n          )}\n        </div>\n        \n        <div className=\"border-t border-gray-200 dark:border-gray-700 p-4\">\n          {replyTo && (\n            <div className=\"flex items-center justify-between text-sm text-gray-500 mb-2 bg-gray-100 dark:bg-gray-800 p-2 rounded-lg\">\n              <span>Replying to @{replyTo.author.username}</span>\n              <button\n                onClick={() => setReplyTo(null)}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <X className=\"w-4 h-4\" />\n              </button>\n            </div>\n          )}\n          \n          <form onSubmit={handleSubmit} className=\"flex items-center gap-3\">\n            <div className=\"flex-1 bg-gray-100 dark:bg-gray-800 rounded-full px-4 py-2\">\n              <MentionInput\n                value={newComment}\n                onChange={handleCommentChange}\n                placeholder={replyTo ? `Reply to @${replyTo.author.username}...` : \"Add a comment...\"}\n                className=\"text-sm text-gray-900 dark:text-white\"\n                onSubmit={() => handleSubmit()}\n                autoFocus={!!replyTo}\n              />\n            </div>\n            <button\n              type=\"submit\"\n              disabled={!newComment.trim() || isSubmitting}\n              className=\"w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isSubmitting ? (\n                <Loader2 className=\"w-5 h-5 animate-spin\" />\n              ) : (\n                <Send className=\"w-5 h-5\" />\n              )}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1999, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelShareSheet.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport Image from 'next/image';\nimport { \n  X, \n  Search, \n  Send, \n  Copy, \n  Check,\n  Link2,\n  MessageCircle,\n  Loader2,\n  User\n} from 'lucide-react';\nimport { Reel } from '@/lib/api/reels';\nimport apiClient from '@/lib/api/client';\nimport { searchUsersForMention } from '@/lib/api/posts';\n\ninterface ReelShareSheetProps {\n  reel: Reel;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\ninterface Conversation {\n  id: string;\n  otherParticipant: {\n    id: string;\n    username: string;\n    name: string;\n    profileImage: string | null;\n  };\n  lastMessage?: {\n    content: string;\n  };\n}\n\nexport function ReelShareSheet({ reel, isOpen, onClose }: ReelShareSheetProps) {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [conversations, setConversations] = useState<Conversation[]>([]);\n  const [searchUsers, setSearchUsers] = useState<Array<{ id: string; name: string; username: string; profileImage?: string | null }>>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSearching, setIsSearching] = useState(false);\n  const [sendingTo, setSendingTo] = useState<string | null>(null);\n  const [sentTo, setSentTo] = useState<Set<string>>(new Set());\n  const [copied, setCopied] = useState(false);\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    if (isOpen) {\n      fetchConversations();\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n      setSearchQuery('');\n      setSentTo(new Set());\n      setMessage('');\n    }\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n\n  const fetchConversations = async () => {\n    try {\n      setIsLoading(true);\n      const response = await apiClient.get('/chat/conversations');\n      setConversations(response?.conversations || []);\n    } catch (error) {\n      console.error('Failed to fetch conversations:', error);\n      setConversations([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const shareToUser = async (userId: string) => {\n    try {\n      setSendingTo(userId);\n      await apiClient.post(`/reels/${reel.id}/share/chat`, {\n        recipientId: userId,\n        message: message || undefined,\n      });\n      setSentTo(prev => new Set(prev).add(userId));\n      setMessage('');\n    } catch (error) {\n      console.error('Failed to share reel:', error);\n    } finally {\n      setSendingTo(null);\n    }\n  };\n\n  const copyLink = useCallback(async () => {\n    try {\n      const url = `${window.location.origin}/reels/${reel.id}`;\n      await navigator.clipboard.writeText(url);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n      \n      // Track share\n      await apiClient.post(`/reels/${reel.id}/share`, {\n        shareType: 'copy_link',\n      });\n    } catch (error) {\n      console.error('Failed to copy link:', error);\n    }\n  }, [reel.id]);\n\n  const filteredConversations = conversations.filter(conv => {\n    if (!searchQuery) return true;\n    const query = searchQuery.toLowerCase();\n    return (\n      conv.otherParticipant.name?.toLowerCase().includes(query) ||\n      conv.otherParticipant.username?.toLowerCase().includes(query)\n    );\n  });\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-end justify-center\">\n      <div \n        className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n      \n      <div className=\"relative w-full max-w-lg bg-neutral-900 rounded-t-3xl max-h-[85vh] flex flex-col animate-slide-up\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 border-b border-white/10\">\n          <h2 className=\"text-lg font-semibold text-white\">Share Reel</h2>\n          <button\n            onClick={onClose}\n            className=\"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors\"\n          >\n            <X className=\"w-5 h-5 text-white\" />\n          </button>\n        </div>\n\n        {/* Reel Preview */}\n        <div className=\"p-4 border-b border-white/10\">\n          <div className=\"flex gap-3\">\n            <div className=\"w-16 h-24 bg-neutral-800 rounded-lg overflow-hidden flex-shrink-0\">\n              {reel.thumbnailUrl ? (\n                <Image\n                  src={reel.thumbnailUrl}\n                  alt=\"\"\n                  width={64}\n                  height={96}\n                  className=\"w-full h-full object-cover\"\n                />\n              ) : (\n                <div className=\"w-full h-full flex items-center justify-center\">\n                  <MessageCircle className=\"w-6 h-6 text-neutral-600\" />\n                </div>\n              )}\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-white font-medium line-clamp-2\">\n                {reel.title || reel.caption || 'Check out this reel!'}\n              </p>\n              <p className=\"text-white/60 text-sm mt-1\">\n                by @{reel.author.username}\n              </p>\n            </div>\n          </div>\n          \n          {/* Optional message */}\n          <input\n            type=\"text\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            placeholder=\"Add a message...\"\n            className=\"w-full mt-3 px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/40 focus:outline-none focus:border-white/30\"\n          />\n        </div>\n\n        {/* Quick Actions */}\n        <div className=\"p-4 border-b border-white/10\">\n          <div className=\"flex gap-4\">\n            <button\n              onClick={copyLink}\n              className=\"flex flex-col items-center gap-2 flex-1\"\n            >\n              <div className={`w-14 h-14 rounded-full flex items-center justify-center transition-colors ${\n                copied ? 'bg-green-500/20' : 'bg-white/10 hover:bg-white/20'\n              }`}>\n                {copied ? (\n                  <Check className=\"w-6 h-6 text-green-500\" />\n                ) : (\n                  <Link2 className=\"w-6 h-6 text-white\" />\n                )}\n              </div>\n              <span className=\"text-white/80 text-xs\">\n                {copied ? 'Copied!' : 'Copy Link'}\n              </span>\n            </button>\n          </div>\n        </div>\n\n        {/* Search */}\n        <div className=\"p-4 border-b border-white/10\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40\" />\n            <input\n              type=\"text\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Search conversations...\"\n              className=\"w-full pl-10 pr-4 py-2.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/40 focus:outline-none focus:border-white/30\"\n            />\n          </div>\n        </div>\n\n        {/* Conversations List */}\n        <div className=\"flex-1 overflow-y-auto p-4\">\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <Loader2 className=\"w-8 h-8 text-white/60 animate-spin\" />\n            </div>\n          ) : filteredConversations.length === 0 ? (\n            <div className=\"text-center py-8 text-white/60\">\n              {searchQuery ? 'No conversations found' : 'No recent conversations'}\n            </div>\n          ) : (\n            <div className=\"space-y-2\">\n              {filteredConversations.map((conv) => {\n                const isSent = sentTo.has(conv.otherParticipant.id);\n                const isSending = sendingTo === conv.otherParticipant.id;\n                \n                return (\n                  <div\n                    key={conv.id}\n                    className=\"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 transition-colors\"\n                  >\n                    <div className=\"w-12 h-12 rounded-full overflow-hidden bg-neutral-800 flex-shrink-0\">\n                      {conv.otherParticipant.profileImage ? (\n                        <Image\n                          src={conv.otherParticipant.profileImage}\n                          alt={conv.otherParticipant.name}\n                          width={48}\n                          height={48}\n                          className=\"w-full h-full object-cover\"\n                        />\n                      ) : (\n                        <div className=\"w-full h-full flex items-center justify-center\">\n                          <User className=\"w-6 h-6 text-neutral-600\" />\n                        </div>\n                      )}\n                    </div>\n                    \n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-white font-medium truncate\">\n                        {conv.otherParticipant.name}\n                      </p>\n                      <p className=\"text-white/60 text-sm truncate\">\n                        @{conv.otherParticipant.username}\n                      </p>\n                    </div>\n                    \n                    <button\n                      onClick={() => shareToUser(conv.otherParticipant.id)}\n                      disabled={isSending || isSent}\n                      className={`px-4 py-2 rounded-full font-medium text-sm transition-colors ${\n                        isSent\n                          ? 'bg-green-500/20 text-green-500'\n                          : 'bg-white text-black hover:bg-white/90'\n                      } disabled:opacity-50`}\n                    >\n                      {isSending ? (\n                        <Loader2 className=\"w-4 h-4 animate-spin\" />\n                      ) : isSent ? (\n                        <span className=\"flex items-center gap-1\">\n                          <Check className=\"w-4 h-4\" />\n                          Sent\n                        </span>\n                      ) : (\n                        <span className=\"flex items-center gap-1\">\n                          <Send className=\"w-4 h-4\" />\n                          Send\n                        </span>\n                      )}\n                    </button>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      </div>\n\n      <style jsx>{`\n        @keyframes slide-up {\n          from {\n            transform: translateY(100%);\n          }\n          to {\n            transform: translateY(0);\n          }\n        }\n        .animate-slide-up {\n          animation: slide-up 0.3s ease-out;\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2493, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelPoll.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport { cn } from '@/lib/utils';\nimport { reelsApi } from '@/lib/api/reels';\n\ninterface PollOption {\n  id: number;\n  text: string;\n  votes: number;\n}\n\ninterface ReelPollProps {\n  reelId: string;\n  question: string;\n  options: PollOption[];\n  userVotedOption: number | null;\n  endsAt: string | null;\n}\n\nexport function ReelPoll({\n  reelId,\n  question,\n  options: initialOptions,\n  userVotedOption: initialVote,\n  endsAt,\n}: ReelPollProps) {\n  const [options, setOptions] = useState(initialOptions);\n  const [votedOption, setVotedOption] = useState(initialVote);\n  const [isVoting, setIsVoting] = useState(false);\n\n  const totalVotes = options.reduce((sum, opt) => sum + opt.votes, 0);\n  const isEnded = endsAt ? new Date(endsAt) < new Date() : false;\n  const hasVoted = votedOption !== null;\n\n  const handleVote = useCallback(async (optionId: number) => {\n    if (hasVoted || isVoting || isEnded) return;\n\n    try {\n      setIsVoting(true);\n      const response = await reelsApi.votePoll(reelId, optionId) as {\n        success: boolean;\n        pollOptions: PollOption[];\n        userVotedOption: number;\n      };\n      \n      setOptions(response.pollOptions);\n      setVotedOption(response.userVotedOption);\n    } catch (error) {\n      console.error('Failed to vote:', error);\n    } finally {\n      setIsVoting(false);\n    }\n  }, [reelId, hasVoted, isVoting, isEnded]);\n\n  const getPercentage = (votes: number) => {\n    if (totalVotes === 0) return 0;\n    return Math.round((votes / totalVotes) * 100);\n  };\n\n  const formatTimeLeft = () => {\n    if (!endsAt) return null;\n    const end = new Date(endsAt);\n    const now = new Date();\n    const diff = end.getTime() - now.getTime();\n    \n    if (diff <= 0) return 'Ended';\n    \n    const hours = Math.floor(diff / 3600000);\n    const minutes = Math.floor((diff % 3600000) / 60000);\n    \n    if (hours > 24) {\n      return `${Math.floor(hours / 24)}d left`;\n    }\n    if (hours > 0) {\n      return `${hours}h ${minutes}m left`;\n    }\n    return `${minutes}m left`;\n  };\n\n  return (\n    <div className=\"bg-black/60 backdrop-blur-md rounded-2xl p-4 space-y-3\">\n      <h3 className=\"text-white font-semibold text-lg\">{question}</h3>\n      \n      <div className=\"space-y-2\">\n        {options.map((option) => {\n          const percentage = getPercentage(option.votes);\n          const isSelected = votedOption === option.id;\n          \n          return (\n            <button\n              key={option.id}\n              onClick={() => handleVote(option.id)}\n              disabled={hasVoted || isVoting || isEnded}\n              className={cn(\n                \"relative w-full p-3 rounded-xl text-left transition-all overflow-hidden\",\n                hasVoted || isEnded\n                  ? \"bg-white/10\"\n                  : \"bg-white/20 hover:bg-white/30 active:scale-[0.98]\",\n                isSelected && \"ring-2 ring-white\"\n              )}\n            >\n              {(hasVoted || isEnded) && (\n                <div\n                  className={cn(\n                    \"absolute inset-0 transition-all\",\n                    isSelected ? \"bg-blue-500/40\" : \"bg-white/10\"\n                  )}\n                  style={{ width: `${percentage}%` }}\n                />\n              )}\n              \n              <div className=\"relative flex items-center justify-between\">\n                <span className=\"text-white font-medium\">{option.text}</span>\n                {(hasVoted || isEnded) && (\n                  <span className=\"text-white/80 font-semibold\">\n                    {percentage}%\n                  </span>\n                )}\n              </div>\n            </button>\n          );\n        })}\n      </div>\n      \n      <div className=\"flex items-center justify-between text-white/60 text-sm\">\n        <span>{totalVotes} {totalVotes === 1 ? 'vote' : 'votes'}</span>\n        {endsAt && <span>{formatTimeLeft()}</span>}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAoBO,SAAS,SAAS,EACvB,MAAM,EACN,QAAQ,EACR,SAAS,cAAc,EACvB,iBAAiB,WAAW,EAC5B,MAAM,EACQ;IACd,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,MAAM,aAAa,QAAQ,MAAM,CAAC,CAAC,KAAK,MAAQ,MAAM,IAAI,KAAK,EAAE;IACjE,MAAM,UAAU,SAAS,IAAI,KAAK,UAAU,IAAI,SAAS;IACzD,MAAM,WAAW,gBAAgB;IAEjC,MAAM,aAAa,IAAA,oNAAW,EAAC,OAAO;QACpC,IAAI,YAAY,YAAY,SAAS;QAErC,IAAI;YACF,YAAY;YACZ,MAAM,WAAW,MAAM,sIAAQ,CAAC,QAAQ,CAAC,QAAQ;YAMjD,WAAW,SAAS,WAAW;YAC/B,eAAe,SAAS,eAAe;QACzC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,mBAAmB;QACnC,SAAU;YACR,YAAY;QACd;IACF,GAAG;QAAC;QAAQ;QAAU;QAAU;KAAQ;IAExC,MAAM,gBAAgB,CAAC;QACrB,IAAI,eAAe,GAAG,OAAO;QAC7B,OAAO,KAAK,KAAK,CAAC,AAAC,QAAQ,aAAc;IAC3C;IAEA,MAAM,iBAAiB;QACrB,IAAI,CAAC,QAAQ,OAAO;QACpB,MAAM,MAAM,IAAI,KAAK;QACrB,MAAM,MAAM,IAAI;QAChB,MAAM,OAAO,IAAI,OAAO,KAAK,IAAI,OAAO;QAExC,IAAI,QAAQ,GAAG,OAAO;QAEtB,MAAM,QAAQ,KAAK,KAAK,CAAC,OAAO;QAChC,MAAM,UAAU,KAAK,KAAK,CAAC,AAAC,OAAO,UAAW;QAE9C,IAAI,QAAQ,IAAI;YACd,OAAO,GAAG,KAAK,KAAK,CAAC,QAAQ,IAAI,MAAM,CAAC;QAC1C;QACA,IAAI,QAAQ,GAAG;YACb,OAAO,GAAG,MAAM,EAAE,EAAE,QAAQ,MAAM,CAAC;QACrC;QACA,OAAO,GAAG,QAAQ,MAAM,CAAC;IAC3B;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAoC;;;;;;0BAElD,8OAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC;oBACZ,MAAM,aAAa,cAAc,OAAO,KAAK;oBAC7C,MAAM,aAAa,gBAAgB,OAAO,EAAE;oBAE5C,qBACE,8OAAC;wBAEC,SAAS,IAAM,WAAW,OAAO,EAAE;wBACnC,UAAU,YAAY,YAAY;wBAClC,WAAW,IAAA,yHAAE,EACX,2EACA,YAAY,UACR,gBACA,qDACJ,cAAc;;4BAGf,CAAC,YAAY,OAAO,mBACnB,8OAAC;gCACC,WAAW,IAAA,yHAAE,EACX,mCACA,aAAa,mBAAmB;gCAElC,OAAO;oCAAE,OAAO,GAAG,WAAW,CAAC,CAAC;gCAAC;;;;;;0CAIrC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAA0B,OAAO,IAAI;;;;;;oCACpD,CAAC,YAAY,OAAO,mBACnB,8OAAC;wCAAK,WAAU;;4CACb;4CAAW;;;;;;;;;;;;;;uBAzBb,OAAO,EAAE;;;;;gBA+BpB;;;;;;0BAGF,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;;4BAAM;4BAAW;4BAAE,eAAe,IAAI,SAAS;;;;;;;oBAC/C,wBAAU,8OAAC;kCAAM;;;;;;;;;;;;;;;;;;AAI1B"}},
    {"offset": {"line": 2660, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelQuiz.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport { Check, X } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { reelsApi } from '@/lib/api/reels';\n\ninterface QuizOption {\n  id: number;\n  text: string;\n}\n\ninterface ReelQuizProps {\n  reelId: string;\n  question: string;\n  options: QuizOption[];\n}\n\nexport function ReelQuiz({ reelId, question, options }: ReelQuizProps) {\n  const [selectedOption, setSelectedOption] = useState<number | null>(null);\n  const [correctAnswer, setCorrectAnswer] = useState<number | null>(null);\n  const [isAnswered, setIsAnswered] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleAnswer = useCallback(async (optionId: number) => {\n    if (isAnswered || isSubmitting) return;\n\n    try {\n      setIsSubmitting(true);\n      setSelectedOption(optionId);\n      \n      const response = await reelsApi.answerQuiz(reelId, optionId) as {\n        correct: boolean;\n        correctAnswer: number;\n      };\n      \n      setCorrectAnswer(response.correctAnswer);\n      setIsAnswered(true);\n    } catch (error) {\n      console.error('Failed to answer quiz:', error);\n      setSelectedOption(null);\n    } finally {\n      setIsSubmitting(false);\n    }\n  }, [reelId, isAnswered, isSubmitting]);\n\n  return (\n    <div className=\"bg-black/60 backdrop-blur-md rounded-2xl p-4 space-y-3\">\n      <h3 className=\"text-white font-semibold text-lg\">{question}</h3>\n      \n      <div className=\"space-y-2\">\n        {options.map((option) => {\n          const isSelected = selectedOption === option.id;\n          const isCorrect = correctAnswer === option.id;\n          const isWrong = isAnswered && isSelected && !isCorrect;\n          \n          return (\n            <button\n              key={option.id}\n              onClick={() => handleAnswer(option.id)}\n              disabled={isAnswered || isSubmitting}\n              className={cn(\n                \"relative w-full p-3 rounded-xl text-left transition-all\",\n                isAnswered\n                  ? isCorrect\n                    ? \"bg-green-500/40 ring-2 ring-green-500\"\n                    : isWrong\n                      ? \"bg-red-500/40 ring-2 ring-red-500\"\n                      : \"bg-white/10\"\n                  : \"bg-white/20 hover:bg-white/30 active:scale-[0.98]\",\n                isSubmitting && isSelected && \"animate-pulse\"\n              )}\n            >\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-white font-medium\">{option.text}</span>\n                {isAnswered && isCorrect && (\n                  <Check className=\"w-5 h-5 text-green-400\" />\n                )}\n                {isWrong && (\n                  <X className=\"w-5 h-5 text-red-400\" />\n                )}\n              </div>\n            </button>\n          );\n        })}\n      </div>\n      \n      {isAnswered && (\n        <div className={cn(\n          \"text-center py-2 rounded-lg font-medium\",\n          selectedOption === correctAnswer\n            ? \"bg-green-500/20 text-green-400\"\n            : \"bg-red-500/20 text-red-400\"\n        )}>\n          {selectedOption === correctAnswer ? 'Correct! 🎉' : 'Wrong answer 😔'}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AALA;;;;;;AAkBO,SAAS,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,OAAO,EAAiB;IACnE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,iNAAQ,EAAgB;IACpE,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAgB;IAClE,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IAEjD,MAAM,eAAe,IAAA,oNAAW,EAAC,OAAO;QACtC,IAAI,cAAc,cAAc;QAEhC,IAAI;YACF,gBAAgB;YAChB,kBAAkB;YAElB,MAAM,WAAW,MAAM,sIAAQ,CAAC,UAAU,CAAC,QAAQ;YAKnD,iBAAiB,SAAS,aAAa;YACvC,cAAc;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,kBAAkB;QACpB,SAAU;YACR,gBAAgB;QAClB;IACF,GAAG;QAAC;QAAQ;QAAY;KAAa;IAErC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAoC;;;;;;0BAElD,8OAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC;oBACZ,MAAM,aAAa,mBAAmB,OAAO,EAAE;oBAC/C,MAAM,YAAY,kBAAkB,OAAO,EAAE;oBAC7C,MAAM,UAAU,cAAc,cAAc,CAAC;oBAE7C,qBACE,8OAAC;wBAEC,SAAS,IAAM,aAAa,OAAO,EAAE;wBACrC,UAAU,cAAc;wBACxB,WAAW,IAAA,yHAAE,EACX,2DACA,aACI,YACE,0CACA,UACE,sCACA,gBACJ,qDACJ,gBAAgB,cAAc;kCAGhC,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CAA0B,OAAO,IAAI;;;;;;gCACpD,cAAc,2BACb,8OAAC,6MAAK;oCAAC,WAAU;;;;;;gCAElB,yBACC,8OAAC,iMAAC;oCAAC,WAAU;;;;;;;;;;;;uBArBZ,OAAO,EAAE;;;;;gBA0BpB;;;;;;YAGD,4BACC,8OAAC;gBAAI,WAAW,IAAA,yHAAE,EAChB,2CACA,mBAAmB,gBACf,mCACA;0BAEH,mBAAmB,gBAAgB,gBAAgB;;;;;;;;;;;;AAK9D"}},
    {"offset": {"line": 2782, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelCodeSnippet.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Copy, Check, FileCode } from 'lucide-react';\n\ninterface ReelCodeSnippetProps {\n  code: string;\n  language?: string | null;\n  fileName?: string | null;\n}\n\nexport function ReelCodeSnippet({ code, language, fileName }: ReelCodeSnippetProps) {\n  const [copied, setCopied] = useState(false);\n\n  const handleCopy = async (e: React.MouseEvent) => {\n    e.stopPropagation();\n    try {\n      await navigator.clipboard.writeText(code);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (error) {\n      console.error('Failed to copy:', error);\n    }\n  };\n\n  const getLanguageColor = (lang: string | null | undefined): string => {\n    const colors: Record<string, string> = {\n      javascript: 'text-yellow-400',\n      typescript: 'text-blue-400',\n      python: 'text-green-400',\n      java: 'text-red-400',\n      kotlin: 'text-purple-400',\n      swift: 'text-orange-400',\n      rust: 'text-orange-500',\n      go: 'text-cyan-400',\n      cpp: 'text-blue-500',\n      c: 'text-blue-600',\n      csharp: 'text-purple-500',\n      ruby: 'text-red-500',\n      php: 'text-indigo-400',\n      html: 'text-orange-400',\n      css: 'text-blue-400',\n      sql: 'text-yellow-500',\n      shell: 'text-green-500',\n      bash: 'text-green-500',\n    };\n    return lang ? colors[lang.toLowerCase()] || 'text-gray-400' : 'text-gray-400';\n  };\n\n  return (\n    <div className=\"bg-black/80 backdrop-blur-md rounded-xl overflow-hidden\">\n      <div className=\"flex items-center justify-between px-4 py-2 bg-white/5 border-b border-white/10\">\n        <div className=\"flex items-center gap-2\">\n          <FileCode className={`w-4 h-4 ${getLanguageColor(language)}`} />\n          {fileName && (\n            <span className=\"text-white/70 text-sm font-mono\">{fileName}</span>\n          )}\n          {language && !fileName && (\n            <span className=\"text-white/70 text-sm\">{language}</span>\n          )}\n        </div>\n        \n        <button\n          onClick={handleCopy}\n          className=\"flex items-center gap-1 text-white/60 hover:text-white text-sm transition-colors\"\n        >\n          {copied ? (\n            <>\n              <Check className=\"w-4 h-4\" />\n              Copied!\n            </>\n          ) : (\n            <>\n              <Copy className=\"w-4 h-4\" />\n              Copy\n            </>\n          )}\n        </button>\n      </div>\n      \n      <pre className=\"p-4 overflow-x-auto\">\n        <code className=\"text-sm font-mono text-white/90 whitespace-pre-wrap break-words\">\n          {code}\n        </code>\n      </pre>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAHA;;;;AAWO,SAAS,gBAAgB,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAwB;IAChF,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IAErC,MAAM,aAAa,OAAO;QACxB,EAAE,eAAe;QACjB,IAAI;YACF,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC;YACpC,UAAU;YACV,WAAW,IAAM,UAAU,QAAQ;QACrC,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,mBAAmB;QACnC;IACF;IAEA,MAAM,mBAAmB,CAAC;QACxB,MAAM,SAAiC;YACrC,YAAY;YACZ,YAAY;YACZ,QAAQ;YACR,MAAM;YACN,QAAQ;YACR,OAAO;YACP,MAAM;YACN,IAAI;YACJ,KAAK;YACL,GAAG;YACH,QAAQ;YACR,MAAM;YACN,KAAK;YACL,MAAM;YACN,KAAK;YACL,KAAK;YACL,OAAO;YACP,MAAM;QACR;QACA,OAAO,OAAO,MAAM,CAAC,KAAK,WAAW,GAAG,IAAI,kBAAkB;IAChE;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0NAAQ;gCAAC,WAAW,CAAC,QAAQ,EAAE,iBAAiB,WAAW;;;;;;4BAC3D,0BACC,8OAAC;gCAAK,WAAU;0CAAmC;;;;;;4BAEpD,YAAY,CAAC,0BACZ,8OAAC;gCAAK,WAAU;0CAAyB;;;;;;;;;;;;kCAI7C,8OAAC;wBACC,SAAS;wBACT,WAAU;kCAET,uBACC;;8CACE,8OAAC,6MAAK;oCAAC,WAAU;;;;;;gCAAY;;yDAI/B;;8CACE,8OAAC,0MAAI;oCAAC,WAAU;;;;;;gCAAY;;;;;;;;;;;;;;0BAOpC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAK,WAAU;8BACb;;;;;;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 2931, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelCard.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useRef, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Heart } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { ReelPlayer } from './ReelPlayer';\nimport { ReelActions } from './ReelActions';\nimport { ReelInfo } from './ReelInfo';\nimport { ReelComments } from './ReelComments';\nimport { ReelShareSheet } from './ReelShareSheet';\nimport { ReelPoll } from './ReelPoll';\nimport { ReelQuiz } from './ReelQuiz';\nimport { ReelCodeSnippet } from './ReelCodeSnippet';\nimport { reelsApi, Reel } from '@/lib/api/reels';\n\ninterface ReelCardProps {\n  reel: Reel;\n  isActive: boolean;\n  isMuted: boolean;\n  onMuteToggle: () => void;\n}\n\nexport function ReelCard({ reel, isActive, isMuted, onMuteToggle }: ReelCardProps) {\n  const router = useRouter();\n  const [showComments, setShowComments] = useState(false);\n  const [showShare, setShowShare] = useState(false);\n  const [showHeart, setShowHeart] = useState(false);\n  const [localReel, setLocalReel] = useState(reel);\n  const viewTracked = useRef(false);\n  const watchStartTime = useRef<number | null>(null);\n\n  useEffect(() => {\n    setLocalReel(reel);\n  }, [reel]);\n\n  useEffect(() => {\n    if (isActive && !viewTracked.current) {\n      watchStartTime.current = Date.now();\n    } else if (!isActive && viewTracked.current) {\n      viewTracked.current = false;\n      watchStartTime.current = null;\n    }\n  }, [isActive]);\n\n  const handleProgress = useCallback((progress: number, watchTimeMs: number) => {\n    if (!viewTracked.current && watchTimeMs >= 3000) {\n      viewTracked.current = true;\n      reelsApi.trackView(reel.id, {\n        watchTimeMs,\n        completed: false,\n        source: 'feed',\n      }).catch(console.error);\n    }\n  }, [reel.id]);\n\n  const handleComplete = useCallback(() => {\n    if (watchStartTime.current) {\n      const totalWatchTime = Date.now() - watchStartTime.current;\n      reelsApi.trackView(reel.id, {\n        watchTimeMs: totalWatchTime,\n        completed: true,\n        source: 'feed',\n      }).catch(console.error);\n    }\n  }, [reel.id]);\n\n  const handleTap = useCallback(() => {\n  }, []);\n\n  const handleDoubleTap = useCallback(async () => {\n    if (!localReel.isLiked) {\n      setShowHeart(true);\n      setTimeout(() => setShowHeart(false), 800);\n\n      try {\n        const response = await reelsApi.toggleLike(reel.id) as { liked: boolean; likesCount: number };\n        setLocalReel((prev) => ({\n          ...prev,\n          isLiked: response.liked,\n          likesCount: response.likesCount,\n        }));\n      } catch (error) {\n        console.error('Failed to like:', error);\n      }\n    }\n  }, [reel.id, localReel.isLiked]);\n\n  const handleCommentClick = useCallback(() => {\n    setShowComments(true);\n  }, []);\n\n  const handleShareClick = useCallback(() => {\n    setShowShare(true);\n  }, []);\n\n  const handleHashtagClick = useCallback((hashtag: string) => {\n    router.push(`/reels/hashtag/${hashtag}`);\n  }, [router]);\n\n  const handleAudioClick = useCallback(() => {\n    if (reel.audio) {\n      router.push(`/reels/audio/${reel.audio.id}`);\n    }\n  }, [router, reel.audio]);\n\n  const handleLikeUpdate = useCallback((liked: boolean, count: number) => {\n    setLocalReel((prev) => ({\n      ...prev,\n      isLiked: liked,\n      likesCount: count,\n    }));\n  }, []);\n\n  const handleSaveUpdate = useCallback((saved: boolean, count: number) => {\n    setLocalReel((prev) => ({\n      ...prev,\n      isSaved: saved,\n      savesCount: count,\n    }));\n  }, []);\n\n  return (\n    <div className=\"relative h-full w-full bg-black\">\n      <ReelPlayer\n        hlsUrl={reel.hlsUrl}\n        mp4Url={reel.videoUrl}\n        thumbnailUrl={reel.thumbnailUrl}\n        isActive={isActive}\n        isMuted={isMuted}\n        onProgress={handleProgress}\n        onComplete={handleComplete}\n        onTap={handleTap}\n        onDoubleTap={handleDoubleTap}\n        onMuteToggle={onMuteToggle}\n      />\n\n      {showHeart && (\n        <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n          <Heart\n            className=\"w-24 h-24 text-red-500 fill-red-500 animate-heart-burst\"\n          />\n        </div>\n      )}\n\n      <div className=\"absolute bottom-0 left-0 right-0 p-4 pb-24 bg-gradient-to-t from-black/80 via-black/40 to-transparent\">\n        <div className=\"flex items-end justify-between gap-4\">\n          <ReelInfo\n            reel={localReel}\n            onHashtagClick={handleHashtagClick}\n            onAudioClick={handleAudioClick}\n          />\n\n          <ReelActions\n            reel={localReel}\n            onCommentClick={handleCommentClick}\n            onShareClick={handleShareClick}\n            onLikeUpdate={handleLikeUpdate}\n            onSaveUpdate={handleSaveUpdate}\n          />\n        </div>\n      </div>\n\n      {localReel.pollQuestion && localReel.pollOptions && (\n        <div className=\"absolute top-1/2 left-4 right-20 -translate-y-1/2\">\n          <ReelPoll\n            reelId={reel.id}\n            question={localReel.pollQuestion}\n            options={localReel.pollOptions}\n            userVotedOption={localReel.userVotedOption}\n            endsAt={localReel.pollEndsAt}\n          />\n        </div>\n      )}\n\n      {localReel.quizQuestion && localReel.quizOptions && (\n        <div className=\"absolute top-1/2 left-4 right-20 -translate-y-1/2\">\n          <ReelQuiz\n            reelId={reel.id}\n            question={localReel.quizQuestion}\n            options={localReel.quizOptions}\n          />\n        </div>\n      )}\n\n      {localReel.codeSnippet && (\n        <div className=\"absolute top-20 left-4 right-20 max-h-[40vh] overflow-auto\">\n          <ReelCodeSnippet\n            code={localReel.codeSnippet}\n            language={localReel.codeLanguage}\n            fileName={localReel.codeFileName}\n          />\n        </div>\n      )}\n\n      <ReelComments\n        reelId={reel.id}\n        isOpen={showComments}\n        onClose={() => setShowComments(false)}\n        authorId={reel.author.id}\n      />\n\n      <ReelShareSheet\n        reel={localReel}\n        isOpen={showShare}\n        onClose={() => setShowShare(false)}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3211, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelsFeed.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useRef, useState, useCallback } from 'react';\nimport { useInfiniteQuery } from '@tanstack/react-query';\nimport { Loader2 } from 'lucide-react';\nimport { ReelCard } from './ReelCard';\nimport { reelsApi, Reel, ReelsFeedResponse } from '@/lib/api/reels';\n\ninterface ReelsFeedProps {\n  mode?: 'foryou' | 'following';\n  initialReels?: Reel[];\n}\n\nexport function ReelsFeed({ mode = 'foryou', initialReels }: ReelsFeedProps) {\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [isMuted, setIsMuted] = useState(true);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const observerRefs = useRef<Map<string, IntersectionObserver>>(new Map());\n\n  const {\n    data,\n    fetchNextPage,\n    hasNextPage,\n    isFetchingNextPage,\n    isLoading,\n    isError,\n  } = useInfiniteQuery({\n    queryKey: ['reels-feed', mode],\n    queryFn: async ({ pageParam }) => {\n      const response = await reelsApi.getFeed({ cursor: pageParam, limit: 10, mode });\n      return response as ReelsFeedResponse;\n    },\n    getNextPageParam: (lastPage) => lastPage.nextCursor,\n    initialPageParam: undefined as string | undefined,\n    staleTime: 1000 * 60 * 5,\n    initialData: initialReels\n      ? {\n          pages: [{ reels: initialReels, nextCursor: null, hasMore: false }],\n          pageParams: [undefined],\n        }\n      : undefined,\n  });\n\n  const reels = data?.pages.flatMap((p) => p.reels) ?? [];\n\n  useEffect(() => {\n    const preloadReels = reels.slice(activeIndex + 1, activeIndex + 4);\n    preloadReels.forEach((reel) => {\n      if (reel.hlsUrl) {\n        fetch(reel.hlsUrl).catch(() => {});\n      }\n      if (reel.thumbnailUrl) {\n        const img = new Image();\n        img.src = reel.thumbnailUrl;\n      }\n    });\n  }, [activeIndex, reels]);\n\n  const handleScroll = useCallback(() => {\n    const container = containerRef.current;\n    if (!container) return;\n\n    const scrollTop = container.scrollTop;\n    const itemHeight = container.clientHeight;\n    const newIndex = Math.round(scrollTop / itemHeight);\n\n    if (newIndex !== activeIndex) {\n      setActiveIndex(newIndex);\n\n      if (newIndex >= reels.length - 3 && hasNextPage && !isFetchingNextPage) {\n        fetchNextPage();\n      }\n    }\n  }, [activeIndex, reels.length, hasNextPage, isFetchingNextPage, fetchNextPage]);\n\n  useEffect(() => {\n    const container = containerRef.current;\n    if (!container) return;\n\n    container.addEventListener('scroll', handleScroll, { passive: true });\n    return () => container.removeEventListener('scroll', handleScroll);\n  }, [handleScroll]);\n\n  const handleFirstInteraction = useCallback(() => {\n    if (isMuted) {\n      setIsMuted(false);\n    }\n  }, [isMuted]);\n\n  const handleMuteToggle = useCallback(() => {\n    setIsMuted((prev) => !prev);\n  }, []);\n\n  if (isLoading) {\n    return (\n      <div className=\"h-screen w-full flex items-center justify-center bg-black\">\n        <Loader2 className=\"w-12 h-12 text-white animate-spin\" />\n      </div>\n    );\n  }\n\n  if (isError) {\n    return (\n      <div className=\"h-screen w-full flex flex-col items-center justify-center bg-black text-white gap-4\">\n        <p>Failed to load reels</p>\n        <button\n          onClick={() => window.location.reload()}\n          className=\"px-4 py-2 bg-white text-black rounded-full font-medium\"\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  if (reels.length === 0) {\n    return (\n      <div className=\"h-screen w-full flex flex-col items-center justify-center bg-black text-white gap-4\">\n        <p className=\"text-xl\">No reels yet</p>\n        <p className=\"text-gray-400\">Be the first to create one!</p>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"h-screen w-full snap-y snap-mandatory overflow-y-scroll scrollbar-hide\"\n      onClick={handleFirstInteraction}\n    >\n      {reels.map((reel, index) => (\n        <div\n          key={reel.id}\n          className=\"h-screen w-full snap-start snap-always\"\n        >\n          <ReelCard\n            reel={reel}\n            isActive={index === activeIndex}\n            isMuted={isMuted}\n            onMuteToggle={handleMuteToggle}\n          />\n        </div>\n      ))}\n\n      {isFetchingNextPage && (\n        <div className=\"h-screen w-full flex items-center justify-center bg-black\">\n          <Loader2 className=\"w-12 h-12 text-white animate-spin\" />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3434, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelCreate.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useCallback, useEffect } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport {\n  Upload,\n  X,\n  Loader2,\n  Hash,\n  Music,\n  MapPin,\n  Code,\n  Eye,\n  MessageCircle,\n  Users,\n  Download,\n  Share2,\n  ChevronDown,\n  Save,\n  Calendar,\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { reelsApi } from '@/lib/api/reels';\n\ninterface ReelCreateProps {\n  onClose?: () => void;\n  initialOriginalReelId?: string;\n  initialResponseType?: 'duet' | 'stitch';\n  initialAudioId?: string;\n}\n\nexport function ReelCreate({ onClose, initialOriginalReelId, initialResponseType, initialAudioId }: ReelCreateProps) {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [videoPreviewUrl, setVideoPreviewUrl] = useState<string | null>(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState<string | null>(null);\n\n  const [title, setTitle] = useState('');\n  const [caption, setCaption] = useState('');\n  const [hashtags, setHashtags] = useState<string[]>([]);\n  const [hashtagInput, setHashtagInput] = useState('');\n  const [visibility, setVisibility] = useState<'public' | 'connections' | 'private'>('public');\n  const [allowComments, setAllowComments] = useState(true);\n  const [allowDuets, setAllowDuets] = useState(true);\n  const [allowStitch, setAllowStitch] = useState(true);\n  const [allowDownload, setAllowDownload] = useState(true);\n  const [allowSharing, setAllowSharing] = useState(true);\n\n  const [saveAsDraft, setSaveAsDraft] = useState(false);\n  const [scheduledAt, setScheduledAt] = useState('');\n  const [originalReelId, setOriginalReelId] = useState(initialOriginalReelId || '');\n  const [responseType, setResponseType] = useState<'duet' | 'stitch' | ''>(initialResponseType || '');\n  const [audioId, setAudioId] = useState(initialAudioId || '');\n\n  const [codeSnippet, setCodeSnippet] = useState('');\n  const [codeLanguage, setCodeLanguage] = useState('');\n  const [codeFileName, setCodeFileName] = useState('');\n  const [repoUrl, setRepoUrl] = useState('');\n  const [showCodeSection, setShowCodeSection] = useState(false);\n  const [showAdvanced, setShowAdvanced] = useState(false);\n\n  useEffect(() => {\n    const duet = searchParams.get('duet');\n    const stitch = searchParams.get('stitch');\n    const audio = searchParams.get('audio');\n    if (duet) {\n      setOriginalReelId(duet);\n      setResponseType('duet');\n    }\n    if (stitch) {\n      setOriginalReelId(stitch);\n      setResponseType('stitch');\n    }\n    if (audio) setAudioId(audio);\n  }, [searchParams]);\n\n  const handleFileSelect = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    if (!file.type.startsWith('video/')) {\n      setError('Please select a video file');\n      return;\n    }\n\n    if (file.size > 150 * 1024 * 1024) {\n      setError('Video must be less than 150MB');\n      return;\n    }\n\n    setSelectedFile(file);\n    setVideoPreviewUrl(URL.createObjectURL(file));\n    setError(null);\n  }, []);\n\n  const handleAddHashtag = useCallback((e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter' || e.key === ',') {\n      e.preventDefault();\n      const tag = hashtagInput.trim().replace(/^#/, '');\n      if (tag && !hashtags.includes(tag) && hashtags.length < 10) {\n        setHashtags([...hashtags, tag]);\n        setHashtagInput('');\n      }\n    }\n  }, [hashtagInput, hashtags]);\n\n  const handleRemoveHashtag = useCallback((tag: string) => {\n    setHashtags(hashtags.filter((t) => t !== tag));\n  }, [hashtags]);\n\n  const handleUpload = useCallback(async () => {\n    if (!selectedFile) return;\n\n    try {\n      setIsUploading(true);\n      setUploadProgress(10);\n\n      const formData = new FormData();\n      formData.append('video', selectedFile);\n      formData.append('title', title);\n      formData.append('caption', caption);\n      formData.append('hashtags', JSON.stringify(hashtags));\n      formData.append('visibility', visibility);\n      formData.append('allowComments', String(allowComments));\n      formData.append('allowDuets', String(allowDuets));\n      formData.append('allowStitch', String(allowStitch));\n      formData.append('allowDownload', String(allowDownload));\n      formData.append('allowSharing', String(allowSharing));\n      formData.append('saveAsDraft', String(saveAsDraft));\n      if (scheduledAt) formData.append('scheduledAt', scheduledAt);\n      if (originalReelId) formData.append('originalReelId', originalReelId);\n      if (responseType) formData.append('responseType', responseType);\n      if (audioId) formData.append('audioId', audioId);\n\n      if (codeSnippet) {\n        formData.append('codeSnippet', codeSnippet);\n        formData.append('codeLanguage', codeLanguage);\n        formData.append('codeFileName', codeFileName);\n        formData.append('repoUrl', repoUrl);\n      }\n\n      setUploadProgress(30);\n\n      const reel = await reelsApi.createReel(formData);\n      \n      setUploadProgress(100);\n\n      if (saveAsDraft) {\n        router.push('/reels/drafts');\n      } else {\n        router.push(`/reels/${(reel as { id: string }).id}`);\n      }\n    } catch (err: any) {\n      console.error('Upload failed:', err);\n      const msg = err?.response?.data?.message || err?.response?.data?.error || err?.message;\n      setError(msg || 'Failed to upload video. Please try again.');\n    } finally {\n      setIsUploading(false);\n    }\n  }, [\n    selectedFile,\n    title,\n    caption,\n    hashtags,\n    visibility,\n    allowComments,\n    allowDuets,\n    allowStitch,\n    allowDownload,\n    allowSharing,\n    codeSnippet,\n    codeLanguage,\n    codeFileName,\n    repoUrl,\n    router,\n  ]);\n\n  const handleClose = useCallback(() => {\n    if (videoPreviewUrl) {\n      URL.revokeObjectURL(videoPreviewUrl);\n    }\n    onClose?.();\n  }, [videoPreviewUrl, onClose]);\n\n  return (\n    <div className=\"min-h-screen bg-white dark:bg-gray-900\">\n      <div className=\"max-w-2xl mx-auto p-4\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h1 className=\"text-2xl font-bold\">Create Reel</h1>\n          {onClose && (\n            <button\n              onClick={handleClose}\n              className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full\"\n            >\n              <X className=\"w-6 h-6\" />\n            </button>\n          )}\n        </div>\n\n        {!selectedFile ? (\n          <div\n            onClick={() => fileInputRef.current?.click()}\n            className=\"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-2xl p-12 text-center cursor-pointer hover:border-blue-500 transition-colors\"\n          >\n            <Upload className=\"w-16 h-16 mx-auto text-gray-400 mb-4\" />\n            <p className=\"text-lg font-medium mb-2\">Upload a video</p>\n            <p className=\"text-gray-500 text-sm mb-4\">\n              MP4, WebM, or MOV. Max 150MB. Recommended 9:16 aspect ratio.\n            </p>\n            <button className=\"px-6 py-2 bg-blue-500 text-white rounded-full font-medium hover:bg-blue-600 transition-colors\">\n              Select file\n            </button>\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              accept=\"video/*\"\n              onChange={handleFileSelect}\n              className=\"hidden\"\n            />\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            <div className=\"flex gap-6\">\n              <div className=\"w-48 flex-shrink-0\">\n                <div className=\"aspect-[9/16] bg-black rounded-xl overflow-hidden relative\">\n                  <video\n                    src={videoPreviewUrl || undefined}\n                    className=\"w-full h-full object-cover\"\n                    controls\n                    muted\n                  />\n                  <button\n                    onClick={() => {\n                      setSelectedFile(null);\n                      if (videoPreviewUrl) {\n                        URL.revokeObjectURL(videoPreviewUrl);\n                        setVideoPreviewUrl(null);\n                      }\n                    }}\n                    className=\"absolute top-2 right-2 p-1 bg-black/50 rounded-full\"\n                  >\n                    <X className=\"w-4 h-4 text-white\" />\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"flex-1 space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Title (optional)</label>\n                  <input\n                    type=\"text\"\n                    value={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                    placeholder=\"Add a title...\"\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Caption</label>\n                  <textarea\n                    value={caption}\n                    onChange={(e) => setCaption(e.target.value)}\n                    placeholder=\"Write a caption... Use @mentions and #hashtags\"\n                    rows={3}\n                    maxLength={2200}\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none resize-none\"\n                  />\n                  <p className=\"text-right text-sm text-gray-500 mt-1\">\n                    {caption.length}/2200\n                  </p>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">\n                    <Hash className=\"w-4 h-4 inline mr-1\" />\n                    Hashtags\n                  </label>\n                  <div className=\"flex flex-wrap gap-2 mb-2\">\n                    {hashtags.map((tag) => (\n                      <span\n                        key={tag}\n                        className=\"px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400 rounded-full text-sm flex items-center gap-1\"\n                      >\n                        #{tag}\n                        <button onClick={() => handleRemoveHashtag(tag)}>\n                          <X className=\"w-3 h-3\" />\n                        </button>\n                      </span>\n                    ))}\n                  </div>\n                  <input\n                    type=\"text\"\n                    value={hashtagInput}\n                    onChange={(e) => setHashtagInput(e.target.value)}\n                    onKeyDown={handleAddHashtag}\n                    placeholder=\"Add hashtags (press Enter)\"\n                    disabled={hashtags.length >= 10}\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">\n                    <Eye className=\"w-4 h-4 inline mr-1\" />\n                    Visibility\n                  </label>\n                  <select\n                    value={visibility}\n                    onChange={(e) => setVisibility(e.target.value as typeof visibility)}\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                  >\n                    <option value=\"public\">Public - Anyone can view</option>\n                    <option value=\"connections\">Connections - Only connections can view</option>\n                    <option value=\"private\">Private - Only you can view</option>\n                  </select>\n                </div>\n\n                <div className=\"flex flex-col gap-3\">\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={saveAsDraft}\n                      onChange={(e) => setSaveAsDraft(e.target.checked)}\n                      className=\"rounded\"\n                    />\n                    <Save className=\"w-4 h-4\" />\n                    <span>Save as draft</span>\n                  </label>\n                  {!saveAsDraft && (\n                    <div>\n                      <label className=\"flex items-center gap-2 text-sm mb-1\">\n                        <Calendar className=\"w-4 h-4\" />\n                        Schedule for later\n                      </label>\n                      <input\n                        type=\"datetime-local\"\n                        value={scheduledAt}\n                        onChange={(e) => setScheduledAt(e.target.value)}\n                        min={new Date().toISOString().slice(0, 16)}\n                        className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                      />\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            <button\n              onClick={() => setShowCodeSection(!showCodeSection)}\n              className=\"flex items-center gap-2 text-sm text-blue-500 hover:text-blue-600\"\n            >\n              <Code className=\"w-4 h-4\" />\n              {showCodeSection ? 'Hide code snippet' : 'Add code snippet (for dev reels)'}\n              <ChevronDown className={cn(\"w-4 h-4 transition-transform\", showCodeSection && \"rotate-180\")} />\n            </button>\n\n            {showCodeSection && (\n              <div className=\"space-y-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Code</label>\n                  <textarea\n                    value={codeSnippet}\n                    onChange={(e) => setCodeSnippet(e.target.value)}\n                    placeholder=\"Paste your code here...\"\n                    rows={6}\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 font-mono text-sm focus:ring-2 focus:ring-blue-500 outline-none resize-none\"\n                  />\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">Language</label>\n                    <input\n                      type=\"text\"\n                      value={codeLanguage}\n                      onChange={(e) => setCodeLanguage(e.target.value)}\n                      placeholder=\"e.g., JavaScript\"\n                      className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">File name</label>\n                    <input\n                      type=\"text\"\n                      value={codeFileName}\n                      onChange={(e) => setCodeFileName(e.target.value)}\n                      placeholder=\"e.g., app.js\"\n                      className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                    />\n                  </div>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Repository URL (optional)</label>\n                  <input\n                    type=\"url\"\n                    value={repoUrl}\n                    onChange={(e) => setRepoUrl(e.target.value)}\n                    placeholder=\"https://github.com/...\"\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                  />\n                </div>\n              </div>\n            )}\n\n            <button\n              onClick={() => setShowAdvanced(!showAdvanced)}\n              className=\"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700\"\n            >\n              Advanced settings\n              <ChevronDown className={cn(\"w-4 h-4 transition-transform\", showAdvanced && \"rotate-180\")} />\n            </button>\n\n            {showAdvanced && (\n              <div className=\"space-y-3 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl\">\n                <label className=\"flex items-center justify-between cursor-pointer\">\n                  <span className=\"flex items-center gap-2\">\n                    <MessageCircle className=\"w-4 h-4\" />\n                    Allow comments\n                  </span>\n                  <input\n                    type=\"checkbox\"\n                    checked={allowComments}\n                    onChange={(e) => setAllowComments(e.target.checked)}\n                    className=\"w-5 h-5 rounded\"\n                  />\n                </label>\n                <label className=\"flex items-center justify-between cursor-pointer\">\n                  <span className=\"flex items-center gap-2\">\n                    <Users className=\"w-4 h-4\" />\n                    Allow duets\n                  </span>\n                  <input\n                    type=\"checkbox\"\n                    checked={allowDuets}\n                    onChange={(e) => setAllowDuets(e.target.checked)}\n                    className=\"w-5 h-5 rounded\"\n                  />\n                </label>\n                <label className=\"flex items-center justify-between cursor-pointer\">\n                  <span className=\"flex items-center gap-2\">\n                    <Users className=\"w-4 h-4\" />\n                    Allow stitch\n                  </span>\n                  <input\n                    type=\"checkbox\"\n                    checked={allowStitch}\n                    onChange={(e) => setAllowStitch(e.target.checked)}\n                    className=\"w-5 h-5 rounded\"\n                  />\n                </label>\n                <label className=\"flex items-center justify-between cursor-pointer\">\n                  <span className=\"flex items-center gap-2\">\n                    <Download className=\"w-4 h-4\" />\n                    Allow download\n                  </span>\n                  <input\n                    type=\"checkbox\"\n                    checked={allowDownload}\n                    onChange={(e) => setAllowDownload(e.target.checked)}\n                    className=\"w-5 h-5 rounded\"\n                  />\n                </label>\n                <label className=\"flex items-center justify-between cursor-pointer\">\n                  <span className=\"flex items-center gap-2\">\n                    <Share2 className=\"w-4 h-4\" />\n                    Allow sharing\n                  </span>\n                  <input\n                    type=\"checkbox\"\n                    checked={allowSharing}\n                    onChange={(e) => setAllowSharing(e.target.checked)}\n                    className=\"w-5 h-5 rounded\"\n                  />\n                </label>\n              </div>\n            )}\n\n            {error && (\n              <div className=\"p-4 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-xl\">\n                {error}\n              </div>\n            )}\n\n            <div className=\"flex gap-4\">\n              <button\n                onClick={handleClose}\n                className=\"flex-1 px-6 py-3 border border-gray-300 dark:border-gray-700 rounded-full font-medium hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleUpload}\n                disabled={isUploading}\n                className=\"flex-1 px-6 py-3 bg-blue-500 text-white rounded-full font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n              >\n                {isUploading ? (\n                  <>\n                    <Loader2 className=\"w-5 h-5 animate-spin\" />\n                    Uploading... {uploadProgress}%\n                  </>\n                ) : (\n                  'Post'\n                )}\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4472, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelEdit.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useEffect } from 'react';\nimport Image from 'next/image';\nimport { \n  X, \n  Loader2, \n  Hash, \n  Globe, \n  Lock, \n  Users,\n  MessageCircle,\n  Share2,\n  Download,\n  Music\n} from 'lucide-react';\nimport { reelsApi, Reel } from '@/lib/api/reels';\nimport { MentionInput } from './MentionInput';\n\ninterface ReelEditProps {\n  reel: Reel;\n  isOpen: boolean;\n  onClose: () => void;\n  onSave: (updatedReel: Reel) => void;\n}\n\ntype Visibility = 'public' | 'followers' | 'private';\n\nexport function ReelEdit({ reel, isOpen, onClose, onSave }: ReelEditProps) {\n  const [title, setTitle] = useState(reel.title || '');\n  const [caption, setCaption] = useState(reel.caption || '');\n  const [mentions, setMentions] = useState<string[]>(reel.mentions || []);\n  const [hashtags, setHashtags] = useState<string[]>(reel.hashtags || []);\n  const [hashtagInput, setHashtagInput] = useState('');\n  const [visibility, setVisibility] = useState<Visibility>(reel.visibility as Visibility || 'public');\n  const [allowComments, setAllowComments] = useState(reel.allowComments);\n  const [allowDuets, setAllowDuets] = useState(reel.allowDuets);\n  const [allowStitch, setAllowStitch] = useState(reel.allowStitch);\n  const [allowDownload, setAllowDownload] = useState(reel.allowDownload);\n  const [allowSharing, setAllowSharing] = useState(reel.allowSharing);\n  const [isSaving, setIsSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      setTitle(reel.title || '');\n      setCaption(reel.caption || '');\n      setMentions(reel.mentions || []);\n      setHashtags(reel.hashtags || []);\n      setVisibility(reel.visibility as Visibility || 'public');\n      setAllowComments(reel.allowComments);\n      setAllowDuets(reel.allowDuets);\n      setAllowStitch(reel.allowStitch);\n      setAllowDownload(reel.allowDownload);\n      setAllowSharing(reel.allowSharing);\n      setError(null);\n    }\n  }, [isOpen, reel]);\n\n  const handleCaptionChange = useCallback((value: string, extractedMentions: string[]) => {\n    setCaption(value);\n    setMentions(extractedMentions);\n  }, []);\n\n  const addHashtag = useCallback(() => {\n    const tag = hashtagInput.trim().replace(/^#/, '');\n    if (tag && !hashtags.includes(tag)) {\n      setHashtags([...hashtags, tag]);\n      setHashtagInput('');\n    }\n  }, [hashtagInput, hashtags]);\n\n  const removeHashtag = useCallback((tag: string) => {\n    setHashtags(hashtags.filter((h) => h !== tag));\n  }, [hashtags]);\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' || e.key === ',') {\n      e.preventDefault();\n      addHashtag();\n    }\n  }, [addHashtag]);\n\n  const handleSave = async () => {\n    try {\n      setIsSaving(true);\n      setError(null);\n\n      const response = await reelsApi.updateReel(reel.id, {\n        title: title || null,\n        caption: caption || null,\n        mentions,\n        hashtags,\n        visibility,\n        allowComments,\n        allowDuets,\n        allowStitch,\n        allowDownload,\n        allowSharing,\n      });\n\n      onSave(response.data);\n      onClose();\n    } catch (err) {\n      console.error('Failed to update reel:', err);\n      setError('Failed to save changes. Please try again.');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  const visibilityOptions = [\n    { value: 'public', label: 'Public', icon: Globe, description: 'Anyone can see this reel' },\n    { value: 'followers', label: 'Followers', icon: Users, description: 'Only your followers can see' },\n    { value: 'private', label: 'Private', icon: Lock, description: 'Only you can see' },\n  ];\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      <div \n        className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n      \n      <div className=\"relative w-full max-w-2xl max-h-[90vh] bg-white dark:bg-neutral-900 rounded-2xl overflow-hidden flex flex-col m-4\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200 dark:border-neutral-800\">\n          <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Edit Reel</h2>\n          <button\n            onClick={onClose}\n            className=\"w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-neutral-800 flex items-center justify-center\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"flex-1 overflow-y-auto p-4 space-y-6\">\n          {/* Preview */}\n          <div className=\"flex gap-4\">\n            <div className=\"w-24 h-36 bg-neutral-800 rounded-lg overflow-hidden flex-shrink-0\">\n              {reel.thumbnailUrl ? (\n                <Image\n                  src={reel.thumbnailUrl}\n                  alt=\"\"\n                  width={96}\n                  height={144}\n                  className=\"w-full h-full object-cover\"\n                />\n              ) : (\n                <div className=\"w-full h-full flex items-center justify-center\">\n                  <Music className=\"w-8 h-8 text-neutral-600\" />\n                </div>\n              )}\n            </div>\n            <div className=\"flex-1\">\n              <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">\n                {reel.viewsCount.toLocaleString()} views · {reel.likesCount.toLocaleString()} likes\n              </p>\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                Posted {new Date(reel.createdAt).toLocaleDateString()}\n              </p>\n            </div>\n          </div>\n\n          {error && (\n            <div className=\"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\">\n              <p className=\"text-red-600 dark:text-red-400 text-sm\">{error}</p>\n            </div>\n          )}\n\n          {/* Title */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Title (optional)\n            </label>\n            <input\n              type=\"text\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              placeholder=\"Add a title...\"\n              maxLength={100}\n              className=\"w-full px-4 py-3 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          {/* Caption */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Caption\n            </label>\n            <div className=\"px-4 py-3 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl\">\n              <MentionInput\n                value={caption}\n                onChange={handleCaptionChange}\n                placeholder=\"Write a caption... Use @ to mention people\"\n                className=\"min-h-[100px] text-gray-900 dark:text-white\"\n                maxLength={2200}\n              />\n            </div>\n            <p className=\"text-xs text-gray-500 mt-1\">{caption.length}/2200</p>\n          </div>\n\n          {/* Hashtags */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Hashtags\n            </label>\n            <div className=\"flex flex-wrap gap-2 mb-2\">\n              {hashtags.map((tag) => (\n                <span\n                  key={tag}\n                  className=\"flex items-center gap-1 px-3 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full text-sm\"\n                >\n                  <Hash className=\"w-3 h-3\" />\n                  {tag}\n                  <button\n                    onClick={() => removeHashtag(tag)}\n                    className=\"ml-1 hover:text-blue-800 dark:hover:text-blue-300\"\n                  >\n                    <X className=\"w-3 h-3\" />\n                  </button>\n                </span>\n              ))}\n            </div>\n            <div className=\"flex gap-2\">\n              <input\n                type=\"text\"\n                value={hashtagInput}\n                onChange={(e) => setHashtagInput(e.target.value)}\n                onKeyDown={handleKeyDown}\n                placeholder=\"Add hashtag...\"\n                className=\"flex-1 px-4 py-2 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n              <button\n                onClick={addHashtag}\n                disabled={!hashtagInput.trim()}\n                className=\"px-4 py-2 bg-blue-500 text-white rounded-xl font-medium disabled:opacity-50 hover:bg-blue-600\"\n              >\n                Add\n              </button>\n            </div>\n          </div>\n\n          {/* Visibility */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Visibility\n            </label>\n            <div className=\"space-y-2\">\n              {visibilityOptions.map((option) => (\n                <button\n                  key={option.value}\n                  onClick={() => setVisibility(option.value as Visibility)}\n                  className={`w-full flex items-center gap-3 p-3 rounded-xl border transition-colors ${\n                    visibility === option.value\n                      ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                      : 'border-gray-200 dark:border-neutral-700 hover:border-gray-300 dark:hover:border-neutral-600'\n                  }`}\n                >\n                  <option.icon className={`w-5 h-5 ${\n                    visibility === option.value ? 'text-blue-500' : 'text-gray-500'\n                  }`} />\n                  <div className=\"text-left\">\n                    <p className={`font-medium ${\n                      visibility === option.value ? 'text-blue-600 dark:text-blue-400' : 'text-gray-900 dark:text-white'\n                    }`}>\n                      {option.label}\n                    </p>\n                    <p className=\"text-xs text-gray-500\">{option.description}</p>\n                  </div>\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Settings */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Interaction Settings\n            </label>\n            <div className=\"space-y-3\">\n              <label className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-neutral-800 rounded-xl\">\n                <div className=\"flex items-center gap-3\">\n                  <MessageCircle className=\"w-5 h-5 text-gray-500\" />\n                  <span className=\"text-gray-900 dark:text-white\">Allow comments</span>\n                </div>\n                <input\n                  type=\"checkbox\"\n                  checked={allowComments}\n                  onChange={(e) => setAllowComments(e.target.checked)}\n                  className=\"w-5 h-5 text-blue-500 rounded focus:ring-blue-500\"\n                />\n              </label>\n\n              <label className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-neutral-800 rounded-xl\">\n                <div className=\"flex items-center gap-3\">\n                  <Music className=\"w-5 h-5 text-gray-500\" />\n                  <span className=\"text-gray-900 dark:text-white\">Allow duets</span>\n                </div>\n                <input\n                  type=\"checkbox\"\n                  checked={allowDuets}\n                  onChange={(e) => setAllowDuets(e.target.checked)}\n                  className=\"w-5 h-5 text-blue-500 rounded focus:ring-blue-500\"\n                />\n              </label>\n\n              <label className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-neutral-800 rounded-xl\">\n                <div className=\"flex items-center gap-3\">\n                  <Share2 className=\"w-5 h-5 text-gray-500\" />\n                  <span className=\"text-gray-900 dark:text-white\">Allow sharing</span>\n                </div>\n                <input\n                  type=\"checkbox\"\n                  checked={allowSharing}\n                  onChange={(e) => setAllowSharing(e.target.checked)}\n                  className=\"w-5 h-5 text-blue-500 rounded focus:ring-blue-500\"\n                />\n              </label>\n\n              <label className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-neutral-800 rounded-xl\">\n                <div className=\"flex items-center gap-3\">\n                  <Download className=\"w-5 h-5 text-gray-500\" />\n                  <span className=\"text-gray-900 dark:text-white\">Allow downloads</span>\n                </div>\n                <input\n                  type=\"checkbox\"\n                  checked={allowDownload}\n                  onChange={(e) => setAllowDownload(e.target.checked)}\n                  className=\"w-5 h-5 text-blue-500 rounded focus:ring-blue-500\"\n                />\n              </label>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex items-center justify-end gap-3 p-4 border-t border-gray-200 dark:border-neutral-800\">\n          <button\n            onClick={onClose}\n            className=\"px-6 py-2.5 text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-100 dark:hover:bg-neutral-800 rounded-xl transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleSave}\n            disabled={isSaving}\n            className=\"px-6 py-2.5 bg-blue-500 text-white font-medium rounded-xl hover:bg-blue-600 disabled:opacity-50 flex items-center gap-2\"\n          >\n            {isSaving ? (\n              <>\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\n                Saving...\n              </>\n            ) : (\n              'Save Changes'\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5226, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/index.ts"],"sourcesContent":["export { ReelsFeed } from './ReelsFeed';\nexport { ReelCard } from './ReelCard';\nexport { ReelPlayer } from './ReelPlayer';\nexport { ReelActions } from './ReelActions';\nexport { ReelInfo } from './ReelInfo';\nexport { ReelComments } from './ReelComments';\nexport { ReelShareSheet } from './ReelShareSheet';\nexport { ReelPoll } from './ReelPoll';\nexport { ReelQuiz } from './ReelQuiz';\nexport { ReelCodeSnippet } from './ReelCodeSnippet';\nexport { ReelCreate } from './ReelCreate';\nexport { ReelEdit } from './ReelEdit';\nexport { MentionInput } from './MentionInput';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 5257, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/app/reels/create/page.tsx"],"sourcesContent":["'use client';\n\nimport { useRouter } from 'next/navigation';\nimport { ReelCreate } from '@/components/reels';\n\nexport default function CreateReelPage() {\n  const router = useRouter();\n\n  return (\n    <ReelCreate onClose={() => router.push('/reels')} />\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IAExB,qBACE,8OAAC,uJAAU;QAAC,SAAS,IAAM,OAAO,IAAI,CAAC;;;;;;AAE3C"}}]
}
module.exports=[93482,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(3512),f=a.i(9551),g=a.i(48966),h=a.i(2415);function i({onClick:a,disabled:c=!1,text:d="Sign in with Google"}){return(0,b.jsxs)("button",{type:"button",className:"google-btn",onClick:a,disabled:c||!h.GOOGLE_CLIENT_ID,children:[(0,b.jsxs)("svg",{className:"google-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"20px",height:"20px",children:[(0,b.jsx)("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),(0,b.jsx)("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),(0,b.jsx)("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),(0,b.jsx)("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),(0,b.jsx)("span",{className:"google-text",children:d})]})}var j=a.i(92415);let k=async a=>(await j.default.get("/social-proof/onboarding-stats",{params:{...a&&{college:a}}})).data.data;function l(){let[a,d]=(0,c.useState)(null);if((0,c.useEffect)(()=>{k().then(d).catch(()=>{})},[]),!a)return null;let e=a=>a>=1e3?`${(a/1e3).toFixed(1)}k`:a.toString();return(0,b.jsxs)("div",{className:"onboarding-social-proof",children:[a.activeToday>0&&(0,b.jsxs)("div",{className:"social-proof-live",children:[(0,b.jsx)("span",{className:"live-dot"}),(0,b.jsxs)("span",{className:"live-text",children:[e(a.activeToday)," active today"]})]}),(0,b.jsxs)("div",{className:"social-proof-stats",children:[(0,b.jsxs)("div",{className:"stat-pill",children:[(0,b.jsx)("span",{className:"stat-icon",children:"ðŸ‘¥"}),(0,b.jsx)("span",{className:"stat-value",children:e(a.totalUsers)}),(0,b.jsx)("span",{className:"stat-label",children:"Students"})]}),(0,b.jsxs)("div",{className:"stat-pill",children:[(0,b.jsx)("span",{className:"stat-icon",children:"ðŸŽ“"}),(0,b.jsx)("span",{className:"stat-value",children:e(a.totalColleges)}),(0,b.jsx)("span",{className:"stat-label",children:"Colleges"})]}),(0,b.jsxs)("div",{className:"stat-pill",children:[(0,b.jsx)("span",{className:"stat-icon",children:"ðŸ¤"}),(0,b.jsx)("span",{className:"stat-value",children:e(a.totalConnections)}),(0,b.jsx)("span",{className:"stat-label",children:"Connections"})]})]})]})}function m({email:a,password:d,onEmailChange:e,onPasswordChange:f,onSubmit:g,onGoogleLogin:h,isLoading:j,error:k,success:m}){let n=(0,c.useRef)(null);return(0,c.useEffect)(()=>{if(n.current)return(a=>{let b=a.querySelector(".swipe-button-slider"),c=a.querySelector(".swipe-button-text");if(!b||!c)return;let d=!1,e=0,f=c=>{a.classList.contains("submitted")||(d=!0,e=("touches"in c?c.touches[0].clientX:c.clientX)-b.offsetLeft,a.classList.add("active"))},g=f=>{if(!d)return;f.preventDefault();let g=("touches"in f?f.touches[0].clientX:f.clientX)-e,h=a.offsetWidth-b.offsetWidth-4;g>=0&&g<=h?(b.style.left=`${g+2}px`,c.style.opacity=(1-g/h).toString()):g>h&&(b.style.left=`${h+2}px`,c.style.opacity="0")},h=f=>{if(d)if(d=!1,a.classList.remove("active"),("changedTouches"in f?f.changedTouches[0].clientX:f.clientX)-e>=a.offsetWidth-b.offsetWidth-4-10){a.classList.add("submitted"),b.style.left="";let d=document.getElementById("b-form");d&&(d.checkValidity()?d.requestSubmit():(a.classList.remove("submitted"),b.style.left="2px",c.style.opacity="1",d.reportValidity()))}else b.style.left="2px",c.style.opacity="1"};return b.addEventListener("mousedown",f),b.addEventListener("touchstart",f),document.addEventListener("mousemove",g),document.addEventListener("touchmove",g),document.addEventListener("mouseup",h),document.addEventListener("touchend",h),()=>{b.removeEventListener("mousedown",f),b.removeEventListener("touchstart",f),document.removeEventListener("mousemove",g),document.removeEventListener("touchmove",g),document.removeEventListener("mouseup",h),document.removeEventListener("touchend",h)}})(n.current)},[]),(0,c.useEffect)(()=>{k&&(()=>{if(!n.current)return;let a=n.current,b=a.querySelector(".swipe-button-slider"),c=a.querySelector(".swipe-button-text");b&&c&&(a.classList.remove("submitted","active"),b.style.left="2px",c.style.opacity="1")})()},[k]),(0,b.jsx)("div",{className:"container b-container",id:"b-container",children:(0,b.jsxs)("form",{id:"b-form",className:"form",onSubmit:g,children:[(0,b.jsxs)("h2",{className:"form_title title",children:["Sign in to ",(0,b.jsx)("span",{className:"vorm",children:"vorm"}),(0,b.jsx)("span",{className:"ex",children:"ex"})]}),(0,b.jsx)(l,{}),(0,b.jsx)(i,{onClick:h,disabled:j}),(0,b.jsx)("span",{className:"form__span",children:"or use your email account"}),(0,b.jsx)("input",{className:"form__input",type:"email",placeholder:"Email",value:a,onChange:a=>e(a.target.value),onKeyDown:a=>{if("Enter"===a.key){a.preventDefault();let b=document.getElementById("b-form");b&&b.requestSubmit()}},required:!0}),(0,b.jsx)("input",{className:"form__input",type:"password",placeholder:"Password",value:d,onChange:a=>f(a.target.value),onKeyDown:a=>{if("Enter"===a.key){a.preventDefault();let b=document.getElementById("b-form");b&&b.requestSubmit()}},required:!0}),(0,b.jsx)("a",{className:"form__link",href:"/forgot-password",children:"Forgot your password?"}),k&&(0,b.jsx)("div",{className:"error-message",children:k}),m&&(0,b.jsx)("div",{className:"success-message",children:m}),(0,b.jsxs)("div",{className:"swipe-button-container",id:"swipe-btn-signin",ref:n,children:[(0,b.jsx)("div",{className:"swipe-button-text",children:"SWIPE TO SIGN IN"}),(0,b.jsx)("div",{className:"swipe-button-slider",children:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,b.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,b.jsx)("path",{d:"M13.172 12l-4.95-4.95 1.414-1.414L16 12l-6.364 6.364-1.414-1.414z",fill:"currentColor"})]})})]})]})})}function n({name:a,email:d,password:e,onNameChange:f,onEmailChange:g,onPasswordChange:h,onSubmit:j,onGoogleLogin:k,isLoading:m,error:n,success:o}){let p=(0,c.useRef)(null);return(0,c.useEffect)(()=>{if(p.current)return(a=>{let b=a.querySelector(".swipe-button-slider"),c=a.querySelector(".swipe-button-text");if(!b||!c)return;let d=!1,e=0,f=c=>{a.classList.contains("submitted")||(d=!0,e=("touches"in c?c.touches[0].clientX:c.clientX)-b.offsetLeft,a.classList.add("active"))},g=f=>{if(!d)return;f.preventDefault();let g=("touches"in f?f.touches[0].clientX:f.clientX)-e,h=a.offsetWidth-b.offsetWidth-4;g>=0&&g<=h?(b.style.left=`${g+2}px`,c.style.opacity=(1-g/h).toString()):g>h&&(b.style.left=`${h+2}px`,c.style.opacity="0")},h=f=>{if(d)if(d=!1,a.classList.remove("active"),("changedTouches"in f?f.changedTouches[0].clientX:f.clientX)-e>=a.offsetWidth-b.offsetWidth-4-10){a.classList.add("submitted"),b.style.left="";let d=document.getElementById("a-form");d&&(d.checkValidity()?d.requestSubmit():(a.classList.remove("submitted"),b.style.left="2px",c.style.opacity="1",d.reportValidity()))}else b.style.left="2px",c.style.opacity="1"};return b.addEventListener("mousedown",f),b.addEventListener("touchstart",f),document.addEventListener("mousemove",g),document.addEventListener("touchmove",g),document.addEventListener("mouseup",h),document.addEventListener("touchend",h),()=>{b.removeEventListener("mousedown",f),b.removeEventListener("touchstart",f),document.removeEventListener("mousemove",g),document.removeEventListener("touchmove",g),document.removeEventListener("mouseup",h),document.removeEventListener("touchend",h)}})(p.current)},[]),(0,c.useEffect)(()=>{n&&(()=>{if(!p.current)return;let a=p.current,b=a.querySelector(".swipe-button-slider"),c=a.querySelector(".swipe-button-text");b&&c&&(a.classList.remove("submitted","active"),b.style.left="2px",c.style.opacity="1")})()},[n]),(0,b.jsx)("div",{className:"container a-container",id:"a-container",children:(0,b.jsxs)("form",{id:"a-form",className:"form",onSubmit:j,children:[(0,b.jsx)("h2",{className:"form_title title",children:"Create Account"}),(0,b.jsx)(l,{}),(0,b.jsx)(i,{onClick:k,disabled:m,text:"Sign up with Google"}),(0,b.jsx)("span",{className:"form__span",children:"or use email for registration"}),(0,b.jsx)("input",{className:"form__input",type:"text",placeholder:"Name",value:a,onChange:a=>f(a.target.value),onKeyDown:a=>{if("Enter"===a.key){a.preventDefault();let b=document.getElementById("a-form");b&&b.requestSubmit()}},required:!0}),(0,b.jsx)("input",{className:"form__input",type:"email",placeholder:"Email",value:d,onChange:a=>g(a.target.value),onKeyDown:a=>{if("Enter"===a.key){a.preventDefault();let b=document.getElementById("a-form");b&&b.requestSubmit()}},required:!0}),(0,b.jsx)("input",{className:"form__input",type:"password",placeholder:"Password",value:e,onChange:a=>h(a.target.value),onKeyDown:a=>{if("Enter"===a.key){a.preventDefault();let b=document.getElementById("a-form");b&&b.requestSubmit()}},required:!0,minLength:8}),n&&(0,b.jsx)("div",{className:"error-message",children:n}),o&&(0,b.jsx)("div",{className:"success-message",children:o}),(0,b.jsxs)("div",{className:"swipe-button-container",id:"swipe-btn-signup",ref:p,children:[(0,b.jsx)("div",{className:"swipe-button-text",children:"SWIPE TO SIGN UP"}),(0,b.jsx)("div",{className:"swipe-button-slider",children:(0,b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:[(0,b.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,b.jsx)("path",{d:"M13.172 12l-4.95-4.95 1.414-1.414L16 12l-6.364 6.364-1.414-1.414z",fill:"currentColor"})]})})]})]})})}var o=a.i(99563);function p(){let a=(0,d.useRouter)(),{login:i,register:j}=(0,e.useAuth)(),[k,l]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),F=a=>{let b=document.getElementById(a);if(!b)return;let c=b.querySelector(".swipe-button-slider"),d=b.querySelector(".swipe-button-text");c&&d&&(b.classList.remove("submitted","active"),c.style.left="2px",d.style.opacity="1")},G=async a=>{let b=new TextEncoder().encode(a);return btoa(String.fromCharCode(...new Uint8Array(await crypto.subtle.digest("SHA-256",b)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},H=async()=>{if(!h.GOOGLE_CLIENT_ID)return void s("Google Client ID is not configured. Please check your environment variables.");q(!0),s(null);try{let a,b=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);sessionStorage.setItem("oauth_state",b);let c=(a=new Uint8Array(32),crypto.getRandomValues(a),btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")),d=await G(c);sessionStorage.setItem("oauth_code_verifier",c);let e=`${window.location.origin}/auth/google/callback`,f=new URLSearchParams({client_id:h.GOOGLE_CLIENT_ID,redirect_uri:e,response_type:"code",scope:"openid email profile",state:b,code_challenge:d,code_challenge_method:"S256",access_type:"offline",prompt:"consent"});window.location.href=`https://accounts.google.com/o/oauth2/v2/auth?${f.toString()}`}catch(a){s("Failed to initiate Google sign-in. Please try again."),q(!1)}},I=()=>{let a=document.getElementById("switch-cnt"),b=document.getElementById("switch-c1"),c=document.getElementById("switch-c2"),d=document.querySelectorAll(".switch__circle"),e=document.getElementById("a-container"),f=document.getElementById("b-container");a&&b&&c&&e&&f&&(F("swipe-btn-signup"),F("swipe-btn-signin"),a.classList.add("is-gx"),setTimeout(()=>{a.classList.remove("is-gx")},1500),a.classList.toggle("is-txr"),d.forEach(a=>a.classList.toggle("is-txr")),b.classList.toggle("is-hidden"),c.classList.toggle("is-hidden"),e.classList.toggle("is-txl"),f.classList.toggle("is-txl"),f.classList.toggle("is-z200"),l(!k),s(null),u(null),A(""))},J=async b=>{b.preventDefault(),q(!0),s(null),u(null);let c="a-form"===b.currentTarget.id;try{if(c){let b=f.registerSchema.safeParse({name:v,email:x,password:z,college:B||void 0,branch:D||void 0});if(!b.success){let a=b.error.issues[0];s(a.message),q(!1),F("swipe-btn-signup");return}let c=await j({email:x,password:z,name:v,college:B||void 0,branch:D||void 0});u("Registration successful! Please check your email to verify your account."),setTimeout(()=>{F("swipe-btn-signup")},1e3),c.user.isVerified&&setTimeout(()=>a.push("/"),2e3)}else{let b=f.loginSchema.safeParse({email:x,password:z});if(!b.success){let a=b.error.issues[0];s(a.message),q(!1),F("swipe-btn-signin");return}try{await i({email:x,password:z}),a.push("/")}catch(b){let a=(0,g.handleApiError)(b);s(a),q(!1),F("swipe-btn-signin");return}}}catch(a){s((0,g.handleApiError)(a)),q(!1),c?F("swipe-btn-signup"):F("swipe-btn-signin")}finally{q(!1)}};return(0,b.jsxs)("div",{className:"auth-page-wrapper",children:[(0,b.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,b.jsx)(o.ThemeToggle,{})}),(0,b.jsxs)("div",{className:"main",children:[(0,b.jsx)(n,{name:v,email:x,password:z,onNameChange:w,onEmailChange:y,onPasswordChange:A,onSubmit:J,onGoogleLogin:H,isLoading:p,error:r,success:t}),(0,b.jsx)(m,{email:x,password:z,onEmailChange:y,onPasswordChange:A,onSubmit:J,onGoogleLogin:H,isLoading:p,error:r,success:t}),(0,b.jsxs)("div",{className:"switch",id:"switch-cnt",children:[(0,b.jsx)("div",{className:"switch__circle"}),(0,b.jsx)("div",{className:"switch__circle switch__circle--t"}),(0,b.jsxs)("div",{className:"switch__container",id:"switch-c1",children:[(0,b.jsx)("h2",{className:"switch__title title",children:"Hello Friend !"}),(0,b.jsx)("p",{className:"switch__description description",children:"Enter your personal details and start journey with us"}),(0,b.jsx)("button",{className:"switch__button button switch-btn",onClick:I,children:"SIGN IN"})]}),(0,b.jsxs)("div",{className:"switch__container is-hidden",id:"switch-c2",children:[(0,b.jsx)("h2",{className:"switch__title title",children:"Welcome Back !"}),(0,b.jsx)("p",{className:"switch__description description",children:"To keep connected with us please login with your personal info"}),(0,b.jsx)("button",{className:"switch__button button switch-btn",onClick:I,children:"SIGN UP"})]})]})]}),(0,b.jsxs)("div",{className:"page-footer",children:[(0,b.jsxs)("a",{href:"#",className:"play-store-btn",children:[(0,b.jsx)("svg",{className:"play-store-icon",viewBox:"0 0 24 24",fill:"currentColor",children:(0,b.jsx)("path",{d:"m21.762,9.942L4.67.378c-.721-.466-1.635-.504-2.393-.099-.768.411-1.246,1.208-1.246,2.08v19.282c0,.872.477,1.668,1.246,2.079.755.404,1.668.37,2.393-.098l17.092-9.564c.756-.423,1.207-1.192,1.207-2.058s-.451-1.635-1.207-2.058Zm-5.746-1.413l-2.36,2.36L5.302,2.534l10.714,5.995ZM2.604,21.906V2.094l9.941,9.906L2.604,21.906Zm2.698-.439l8.355-8.355,2.36,2.36-10.714,5.995Zm15.692-8.78l-3.552,1.987-2.674-2.674,2.674-2.674,3.552,1.987c.363.203.402.548.402.686s-.039.483-.402.686Z"})}),(0,b.jsxs)("div",{className:"play-store-btn-content",children:[(0,b.jsx)("span",{className:"play-store-btn-small",children:"GET IT ON"}),(0,b.jsx)("span",{className:"play-store-btn-large",children:"Google Play"})]})]}),(0,b.jsxs)("a",{href:"#",className:"play-store-btn",children:[(0,b.jsx)("svg",{className:"play-store-icon",viewBox:"0 0 24 24",fill:"currentColor",children:(0,b.jsxs)("g",{children:[(0,b.jsx)("path",{d:"M18.546,12.763c0.024-1.87,1.004-3.597,2.597-4.576c-1.009-1.442-2.64-2.323-4.399-2.378    c-1.851-0.194-3.645,1.107-4.588,1.107c-0.961,0-2.413-1.088-3.977-1.056C6.122,5.927,4.25,7.068,3.249,8.867    c-2.131,3.69-0.542,9.114,1.5,12.097c1.022,1.461,2.215,3.092,3.778,3.035c1.529-0.063,2.1-0.975,3.945-0.975    c1.828,0,2.364,0.975,3.958,0.938c1.64-0.027,2.674-1.467,3.66-2.942c0.734-1.041,1.299-2.191,1.673-3.408    C19.815,16.788,18.548,14.879,18.546,12.763z"}),(0,b.jsx)("path",{d:"M15.535,3.847C16.429,2.773,16.87,1.393,16.763,0c-1.366,0.144-2.629,0.797-3.535,1.829    c-0.895,1.019-1.349,2.351-1.261,3.705C13.352,5.548,14.667,4.926,15.535,3.847z"})]})}),(0,b.jsxs)("div",{className:"play-store-btn-content",children:[(0,b.jsx)("span",{className:"play-store-btn-small",children:"Download on the"}),(0,b.jsx)("span",{className:"play-store-btn-large",children:"App Store"})]})]})]})]})}function q({children:a,redirectTo:f="/"}){let{isAuthenticated:g,loading:h}=(0,e.useAuth)(),i=(0,d.useRouter)();return((0,c.useEffect)(()=>{!h&&g&&i.push(f)},[g,h,i,f]),h)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):g?null:(0,b.jsx)(b.Fragment,{children:a})}function r(){return(0,b.jsx)(q,{children:(0,b.jsx)(p,{})})}a.s(["default",()=>r],93482)}];

//# sourceMappingURL=src_app_login_page_tsx_72f58654._.js.map
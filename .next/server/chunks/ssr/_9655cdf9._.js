module.exports=[97199,64754,46338,67329,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(33508),g=a.i(44494),h=a.i(60246),i=a.i(43108),j=a.i(5784),k=a.i(96221),l=a.i(70106);let m=(0,l.default)("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);a.s(["Bold",()=>m],64754);let n=(0,l.default)("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);a.s(["Italic",()=>n],46338);let o=(0,l.default)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);a.s(["List",()=>o],67329);var p=a.i(54074),q=a.i(65169),r=a.i(54347),s=a.i(99464),t=a.i(3512),u=a.i(13434);let v=[{value:"PUBLIC",label:"Anyone",icon:g.Globe},{value:"CONNECTIONS",label:"Connections only",icon:h.Users},{value:"PRIVATE",label:"Only me",icon:i.Lock}],w=[{name:"Red",value:"#ef4444"},{name:"Orange",value:"#f97316"},{name:"Yellow",value:"#eab308"},{name:"Green",value:"#22c55e"},{name:"Teal",value:"#14b8a6"},{name:"Blue",value:"#3b82f6"},{name:"Purple",value:"#a855f7"},{name:"Pink",value:"#ec4899"}];function x({isOpen:a,onClose:g,post:h,onPostUpdated:i}){let{user:l}=(0,t.useAuth)(),[x,y]=(0,c.useState)(h.content||""),[z,A]=(0,c.useState)(h.visibility),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(!1),P=(0,c.useRef)(null),Q=(0,c.useRef)(null);(0,c.useEffect)(()=>{let a=a=>{P.current&&!P.current.contains(a.target)&&O(!1)};return N&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[N]),(0,c.useEffect)(()=>{y(h.content||""),A(h.visibility)},[h]),(0,c.useEffect)(()=>{let a=setTimeout(async()=>{if(H.length>=2)try{let a=await (0,u.searchUsersForMention)(H);K(a),M(!0)}catch(a){console.error("Error searching mentions:",a)}else K([]),M(!1)},300);return()=>clearTimeout(a)},[H]);let R=a=>{let b,c,d=Q.current;if(!d)return;let e=d.selectionStart,f=d.selectionEnd,g=x.slice(e,f);g?(b=x.slice(0,e)+a+g+a+x.slice(f),c=f+2*a.length):(b=x.slice(0,e)+a+a+x.slice(f),c=e+a.length),y(b),setTimeout(()=>{d.focus(),d.setSelectionRange(c,c)},0)},S=async()=>{if(!D){G(null),E(!0);try{let a=await (0,u.updatePost)(h.id,{content:x,visibility:z});i?.(a),g()}catch(a){console.error("Update post error:",a),G(a.message||"Failed to update post")}finally{E(!1)}}},T=v.find(a=>a.value===z)||v[0],U=T.icon;return a?(0,b.jsx)(e.AnimatePresence,{children:a&&(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:g,children:(0,b.jsxs)(d.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:a=>a.stopPropagation(),className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl",style:{background:"#ecf0f3",boxShadow:"20px 20px 60px #c9ccd1, -20px -20px 60px #ffffff"},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"#d1d9e6"},children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:(0,b.jsx)(s.Pencil,{className:"w-5 h-5 text-blue-600"})}),(0,b.jsx)("h2",{className:"text-xl font-bold",style:{fontFamily:"'Montserrat', sans-serif",color:"#2d3748"},children:"Edit Post"})]}),(0,b.jsx)("button",{onClick:g,className:"p-2 rounded-full transition-all hover:scale-105",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:(0,b.jsx)(f.X,{className:"w-5 h-5 text-gray-500"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden",style:{boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:l?.profileImage?(0,b.jsx)("img",{src:l.profileImage,alt:l.name,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold",children:l?.name?.charAt(0).toUpperCase()||"U"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-gray-800",children:l?.name}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>C(!B),className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[(0,b.jsx)(U,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:T.label}),(0,b.jsx)(j.ChevronDown,{className:"w-3 h-3"})]}),B&&(0,b.jsx)("div",{className:"absolute top-full left-0 mt-1 py-1 rounded-lg z-20 min-w-[140px]",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:v.map(a=>(0,b.jsxs)("button",{onClick:()=>{A(a.value),C(!1)},className:"flex items-center gap-2 w-full px-4 py-2 text-left text-sm hover:bg-gray-100",children:[(0,b.jsx)(a.icon,{className:"w-4 h-4 text-gray-500"}),(0,b.jsx)("span",{className:"text-gray-700",children:a.label})]},a.value))})]})]})]}),(0,b.jsx)("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded",children:h.type})]}),F&&(0,b.jsx)("div",{className:"p-3 rounded-lg bg-red-50 text-red-600 text-sm",children:F}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 p-2 mb-2 rounded-lg",style:{background:"#ecf0f3",boxShadow:"inset 2px 2px 4px #d1d9e6, inset -2px -2px 4px #f9f9f9"},children:[(0,b.jsx)("button",{type:"button",onClick:()=>R("**"),className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Bold (**text**)",children:(0,b.jsx)(m,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsx)("button",{type:"button",onClick:()=>R("*"),className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Italic (*text*)",children:(0,b.jsx)(n,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsx)("button",{type:"button",onClick:()=>{let a,b,c=Q.current;if(!c)return;let d=c.selectionStart,e=x.slice(0,d),f=x.slice(d),g=e.lastIndexOf("\n")+1,h=e.slice(g);h.startsWith("- ")?(a=x.slice(0,g)+h.slice(2)+f,b=d-2):(a=x.slice(0,g)+"- "+h+f,b=d+2),y(a),setTimeout(()=>{c.focus(),c.setSelectionRange(b,b)},0)},className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Bullet List",children:(0,b.jsx)(o,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsx)("button",{type:"button",onClick:()=>R("`"),className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Code (`code`)",children:(0,b.jsx)(p.Code,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsx)("div",{className:"w-px h-5 bg-gray-300 mx-1"}),(0,b.jsx)("button",{type:"button",onClick:()=>{let a=Q.current;if(!a)return;let b=a.selectionStart;y(x.slice(0,b)+"@"+x.slice(b)),setTimeout(()=>{a.focus(),a.setSelectionRange(b+1,b+1)},0)},className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Mention someone (@)",children:(0,b.jsx)(q.AtSign,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsxs)("div",{className:"relative",ref:P,children:[(0,b.jsx)("button",{type:"button",onClick:()=>O(!N),className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Text Color",children:(0,b.jsx)(r.Palette,{className:"w-4 h-4 text-gray-600"})}),N&&(0,b.jsxs)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 p-3 rounded-xl z-30 min-w-[200px]",style:{background:"#ecf0f3",boxShadow:"6px 6px 12px #d1d9e6, -6px -6px 12px #ffffff"},children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-500 mb-2 text-center",children:"Choose Color"}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:w.map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>(a=>{let b,c,d=Q.current;if(!d)return;let e=d.selectionStart,f=d.selectionEnd,g=x.slice(e,f),h=`[color:${a}]`,i="[/color]";g?(b=x.slice(0,e)+h+g+i+x.slice(f),c=e+h.length+g.length+i.length):(b=x.slice(0,e)+h+i+x.slice(e),c=e+h.length),y(b),O(!1),setTimeout(()=>{d.focus(),d.setSelectionRange(c,c)},0)})(a.value),className:"group flex flex-col items-center gap-1",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white shadow-md hover:scale-110 hover:shadow-lg transition-all duration-200",style:{backgroundColor:a.value}}),(0,b.jsx)("span",{className:"text-[10px] text-gray-500 group-hover:text-gray-700",children:a.name})]},a.value))})]})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("textarea",{ref:Q,value:x,onChange:a=>{let b=a.target.value;y(b);let c=a.target.selectionStart,d=b.slice(0,c),e=d.lastIndexOf("@");if(-1!==e){let a=d.slice(e+1);!a.includes(" ")&&a.length>=1?I(a):(I(""),M(!1))}else I(""),M(!1)},placeholder:"What do you want to share?",className:"w-full min-h-[180px] p-5 rounded-xl text-gray-800 placeholder-gray-400 resize-none outline-none text-base leading-relaxed",style:{background:"#ecf0f3",boxShadow:"inset 4px 4px 8px #d1d9e6, inset -4px -4px 8px #f9f9f9",fontFamily:"'Montserrat', sans-serif"}}),L&&(0,b.jsx)("div",{className:"absolute bottom-full left-0 w-64 mb-2 py-2 rounded-lg max-h-48 overflow-y-auto z-20",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:J.map(a=>(0,b.jsxs)("button",{onClick:()=>(a=>{let b=Q.current;if(!b)return;let c=b.selectionStart,d=x.slice(0,c).lastIndexOf("@"),e=x.slice(c);y(x.slice(0,d)+`@${a.username} `+e),I(""),M(!1),setTimeout(()=>{let c=d+a.username.length+2;b.focus(),b.setSelectionRange(c,c)},0)})(a),className:"flex items-center gap-2 w-full px-4 py-2 hover:bg-gray-100 transition-colors",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-300",children:a.profileImage&&(0,b.jsx)("img",{src:a.profileImage,alt:a.name,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-800",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["@",a.username]})]})]},a.id))})]})]}),(0,b.jsx)("p",{className:"text-xs text-gray-400 text-center",children:"Note: Only text content and visibility can be edited. Media, polls, and links cannot be changed."})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t",style:{borderColor:"#d1d9e6"},children:[(0,b.jsx)("button",{onClick:g,className:"px-6 py-2.5 rounded-xl text-gray-600 font-medium transition-all hover:scale-105",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:"Cancel"}),(0,b.jsx)("button",{onClick:S,disabled:D||!x.trim(),className:"px-8 py-2.5 rounded-xl text-white font-semibold transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:D?(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Loader2,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})})}):null}a.s(["EditPostModal",()=>x],97199)},4720,a=>{"use strict";let b=(0,a.i(70106).default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],4720)},70580,a=>{"use strict";var b=a.i(92415);async function c(a,c){return b.default.post("/connections/request",{receiverId:a,message:c})}async function d(a){return b.default.post(`/connections/${a}/accept`)}async function e(a){return b.default.post(`/connections/${a}/reject`)}async function f(a){return b.default.delete(`/connections/${a}/cancel`)}async function g(a){return b.default.delete(`/connections/${a}`)}async function h(a=1,c=20){return b.default.get(`/connections?page=${a}&limit=${c}`)}async function i(a,c=1,d=20){return b.default.get(`/connections/user/${a}?page=${c}&limit=${d}`)}async function j(a=1,c=20){let d=await b.default.get(`/connections/pending?page=${a}&limit=${c}`);return{connections:d.connections||d.requests||[],total:d.total||0,page:d.page||a,totalPages:d.totalPages||1,hasMore:d.hasMore||!1}}async function k(a=1,c=20){let d=await b.default.get(`/connections/sent?page=${a}&limit=${c}`);return{connections:d.connections||d.requests||[],total:d.total||0,page:d.page||a,totalPages:d.totalPages||1,hasMore:d.hasMore||!1}}async function l(a){return b.default.get(`/connections/status/${a}`)}a.s(["acceptConnectionRequest",()=>d,"cancelConnectionRequest",()=>f,"getConnectionStatus",()=>l,"getConnections",()=>h,"getPendingRequests",()=>j,"getSentRequests",()=>k,"getUserConnections",()=>i,"rejectConnectionRequest",()=>e,"removeConnection",()=>g,"sendConnectionRequest",()=>c])},54347,a=>{"use strict";let b=(0,a.i(70106).default)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);a.s(["Palette",()=>b],54347)},72764,a=>{"use strict";var b=a.i(92415);async function c(a,c){let d=new URLSearchParams;return a&&d.append("limit",String(a)),c&&d.append("cursor",c),b.default.get(`/chat/conversations?${d.toString()}`)}async function d(a){return b.default.post("/chat/conversations",{participantId:a})}async function e(a){return b.default.get(`/chat/conversations/${a}`)}async function f(a,c,d){let e=new URLSearchParams;return c&&e.append("limit",String(c)),d&&e.append("cursor",d),b.default.get(`/chat/conversations/${a}/messages?${e.toString()}`)}async function g(a,c){return b.default.post(`/chat/conversations/${a}/messages`,c)}async function h(){return b.default.get("/chat/unread-count")}async function i(a,c,d){let e=new FormData;return e.append("file",a),e.append("mediaType",c),b.default.post("/chat/upload",e,{timeout:12e4,maxContentLength:1/0,maxBodyLength:1/0,onUploadProgress:a=>{d&&a.total&&d(Math.round(a.loaded/a.total*100))}})}async function j(a){return b.default.get(`/chat/message-limit/${a}`)}a.s(["getConversation",()=>e,"getConversations",()=>c,"getMessageLimitStatus",()=>j,"getMessages",()=>f,"getOrCreateConversation",()=>d,"getUnreadCount",()=>h,"sendMessage",()=>g,"uploadChatMedia",()=>i])},99464,a=>{"use strict";let b=(0,a.i(70106).default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);a.s(["Pencil",()=>b],99464)},8406,a=>{"use strict";let b=(0,a.i(70106).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);a.s(["Sparkles",()=>b],8406)},64791,a=>{"use strict";let b=(0,a.i(70106).default)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);a.s(["Video",()=>b],64791)},50522,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],50522)},41961,a=>{"use strict";let b=(0,a.i(70106).default)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);a.s(["Briefcase",()=>b],41961)},63588,a=>{"use strict";let b=(0,a.i(70106).default)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);a.s(["MessageSquare",()=>b],63588)},46864,a=>{"use strict";let b=(0,a.i(70106).default)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);a.s(["UserCheck",()=>b],46864)},79257,a=>{"use strict";let b=(0,a.i(70106).default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);a.s(["Link",()=>b],79257)}];

//# sourceMappingURL=_9655cdf9._.js.map
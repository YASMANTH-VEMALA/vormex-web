(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},70273,e=>{"use strict";let t=(0,e.i(75254).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],70273)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},63059,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},16715,e=>{"use strict";let t=(0,e.i(75254).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["RefreshCw",()=>t],16715)},58377,e=>{"use strict";let t=(0,e.i(75254).default)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);e.s(["Flame",()=>t],58377)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},59133,e=>{"use strict";var t={};!function e(t,a,r,n){var s,i,l,o,d,c,h,u,g,m,x,f=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),p="function"==typeof Path2D&&"function"==typeof DOMMatrix;function y(){}function b(e){var r=a.exports.Promise,n=void 0!==r?r:t.Promise;return"function"==typeof n?new n(e):(e(y,y),null)}var v=(s=function(){if(!t.OffscreenCanvas)return!1;try{var e=new OffscreenCanvas(1,1),a=e.getContext("2d");a.fillRect(0,0,1,1);var r=e.transferToImageBitmap();a.createPattern(r,"no-repeat")}catch(e){return!1}return!0}(),i=new Map,{transform:function(e){if(s)return e;if(i.has(e))return i.get(e);var t=new OffscreenCanvas(e.width,e.height);return t.getContext("2d").drawImage(e,0,0),i.set(e,t),t},clear:function(){i.clear()}}),w=(d=Math.floor(1e3/60),c={},h=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(l=function(e){var t=Math.random();return c[t]=requestAnimationFrame(function a(r){h===r||h+d-1<r?(h=r,delete c[t],e()):c[t]=requestAnimationFrame(a)}),t},o=function(e){c[e]&&cancelAnimationFrame(c[e])}):(l=function(e){return setTimeout(e,d)},o=function(e){return clearTimeout(e)}),{frame:l,cancel:o}),k=(m={},function(){if(u)return u;if(!r&&f){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {\n  if (msg.data.options) {\n    CONFETTI(msg.data.options).then(function () {\n      if (msg.data.callback) {\n        postMessage({ callback: msg.data.callback });\n      }\n    });\n  } else if (msg.data.reset) {\n    CONFETTI && CONFETTI.reset();\n  } else if (msg.data.resize) {\n    SIZE.width = msg.data.resize.width;\n    SIZE.height = msg.data.resize.height;\n  } else if (msg.data.canvas) {\n    SIZE.width = msg.data.canvas.width;\n    SIZE.height = msg.data.canvas.height;\n    CONFETTI = module.exports.create(msg.data.canvas);\n  }\n}"].join("\n");try{u=new Worker(URL.createObjectURL(new Blob([t])))}catch(e){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("ðŸŽŠ Could not load worker",e),null}var a=u;function n(e,t){a.postMessage({options:e||{},callback:t})}a.init=function(e){var t=e.transferControlToOffscreen();a.postMessage({canvas:t},[t])},a.fire=function(e,t,r){if(g)return n(e,null),g;var s=Math.random().toString(36).slice(2);return g=b(function(t){function i(e){e.data.callback===s&&(delete m[s],a.removeEventListener("message",i),g=null,v.clear(),r(),t())}a.addEventListener("message",i),n(e,s),m[s]=i.bind(null,{data:{callback:s}})})},a.reset=function(){for(var e in a.postMessage({reset:!0}),m)m[e](),delete m[e]}}return u}),M={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function j(e,t,a){var r;return r=e&&null!=e[t]?e[t]:M[t],a?a(r):r}function N(e){return e<0?0:Math.floor(e)}function C(e){return parseInt(e,16)}function S(e){return e.map(T)}function T(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:C(t.substring(0,2)),g:C(t.substring(2,4)),b:C(t.substring(4,6))}}function P(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function I(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function A(e,a){var s,i=!e,l=!!j(a||{},"resize"),o=!1,d=j(a,"disableForReducedMotion",Boolean),c=f&&j(a||{},"useWorker")?k():null,h=i?P:I,u=!!e&&!!c&&!!e.__confetti_initialized,g="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function m(a){var m,x=d||j(a,"disableForReducedMotion",Boolean),f=j(a,"zIndex",Number);if(x&&g)return b(function(e){e()});i&&s?e=s.canvas:i&&!e&&((m=document.createElement("canvas")).style.position="fixed",m.style.top="0px",m.style.left="0px",m.style.pointerEvents="none",m.style.zIndex=f,e=m,document.body.appendChild(e)),l&&!u&&h(e);var y={width:e.width,height:e.height};function k(){if(c){var t={getBoundingClientRect:function(){if(!i)return e.getBoundingClientRect()}};h(t),c.postMessage({resize:{width:t.width,height:t.height}});return}y.width=y.height=null}function M(){s=null,l&&(o=!1,t.removeEventListener("resize",k)),i&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,u=!1)}return(c&&!u&&c.init(e),u=!0,c&&(e.__confetti_initialized=!0),l&&!o&&(o=!0,t.addEventListener("resize",k,!1)),c)?c.fire(a,y,M):function(t,a,i){for(var l,o,d,c,u,g,m,x=j(t,"particleCount",N),f=j(t,"angle",Number),y=j(t,"spread",Number),k=j(t,"startVelocity",Number),M=j(t,"decay",Number),C=j(t,"gravity",Number),T=j(t,"drift",Number),P=j(t,"colors",S),I=j(t,"ticks",Number),A=j(t,"shapes"),E=j(t,"scalar"),R=!!j(t,"flat"),B=((l=j(t,"origin",Object)).x=j(l,"x",Number),l.y=j(l,"y",Number),l),F=x,O=[],z=e.width*B.x,L=e.height*B.y;F--;)O.push(function(e){var t=e.angle*(Math.PI/180),a=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*a-Math.random()*a),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}({x:z,y:L,angle:f,spread:y,startVelocity:k,color:P[F%P.length],shape:A[Math.floor(Math.random()*(A.length-0))+0],ticks:I,decay:M,gravity:C,drift:T,scalar:E,flat:R}));return s?s.addFettis(O):(o=e,u=O.slice(),g=o.getContext("2d"),m=b(function(e){function t(){d=c=null,g.clearRect(0,0,a.width,a.height),v.clear(),i(),e()}d=w.frame(function e(){r&&(a.width!==n.width||a.height!==n.height)&&(a.width=o.width=n.width,a.height=o.height=n.height),a.width||a.height||(h(o),a.width=o.width,a.height=o.height),g.clearRect(0,0,a.width,a.height),(u=u.filter(function(e){return function(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var a,r,n,s,i,l,o,d,c,h,u,g,m,x,f,y,b=t.tick++/t.totalTicks,w=t.x+t.random*t.tiltCos,k=t.y+t.random*t.tiltSin,M=t.wobbleX+t.random*t.tiltCos,j=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-b)+")",e.beginPath(),p&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix)){e.fill((a=t.shape.path,r=t.shape.matrix,n=t.x,s=t.y,i=.1*Math.abs(M-w),l=.1*Math.abs(j-k),o=Math.PI/10*t.wobble,d=new Path2D(a),(c=new Path2D).addPath(d,new DOMMatrix(r)),(h=new Path2D).addPath(c,new DOMMatrix([Math.cos(o)*i,Math.sin(o)*i,-Math.sin(o)*l,Math.cos(o)*l,n,s])),h))}else if("bitmap"===t.shape.type){var N=Math.PI/10*t.wobble,C=.1*Math.abs(M-w),S=.1*Math.abs(j-k),T=t.shape.bitmap.width*t.scalar,P=t.shape.bitmap.height*t.scalar,I=new DOMMatrix([Math.cos(N)*C,Math.sin(N)*C,-Math.sin(N)*S,Math.cos(N)*S,t.x,t.y]);I.multiplySelf(new DOMMatrix(t.shape.matrix));var A=e.createPattern(v.transform(t.shape.bitmap),"no-repeat");A.setTransform(I),e.globalAlpha=1-b,e.fillStyle=A,e.fillRect(t.x-T/2,t.y-P/2,T,P),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(M-w)*t.ovalScalar,Math.abs(j-k)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):(u=t.x,g=t.y,m=Math.abs(M-w)*t.ovalScalar,x=Math.abs(j-k)*t.ovalScalar,f=Math.PI/10*t.wobble,y=2*Math.PI,e.save(),e.translate(u,g),e.rotate(f),e.scale(m,x),e.arc(0,0,1,0,y,void 0),e.restore());else if("star"===t.shape)for(var E=Math.PI/2*3,R=4*t.scalar,B=8*t.scalar,F=t.x,O=t.y,z=5,L=Math.PI/5;z--;)F=t.x+Math.cos(E)*B,O=t.y+Math.sin(E)*B,e.lineTo(F,O),E+=L,F=t.x+Math.cos(E)*R,O=t.y+Math.sin(E)*R,e.lineTo(F,O),E+=L;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(k)),e.lineTo(Math.floor(M),Math.floor(j)),e.lineTo(Math.floor(w),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}(g,e)})).length?d=w.frame(e):t()}),c=t}),(s={addFettis:function(e){return u=u.concat(e),m},canvas:o,promise:m,reset:function(){d&&w.cancel(d),c&&c()}}).promise)}(a,y,M)}return m.reset=function(){c&&c.reset(),s&&s.reset()},m}function E(){return x||(x=A(null,{useWorker:!0,resize:!0})),x}a.exports=function(){return E().apply(this,arguments)},a.exports.reset=function(){E().reset()},a.exports.create=A,a.exports.shapeFromPath=function(e){if(!p)throw Error("path confetti are not supported in this browser");"string"==typeof e?r=e:(r=e.path,n=e.matrix);var t=new Path2D(r),a=document.createElement("canvas").getContext("2d");if(!n){for(var r,n,s,i,l=1e3,o=1e3,d=0,c=0,h=0;h<1e3;h+=2)for(var u=0;u<1e3;u+=2)a.isPointInPath(t,h,u,"nonzero")&&(l=Math.min(l,h),o=Math.min(o,u),d=Math.max(d,h),c=Math.max(c,u));s=d-l;var g=Math.min(10/s,10/(i=c-o));n=[g,0,0,g,-Math.round(s/2+l)*g,-Math.round(i/2+o)*g]}return{type:"path",path:r,matrix:n}},a.exports.shapeFromText=function(e){var t,a=1,r="#000000",n='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,a="scalar"in e?e.scalar:a,n="fontFamily"in e?e.fontFamily:n,r="color"in e?e.color:r);var s=10*a,i=""+s+"px "+n,l=new OffscreenCanvas(s,s),o=l.getContext("2d");o.font=i;var d=o.measureText(t),c=Math.ceil(d.actualBoundingBoxRight+d.actualBoundingBoxLeft),h=Math.ceil(d.actualBoundingBoxAscent+d.actualBoundingBoxDescent),u=d.actualBoundingBoxLeft+2,g=d.actualBoundingBoxAscent+2;c+=4,h+=4,(o=(l=new OffscreenCanvas(c,h)).getContext("2d")).font=i,o.fillStyle=r,o.fillText(t,u,g);var m=1/a;return{type:"bitmap",bitmap:l.transferToImageBitmap(),matrix:[m,0,0,m,-c*m/2,-h*m/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),t,!1);let a=t.exports;var r=t.exports.create;e.s(["create",()=>r,"default",0,a])},64030,e=>{"use strict";let t=(0,e.i(75254).default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);e.s(["Trophy",()=>t],64030)},48010,e=>{"use strict";var t=e.i(43476),a=e.i(932),r=e.i(71645),n=e.i(18566),s=e.i(52962);function i(e){let i,l,o,d=(0,a.c)(8),{children:c}=e,{isAuthenticated:h,loading:u}=(0,s.useAuth)(),g=(0,n.useRouter)();if(d[0]!==h||d[1]!==u||d[2]!==g?(i=()=>{u||h||g.push("/login")},l=[h,u,g],d[0]=h,d[1]=u,d[2]=g,d[3]=i,d[4]=l):(i=d[3],l=d[4]),r.default.useEffect(i,l),u){let e;return d[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-neutral-950",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600 dark:text-neutral-400",children:"Loading..."})]})}),d[5]=e):e=d[5],e}return h?(d[6]!==c?(o=(0,t.jsx)(t.Fragment,{children:c}),d[6]=c,d[7]=o):o=d[7],o):null}e.s(["ProtectedRoute",()=>i])},39312,e=>{"use strict";let t=(0,e.i(75254).default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>t],39312)},60385,e=>{"use strict";var t=e.i(61238);let a=async()=>t.default.get("/games/stats"),r=async(e,a="alltime",r=20)=>t.default.get("/games/leaderboard",{params:{gameType:e,period:a,limit:r}}),n=async()=>t.default.get("/games/trivia/daily"),s=async(e,a,r)=>t.default.post("/games/trivia/answer",{questionId:e,selectedIndex:a,timeSpent:r}),i=async(e,a,r=20)=>t.default.get("/games/coding/problems",{params:{category:e,difficulty:a,limit:r}}),l=async(e,a,r)=>t.default.post(`/games/coding/problems/${e}/submit`,{code:a,language:r}),o=async()=>t.default.get("/games/wordle/daily"),d=async(e,a)=>t.default.post("/games/wordle/guess",{gameId:e,guess:a}),c=async(e,a,r=10)=>t.default.get("/games/typing/texts",{params:{category:e,difficulty:a,limit:r}}),h=async e=>t.default.post("/games/typing/start",{textId:e}),u=async(e,a)=>t.default.post(`/games/typing/${e}/finish`,a);e.s(["answerTriviaQuestion",0,s,"finishTypingRace",0,u,"getCodingProblems",0,i,"getDailyTrivia",0,n,"getDailyWordle",0,o,"getLeaderboard",0,r,"getMyGameStats",0,a,"getTypingTexts",0,c,"guessWordle",0,d,"startTypingRace",0,h,"submitCodingSolution",0,l])},55711,e=>{"use strict";let t=(0,e.i(75254).default)("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);e.s(["Brain",()=>t],55711)},73884,e=>{"use strict";let t=(0,e.i(75254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],73884)},73233,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(22016),n=e.i(46932),s=e.i(88653),i=e.i(71689),l=e.i(55711),o=e.i(39312),d=e.i(64030),c=e.i(95468),h=e.i(73884),u=e.i(3116),g=e.i(58377),m=e.i(70273),x=e.i(63059),f=e.i(16715),p=e.i(48010),y=e.i(60385),b=e.i(59133);function v(){let[e,v]=(0,a.useState)([]),[w,k]=(0,a.useState)(0),[M,j]=(0,a.useState)(null),[N,C]=(0,a.useState)(null),[S,T]=(0,a.useState)(null),[P,I]=(0,a.useState)(null),[A,E]=(0,a.useState)(0),[R,B]=(0,a.useState)(0),[F,O]=(0,a.useState)(30),[z,L]=(0,a.useState)("loading"),[q,D]=(0,a.useState)(0),[$,Z]=(0,a.useState)(!1);(0,a.useEffect)(()=>{H()},[]);let H=async()=>{L("loading");try{let e=await (0,y.getDailyTrivia)();e.questions&&e.questions.length>0?(v(e.questions),L("playing"),O(30)):L("completed")}catch(e){console.error("Failed to fetch trivia:",e),L("error")}};(0,a.useEffect)(()=>{if("playing"!==z||null!==M)return;let e=setInterval(()=>{O(e=>e<=1?(X(),0):e-1)},1e3);return()=>clearInterval(e)},[z,M,w]);let X=()=>{null===M&&(j(-1),I(!1),D(0),L("answered"))},U=async t=>{if(null===M&&!$){j(t),Z(!0);try{let a=e[w],r=await (0,y.answerTriviaQuestion)(a.id,t,30-F);I(r.isCorrect),C(r.correctIndex),T(r.explanation||null),r.isCorrect?(E(e=>e+1),B(e=>e+r.xpEarned),D(e=>e+1),(0,b.default)({particleCount:50,spread:60,origin:{y:.7}})):D(0),L("answered")}catch(e){console.error("Failed to submit answer:",e),I(!1),D(0),L("answered")}finally{Z(!1)}}},_=e[w];return(0,t.jsx)(p.ProtectedRoute,{children:(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,t.jsx)("div",{className:"sticky top-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-gray-800",children:(0,t.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(r.default,{href:"/more/games",className:"p-2 -ml-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,t.jsx)(i.ArrowLeft,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,t.jsx)("div",{children:(0,t.jsxs)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,t.jsx)(l.Brain,{className:"w-6 h-6 text-purple-500"}),"Daily Trivia"]})})]}),"playing"===z&&(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:[(0,t.jsx)(o.Zap,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),(0,t.jsxs)("span",{className:"text-sm font-semibold text-purple-600 dark:text-purple-400",children:[R," XP"]})]})})]})})}),(0,t.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-6",children:(0,t.jsxs)(s.AnimatePresence,{mode:"wait",children:["loading"===z&&(0,t.jsxs)(n.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-20",children:[(0,t.jsx)("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin"}),(0,t.jsx)("p",{className:"mt-4 text-gray-500",children:"Loading questions..."})]},"loading"),"error"===z&&(0,t.jsxs)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},className:"text-center py-20",children:[(0,t.jsx)(h.XCircle,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Oops! Something went wrong"}),(0,t.jsx)("p",{className:"text-gray-500 mb-6",children:"We couldn't load the trivia questions. Please try again."}),(0,t.jsx)("button",{onClick:H,className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-medium transition-colors",children:"Try Again"})]},"error"),("playing"===z||"answered"===z)&&_&&(0,t.jsxs)(n.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-gray-500",children:["Question ",w+1," of ",e.length]}),(0,t.jsxs)("span",{className:"text-gray-500",children:["Score: ",A,"/",e.length]})]}),(0,t.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-purple-600 transition-all duration-300",style:{width:`${(w+1)/e.length*100}%`}})})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full ${F<=10?"bg-red-100 dark:bg-red-900/30":"bg-gray-100 dark:bg-gray-800"}`,children:[(0,t.jsx)(u.Clock,{className:`w-4 h-4 ${F<=10?"text-red-600":"text-gray-500"}`}),(0,t.jsxs)("span",{className:`text-sm font-semibold ${F<=10?"text-red-600":"text-gray-600 dark:text-gray-400"}`,children:[F,"s"]})]}),q>0&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-orange-100 dark:bg-orange-900/30 rounded-full",children:[(0,t.jsx)(g.Flame,{className:"w-4 h-4 text-orange-600"}),(0,t.jsxs)("span",{className:"text-sm font-semibold text-orange-600",children:[q," streak"]})]})]}),(0,t.jsx)("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${(e=>{switch(e){case"EASY":return"text-green-600 bg-green-100 dark:bg-green-900/30";case"MEDIUM":return"text-amber-600 bg-amber-100 dark:bg-amber-900/30";case"HARD":return"text-red-600 bg-red-100 dark:bg-red-900/30";default:return"text-gray-600 bg-gray-100 dark:bg-gray-700"}})(_.difficulty)}`,children:_.difficulty})]}),(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,t.jsx)("p",{className:"text-xs font-medium text-purple-600 dark:text-purple-400 mb-2",children:_.category}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white leading-relaxed",children:_.question})]}),(0,t.jsx)("div",{className:"space-y-3",children:_.options.map((e,a)=>{let r=M===a,s=N===a,i="answered"===z,l="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-purple-500 dark:hover:border-purple-500";return i?l=s?"bg-green-50 dark:bg-green-900/20 border-green-500":r&&!P?"bg-red-50 dark:bg-red-900/20 border-red-500":"bg-gray-50 dark:bg-gray-800/50 border-gray-200 dark:border-gray-700 opacity-60":r&&(l="bg-purple-50 dark:bg-purple-900/20 border-purple-500"),(0,t.jsx)(n.motion.button,{whileHover:i?{}:{scale:1.01},whileTap:i?{}:{scale:.99},onClick:()=>U(a),disabled:i||$,className:`w-full p-4 rounded-xl border-2 text-left transition-all ${l}`,children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("span",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${i&&s?"bg-green-500 text-white":i&&r&&!P?"bg-red-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,children:String.fromCharCode(65+a)}),(0,t.jsx)("span",{className:"flex-1 font-medium text-gray-900 dark:text-white",children:e}),i&&s&&(0,t.jsx)(c.CheckCircle2,{className:"w-6 h-6 text-green-500"}),i&&r&&!P&&(0,t.jsx)(h.XCircle,{className:"w-6 h-6 text-red-500"})]})},a)})}),"answered"===z&&(0,t.jsxs)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[S&&(0,t.jsx)("div",{className:`p-4 rounded-xl ${P?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:(0,t.jsxs)("p",{className:`text-sm ${P?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:[(0,t.jsx)("strong",{children:P?"ðŸŽ‰ Correct!":"âŒ Incorrect!"})," ",S]})}),!S&&(0,t.jsx)("div",{className:`p-4 rounded-xl ${P?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:(0,t.jsx)("p",{className:`text-sm ${P?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:(0,t.jsx)("strong",{children:P?"ðŸŽ‰ Correct!":"âŒ Incorrect!"})})}),(0,t.jsx)("button",{onClick:()=>{w<e.length-1?(k(e=>e+1),j(null),C(null),T(null),I(null),O(30),L("playing")):(L("completed"),A>e.length/2&&(0,b.default)({particleCount:100,spread:70,origin:{y:.6}}))},className:"w-full py-4 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-semibold transition-colors flex items-center justify-center gap-2",children:w<e.length-1?(0,t.jsxs)(t.Fragment,{children:["Next Question",(0,t.jsx)(x.ChevronRight,{className:"w-5 h-5"})]}):(0,t.jsxs)(t.Fragment,{children:["See Results",(0,t.jsx)(d.Trophy,{className:"w-5 h-5"})]})})]})]},`question-${w}`),"completed"===z&&(0,t.jsxs)(n.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-10",children:[(0,t.jsxs)("div",{className:"relative inline-block mb-6",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,t.jsx)(d.Trophy,{className:"w-12 h-12 text-white"})}),(0,t.jsx)("div",{className:"absolute -top-2 -right-2 w-10 h-10 bg-amber-400 rounded-full flex items-center justify-center animate-bounce",children:(0,t.jsx)(m.Star,{className:"w-6 h-6 text-white"})})]}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:A===e.length?"Perfect Score!":A>e.length/2?"Great Job!":"Keep Practicing!"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-8",children:"You completed today's trivia challenge"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[A,"/",e.length]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Correct"})]}),(0,t.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:["+",R]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"XP Earned"})]}),(0,t.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("p",{className:"text-3xl font-bold text-orange-500",children:[Math.round(A/e.length*100),"%"]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Accuracy"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,t.jsx)(r.default,{href:"/more/games",className:"flex-1 py-3 px-6 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-900 dark:text-white rounded-xl font-medium transition-colors",children:"Back to Games"}),(0,t.jsxs)("button",{onClick:()=>{k(0),j(null),C(null),T(null),I(null),E(0),B(0),D(0),H()},className:"flex-1 py-3 px-6 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-medium transition-colors flex items-center justify-center gap-2",children:[(0,t.jsx)(f.RefreshCw,{className:"w-5 h-5"}),"Play Again"]})]})]},"completed")]})})]})})}e.s(["default",()=>v])}]);
{"version":3,"sources":["../../../../src/app/badges/page.tsx","../../../../src/lib/api/badges.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { \n  Award, \n  Trophy, \n  Target,\n  ChevronLeft,\n  CheckCircle,\n  Lock,\n  Zap,\n  Users,\n  FileText,\n  Heart,\n  Flame,\n  Github,\n  Gift,\n  Code,\n  User,\n  Crown\n} from 'lucide-react';\nimport Link from 'next/link';\nimport { ProtectedRoute } from '@/components/auth/ProtectedRoute';\nimport * as badgesAPI from '@/lib/api/badges';\nimport type { BadgeProgress as ApiBadgeProgress, LeaderboardEntry as ApiLeaderboardEntry } from '@/lib/api/badges';\n\ninterface BadgeProgress {\n  id: string;\n  slug: string;\n  name: string;\n  description: string;\n  icon: string;\n  category: string;\n  xpReward: number;\n  rarity: string;\n  unlocked: boolean;\n  unlockedAt: string | null;\n  progress: {\n    current: number;\n    target: number;\n    percentage: number;\n  };\n}\n\ninterface LeaderboardEntry {\n  rank: number;\n  user: {\n    id: string;\n    username: string;\n    name: string;\n    profileImage?: string;\n  };\n  badgeCount: number;\n}\n\ntype TabType = 'progress' | 'unlocked' | 'leaderboard';\n\nconst categoryIcons: Record<string, React.ReactNode> = {\n  profile: <User className=\"w-4 h-4\" />,\n  social: <Users className=\"w-4 h-4\" />,\n  content: <FileText className=\"w-4 h-4\" />,\n  engagement: <Heart className=\"w-4 h-4\" />,\n  streaks: <Flame className=\"w-4 h-4\" />,\n  skills: <Target className=\"w-4 h-4\" />,\n  github: <Github className=\"w-4 h-4\" />,\n  referrals: <Gift className=\"w-4 h-4\" />,\n  challenges: <Code className=\"w-4 h-4\" />,\n  special: <Award className=\"w-4 h-4\" />\n};\n\nconst rarityStyles: Record<string, { border: string; bg: string; text: string }> = {\n  common: { border: 'border-gray-300 dark:border-neutral-600', bg: 'bg-gray-100 dark:bg-neutral-800', text: 'text-gray-600 dark:text-gray-400' },\n  rare: { border: 'border-blue-400 dark:border-blue-500', bg: 'bg-blue-50 dark:bg-blue-900/20', text: 'text-blue-600 dark:text-blue-400' },\n  epic: { border: 'border-purple-400 dark:border-purple-500', bg: 'bg-purple-50 dark:bg-purple-900/20', text: 'text-purple-600 dark:text-purple-400' },\n  legendary: { border: 'border-amber-400 dark:border-amber-500', bg: 'bg-amber-50 dark:bg-amber-900/20', text: 'text-amber-600 dark:text-amber-400' }\n};\n\nexport default function BadgesPage() {\n  const [activeTab, setActiveTab] = useState<TabType>('progress');\n  const [badgeProgress, setBadgeProgress] = useState<BadgeProgress[]>([]);\n  const [leaderboard, setLeaderboard] = useState<LeaderboardEntry[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedCategory, setSelectedCategory] = useState<string>('all');\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = async () => {\n    try {\n      setLoading(true);\n      const [progressRes, leaderboardRes] = await Promise.all([\n        badgesAPI.getBadgeProgress(),\n        badgesAPI.getBadgeLeaderboard()\n      ]);\n      // Map API response to local BadgeProgress type\n      const mappedProgress: BadgeProgress[] = (progressRes || []).map((p: ApiBadgeProgress) => ({\n        id: p.badge.id,\n        slug: p.badge.slug,\n        name: p.badge.name,\n        description: p.badge.description,\n        icon: p.badge.icon,\n        category: p.badge.category,\n        xpReward: p.badge.xpReward,\n        rarity: p.badge.rarity,\n        unlocked: p.unlocked,\n        unlockedAt: p.unlockedAt || null,\n        progress: p.progress,\n      }));\n      setBadgeProgress(mappedProgress);\n      setLeaderboard((leaderboardRes || []) as LeaderboardEntry[]);\n    } catch (error) {\n      console.error('Error loading badges:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const categories = ['all', ...new Set(badgeProgress.map(b => b.category))];\n  const filteredBadges = selectedCategory === 'all' \n    ? badgeProgress \n    : badgeProgress.filter(b => b.category === selectedCategory);\n  \n  const unlockedBadges = filteredBadges.filter(b => b.unlocked);\n  const lockedBadges = filteredBadges.filter(b => !b.unlocked);\n\n  const totalUnlocked = badgeProgress.filter(b => b.unlocked).length;\n  const totalXP = badgeProgress.filter(b => b.unlocked).reduce((sum, b) => sum + b.xpReward, 0);\n\n  const getRarityStyle = (rarity: string) => rarityStyles[rarity] || rarityStyles.common;\n\n  if (loading) {\n    return (\n      <ProtectedRoute>\n        <div className=\"min-h-screen bg-gray-50 dark:bg-neutral-950 flex items-center justify-center\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-2 border-gray-300 dark:border-neutral-600 border-t-blue-500\"></div>\n        </div>\n      </ProtectedRoute>\n    );\n  }\n\n  return (\n    <ProtectedRoute>\n      <div className=\"min-h-screen bg-gray-50 dark:bg-neutral-950 pb-20\">\n        {/* Header */}\n        <div className=\"bg-white dark:bg-neutral-900 border-b border-gray-200 dark:border-neutral-800 sticky top-0 z-10\">\n          <div className=\"max-w-2xl mx-auto px-4 py-4\">\n            <div className=\"flex items-center gap-3\">\n              <Link href=\"/more\" className=\"p-2 -ml-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors\">\n                <ChevronLeft className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\n              </Link>\n              <div>\n                <h1 className=\"text-xl font-semibold text-gray-900 dark:text-white\">Achievements</h1>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  {totalUnlocked} of {badgeProgress.length} badges unlocked\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"max-w-2xl mx-auto px-4 py-4\">\n          <div className=\"grid grid-cols-3 gap-3\">\n            <div className=\"bg-white dark:bg-neutral-900 rounded-xl p-4 border border-gray-200 dark:border-neutral-800\">\n              <div className=\"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-1\">\n                <Award className=\"w-4 h-4\" />\n                <span className=\"text-xs\">Unlocked</span>\n              </div>\n              <p className=\"text-2xl font-semibold text-gray-900 dark:text-white\">{totalUnlocked}</p>\n            </div>\n            <div className=\"bg-white dark:bg-neutral-900 rounded-xl p-4 border border-gray-200 dark:border-neutral-800\">\n              <div className=\"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-1\">\n                <Zap className=\"w-4 h-4\" />\n                <span className=\"text-xs\">XP Earned</span>\n              </div>\n              <p className=\"text-2xl font-semibold text-gray-900 dark:text-white\">{totalXP}</p>\n            </div>\n            <div className=\"bg-white dark:bg-neutral-900 rounded-xl p-4 border border-gray-200 dark:border-neutral-800\">\n              <div className=\"flex items-center gap-2 text-gray-500 dark:text-gray-400 mb-1\">\n                <Target className=\"w-4 h-4\" />\n                <span className=\"text-xs\">Progress</span>\n              </div>\n              <p className=\"text-2xl font-semibold text-gray-900 dark:text-white\">\n                {badgeProgress.length > 0 ? Math.round((totalUnlocked / badgeProgress.length) * 100) : 0}%\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"max-w-2xl mx-auto px-4\">\n          <div className=\"flex gap-1 bg-gray-100 dark:bg-neutral-800 p-1 rounded-lg\">\n            {[\n              { id: 'progress', label: 'All Badges', icon: Target },\n              { id: 'unlocked', label: 'Unlocked', icon: CheckCircle },\n              { id: 'leaderboard', label: 'Leaderboard', icon: Trophy }\n            ].map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id as TabType)}\n                className={`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-md text-sm font-medium transition-colors ${\n                  activeTab === tab.id\n                    ? 'bg-white dark:bg-neutral-700 text-gray-900 dark:text-white shadow-sm'\n                    : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white'\n                }`}\n              >\n                <tab.icon className=\"w-4 h-4\" />\n                <span className=\"hidden sm:inline\">{tab.label}</span>\n              </button>\n            ))}\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"max-w-2xl mx-auto px-4 py-4\">\n          {(activeTab === 'progress' || activeTab === 'unlocked') && (\n            <>\n              {/* Category Filter */}\n              <div className=\"flex gap-2 overflow-x-auto pb-3 scrollbar-hide mb-4\">\n                {categories.map((cat) => (\n                  <button\n                    key={cat}\n                    onClick={() => setSelectedCategory(cat)}\n                    className={`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${\n                      selectedCategory === cat\n                        ? 'bg-gray-900 dark:bg-white text-white dark:text-gray-900'\n                        : 'bg-gray-100 dark:bg-neutral-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-neutral-700'\n                    }`}\n                  >\n                    {cat !== 'all' && categoryIcons[cat]}\n                    {cat === 'all' ? 'All' : cat.charAt(0).toUpperCase() + cat.slice(1)}\n                  </button>\n                ))}\n              </div>\n\n              {activeTab === 'progress' ? (\n                <>\n                  {unlockedBadges.length > 0 && (\n                    <div className=\"mb-6\">\n                      <h3 className=\"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3 flex items-center gap-2\">\n                        <CheckCircle className=\"w-4 h-4\" />\n                        Unlocked ({unlockedBadges.length})\n                      </h3>\n                      <div className=\"space-y-2\">\n                        {unlockedBadges.map((badge) => (\n                          <BadgeCard key={badge.id} badge={badge} getRarityStyle={getRarityStyle} />\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {lockedBadges.length > 0 && (\n                    <div>\n                      <h3 className=\"text-sm font-medium text-gray-500 dark:text-gray-400 mb-3 flex items-center gap-2\">\n                        <Lock className=\"w-4 h-4\" />\n                        In Progress ({lockedBadges.length})\n                      </h3>\n                      <div className=\"space-y-2\">\n                        {lockedBadges.map((badge) => (\n                          <BadgeCard key={badge.id} badge={badge} getRarityStyle={getRarityStyle} />\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </>\n              ) : (\n                <>\n                  {unlockedBadges.length === 0 ? (\n                    <div className=\"text-center py-12\">\n                      <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-neutral-800 flex items-center justify-center\">\n                        <Award className=\"w-8 h-8 text-gray-400 dark:text-gray-500\" />\n                      </div>\n                      <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-1\">No badges yet</h3>\n                      <p className=\"text-sm text-gray-500 dark:text-gray-400\">Complete activities to earn badges</p>\n                    </div>\n                  ) : (\n                    <div className=\"space-y-2\">\n                      {unlockedBadges.map((badge) => (\n                        <BadgeCard key={badge.id} badge={badge} getRarityStyle={getRarityStyle} />\n                      ))}\n                    </div>\n                  )}\n                </>\n              )}\n            </>\n          )}\n\n          {activeTab === 'leaderboard' && (\n            <>\n              {leaderboard.length === 0 ? (\n                <div className=\"text-center py-12\">\n                  <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-neutral-800 flex items-center justify-center\">\n                    <Trophy className=\"w-8 h-8 text-gray-400 dark:text-gray-500\" />\n                  </div>\n                  <h3 className=\"text-lg font-medium text-gray-900 dark:text-white mb-1\">Leaderboard</h3>\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">No data available yet</p>\n                </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  {leaderboard.map((entry, index) => (\n                    <motion.div\n                      key={entry.user.id}\n                      initial={{ opacity: 0, y: 10 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      transition={{ delay: index * 0.05 }}\n                      className=\"bg-white dark:bg-neutral-900 rounded-xl p-4 border border-gray-200 dark:border-neutral-800 flex items-center gap-4\"\n                    >\n                      <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm font-semibold ${\n                        entry.rank === 1 ? 'bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400' :\n                        entry.rank === 2 ? 'bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300' :\n                        entry.rank === 3 ? 'bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400' :\n                        'bg-gray-100 text-gray-600 dark:bg-neutral-800 dark:text-gray-400'\n                      }`}>\n                        {entry.rank <= 3 ? <Crown className=\"w-4 h-4\" /> : entry.rank}\n                      </div>\n                      \n                      <div className=\"w-10 h-10 rounded-full bg-gray-200 dark:bg-neutral-700 flex items-center justify-center overflow-hidden\">\n                        {entry.user.profileImage ? (\n                          <img src={entry.user.profileImage} alt=\"\" className=\"w-full h-full object-cover\" />\n                        ) : (\n                          <span className=\"text-sm font-medium text-gray-600 dark:text-gray-300\">\n                            {entry.user.name?.charAt(0) || entry.user.username?.charAt(0) || '?'}\n                          </span>\n                        )}\n                      </div>\n                      \n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"font-medium text-gray-900 dark:text-white truncate\">\n                          {entry.user.name || entry.user.username}\n                        </p>\n                        <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                          @{entry.user.username}\n                        </p>\n                      </div>\n                      \n                      <div className=\"flex items-center gap-1.5 text-gray-600 dark:text-gray-300\">\n                        <Award className=\"w-4 h-4\" />\n                        <span className=\"font-semibold\">{entry.badgeCount}</span>\n                      </div>\n                    </motion.div>\n                  ))}\n                </div>\n              )}\n            </>\n          )}\n        </div>\n      </div>\n    </ProtectedRoute>\n  );\n}\n\nfunction BadgeCard({ \n  badge, \n  getRarityStyle \n}: { \n  badge: BadgeProgress; \n  getRarityStyle: (rarity: string) => { border: string; bg: string; text: string };\n}) {\n  const style = getRarityStyle(badge.rarity);\n  const icon = categoryIcons[badge.category] || <Award className=\"w-5 h-5\" />;\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      className={`bg-white dark:bg-neutral-900 rounded-xl p-4 border ${\n        badge.unlocked ? style.border : 'border-gray-200 dark:border-neutral-800'\n      }`}\n    >\n      <div className=\"flex items-start gap-4\">\n        <div className={`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${\n          badge.unlocked ? style.bg : 'bg-gray-100 dark:bg-neutral-800'\n        }`}>\n          <div className={badge.unlocked ? style.text : 'text-gray-400 dark:text-gray-500'}>\n            {icon}\n          </div>\n        </div>\n        \n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-start justify-between gap-2\">\n            <div>\n              <h4 className={`font-medium ${\n                badge.unlocked ? 'text-gray-900 dark:text-white' : 'text-gray-600 dark:text-gray-400'\n              }`}>\n                {badge.name}\n              </h4>\n              <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-0.5\">\n                {badge.description}\n              </p>\n            </div>\n            <div className=\"flex items-center gap-1 text-sm shrink-0\">\n              <Zap className=\"w-3.5 h-3.5 text-amber-500\" />\n              <span className=\"text-gray-600 dark:text-gray-400\">{badge.xpReward}</span>\n            </div>\n          </div>\n          \n          {!badge.unlocked && (\n            <div className=\"mt-3\">\n              <div className=\"flex items-center justify-between text-xs text-gray-500 dark:text-gray-400 mb-1\">\n                <span>{badge.progress.current} / {badge.progress.target}</span>\n                <span>{badge.progress.percentage}%</span>\n              </div>\n              <div className=\"h-1.5 bg-gray-100 dark:bg-neutral-800 rounded-full overflow-hidden\">\n                <div \n                  className=\"h-full bg-blue-500 rounded-full transition-all duration-300\"\n                  style={{ width: `${badge.progress.percentage}%` }}\n                />\n              </div>\n            </div>\n          )}\n          \n          {badge.unlocked && badge.unlockedAt && (\n            <p className=\"text-xs text-gray-400 dark:text-gray-500 mt-2 flex items-center gap-1\">\n              <CheckCircle className=\"w-3 h-3\" />\n              Unlocked {new Date(badge.unlockedAt).toLocaleDateString()}\n            </p>\n          )}\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n","import apiClient from './client';\n\nexport interface Badge {\n  id: string;\n  slug: string;\n  name: string;\n  description: string;\n  icon: string;\n  category: string;\n  rarity: string;\n  xpReward: number;\n  isSecret: boolean;\n  criteria: Record<string, unknown>;\n  order: number;\n}\n\nexport interface UserBadge {\n  id: string;\n  userId: string;\n  badgeId: string;\n  badge: Badge;\n  unlockedAt: string;\n  notified: boolean;\n}\n\nexport interface BadgeProgress {\n  badge: Badge;\n  unlocked: boolean;\n  unlockedAt?: string;\n  progress: {\n    current: number;\n    target: number;\n    percentage: number;\n  };\n}\n\nexport interface LeaderboardEntry {\n  rank: number;\n  user: {\n    id: string;\n    name: string;\n    username: string;\n    profileImage?: string;\n  };\n  badgeCount: number;\n}\n\n// Get all available badges\nexport const getAllBadges = async (): Promise<Badge[]> => {\n  const response = await apiClient.get('/badges');\n  return response.data;\n};\n\n// Get user's badges\nexport const getUserBadges = async (userId: string): Promise<UserBadge[]> => {\n  const response = await apiClient.get(`/badges/user/${userId}`);\n  return response.data;\n};\n\n// Get my badges\nexport const getMyBadges = async (): Promise<UserBadge[]> => {\n  const response = await apiClient.get('/badges/me');\n  return response.data;\n};\n\n// Get badge categories\nexport const getBadgeCategories = async (): Promise<string[]> => {\n  const response = await apiClient.get('/badges/categories');\n  return response.data;\n};\n\n// Get my badge progress\nexport const getBadgeProgress = async (): Promise<BadgeProgress[]> => {\n  const response = await apiClient.get('/badges/progress');\n  return response.data;\n};\n\n// Check for new badges\nexport const checkBadges = async (): Promise<Badge[]> => {\n  const response = await apiClient.post('/badges/check');\n  return response.data;\n};\n\n// Get unnotified badges\nexport const getUnnotifiedBadges = async (): Promise<UserBadge[]> => {\n  const response = await apiClient.get('/badges/unnotified');\n  return response.data;\n};\n\n// Get badge leaderboard\nexport const getBadgeLeaderboard = async (limit?: number): Promise<LeaderboardEntry[]> => {\n  const response = await apiClient.get('/badges/leaderboard', { params: { limit } });\n  return response.data;\n};\n"],"names":[],"mappings":"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"}
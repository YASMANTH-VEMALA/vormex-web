module.exports=[65398,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(71987),g=a.i(46271),h=a.i(62036),i=a.i(90925);a.i(59857);var j=a.i(38942),j=j,k=a.i(37662),l=a.i(63491);function m({params:a}){let m=(0,c.use)(a),n=(0,d.useRouter)(),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)([]),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)(!0),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)("general"),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(null),[O,P]=(0,c.useState)(""),[Q,R]=(0,c.useState)([]),[S,T]=(0,c.useState)(!1),[U,V]=(0,c.useState)(null),[W,X]=(0,c.useState)(!1),[Y,Z]=(0,c.useState)(!1),[$,_]=(0,c.useState)({name:"",description:"",rules:"",category:"",privacy:"PUBLIC"});(0,c.useEffect)(()=>{(async()=>{try{x(!0);let[a,b]=await Promise.all([(0,k.getGroup)(m.slug),(0,k.getGroupMembers)(m.slug)]),c=a.memberRole||a.userRole;if("OWNER"!==c&&"ADMIN"!==c)return void n.push(`/groups/${m.slug}`);if(p(a),r(b.members||[]),_({name:a.name,description:a.description||"",rules:Array.isArray(a.rules)?a.rules.join("\n"):a.rules||"",category:a.category||"",privacy:a.privacy}),"PRIVATE"===a.privacy)try{let b=await (0,k.getJoinRequests)(a.id,"PENDING");t(b)}catch{}if("SECRET"===a.privacy)try{let{invites:b}=await (0,k.getGroupInvites)(a.id,"PENDING");v(b)}catch{}}catch(a){B(a.response?.data?.error||"Failed to load group settings")}finally{x(!1)}})()},[m.slug,n]),(0,c.useEffect)(()=>{if(!O.trim()||O.length<2)return void R([]);let a=setTimeout(async()=>{try{T(!0);let a=await (0,l.searchUsers)(O),b=new Set(q.map(a=>a.user.id)),c=new Set(u.map(a=>a.invitedUserId)),d=a.filter(a=>!b.has(a.id)&&!c.has(a.id));R(d)}catch{R([])}finally{T(!1)}},300);return()=>clearTimeout(a)},[O,q,u]);let aa=async()=>{if(o)try{z(!0),B(null);let a=$.rules.split("\n").map(a=>a.trim()).filter(a=>a);await (0,k.updateGroup)(o.id,{...$,rules:a}),D("Settings saved successfully!"),setTimeout(()=>D(null),3e3)}catch(a){B(a.response?.data?.error||"Failed to save settings")}finally{z(!1)}},ab=async(a,b)=>{if(o)try{await (0,k.updateMemberRole)(o.id,a,b),r(c=>c.map(c=>c.id===a?{...c,role:b}:c))}catch(a){B(a.response?.data?.error||"Failed to update role")}},ac=async a=>{if(o&&confirm("Are you sure you want to remove this member?"))try{await (0,k.removeMember)(o.id,a),r(b=>b.filter(b=>b.id!==a))}catch(a){B(a.response?.data?.error||"Failed to remove member")}},ad=async(a,b)=>{if(o)try{if(N(a),B(null),await (0,k.handleJoinRequest)(o.id,a,b),t(b=>b.filter(b=>b.id!==a)),"approve"===b){D("Member approved successfully!");let a=await (0,k.getGroupMembers)(o.id);r(a.members||[])}else D("Request rejected");setTimeout(()=>D(null),3e3)}catch(a){B(a.response?.data?.error||`Failed to ${b} request`)}finally{N(null)}},ae=async a=>{if(o)try{V(a),B(null),await (0,k.inviteToGroup)(o.id,a);let{invites:b}=await (0,k.getGroupInvites)(o.id,"PENDING");v(b),P(""),R([]),D("Invite sent successfully!"),setTimeout(()=>D(null),3e3)}catch(a){B(a.response?.data?.error||"Failed to send invite")}finally{V(null)}},af=async a=>{if(o)try{N(a),await (0,k.cancelInvite)(o.id,a),v(b=>b.filter(b=>b.id!==a)),D("Invite cancelled"),setTimeout(()=>D(null),3e3)}catch(a){B(a.response?.data?.error||"Failed to cancel invite")}finally{N(null)}},ag=async()=>{if(o&&I===o.name)try{L(!0),await (0,k.deleteGroup)(o.id),n.push("/groups")}catch(a){B(a.response?.data?.error||"Failed to delete group"),L(!1)}},ah=[{id:"general",label:"General",icon:(0,b.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"members",label:"Members",icon:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})},{id:"requests",label:"Requests",badge:s.length,hidden:o?.privacy!=="PRIVATE",icon:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})},{id:"invites",label:"Invites",badge:u.length,hidden:o?.privacy!=="SECRET",icon:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})},{id:"danger",label:"Danger Zone",icon:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}];return w?(0,b.jsx)(i.ProtectedRoute,{children:(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"})})}):o?(0,b.jsx)(i.ProtectedRoute,{children:(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24",children:[(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(e.default,{href:`/groups/${o.slug}`,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Group Settings"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o.name})]})]})})}),(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[(0,b.jsxs)(h.AnimatePresence,{children:[A&&(0,b.jsx)(g.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl",children:A}),C&&(0,b.jsx)(g.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-4 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-xl",children:C})]}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,b.jsx)("div",{className:"md:w-64 shrink-0",children:(0,b.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden",children:ah.filter(a=>!a.hidden).map(a=>(0,b.jsxs)("button",{onClick:()=>F(a.id),className:`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors ${E===a.id?"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"} ${"danger"===a.id?"text-red-600 dark:text-red-400":""}`,children:[a.icon,(0,b.jsx)("span",{className:"font-medium flex-1",children:a.label}),void 0!==a.badge&&a.badge>0&&(0,b.jsx)("span",{className:"px-2 py-0.5 text-xs font-medium bg-blue-600 text-white rounded-full",children:a.badge})]},a.id))})}),(0,b.jsxs)("div",{className:"flex-1",children:["general"===E&&(0,b.jsxs)(g.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"General Settings"}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Group Images"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Cover Image"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"w-full h-32 rounded-xl overflow-hidden bg-gradient-to-r from-blue-500 to-purple-500",children:o.coverImage&&(0,b.jsx)(f.default,{src:o.coverImage,alt:"Group cover",fill:!0,className:"object-cover"})}),(0,b.jsxs)("button",{onClick:()=>Z(!0),className:"absolute bottom-2 right-2 px-3 py-1.5 bg-white/90 dark:bg-gray-800/90 text-sm font-medium rounded-lg hover:bg-white dark:hover:bg-gray-800 transition-colors",children:[(0,b.jsxs)("svg",{className:"w-4 h-4 inline mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Change Cover"]})]}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Click to upload and crop. Recommended: 1200x400 pixels"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm text-gray-600 dark:text-gray-400 mb-2",children:"Group Icon"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"relative w-20 h-20 rounded-xl overflow-hidden bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center",children:o.iconImage?(0,b.jsx)(f.default,{src:o.iconImage,alt:"Group icon",fill:!0,className:"object-cover"}):(0,b.jsx)("span",{className:"text-2xl font-bold text-white",children:o.name.charAt(0).toUpperCase()})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("button",{onClick:()=>X(!0),className:"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-sm font-medium rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"Change Icon"}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Click to upload and crop. Square image recommended"})]})]})]})]}),(0,b.jsx)("hr",{className:"border-gray-200 dark:border-gray-700"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Group Name"}),(0,b.jsx)("input",{type:"text",value:$.name,onChange:a=>_({...$,name:a.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter group name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:$.description,onChange:a=>_({...$,description:a.target.value}),rows:4,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"What is this group about?"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Group Rules"}),(0,b.jsx)("textarea",{value:$.rules,onChange:a=>_({...$,rules:a.target.value}),rows:4,className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Enter group rules (one per line)"}),(0,b.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Separate each rule with a new line"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,b.jsx)("input",{type:"text",value:$.category,onChange:a=>_({...$,category:a.target.value}),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Technology, Sports, Art"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Privacy"}),(0,b.jsx)("div",{className:"space-y-3",children:[{value:"PUBLIC",label:"Public",desc:"Anyone can find and join"},{value:"PRIVATE",label:"Private",desc:"Anyone can find, but must request to join"},{value:"SECRET",label:"Secret",desc:"Only members can find and invite others"}].map(a=>(0,b.jsxs)("label",{className:`flex items-start gap-3 p-4 rounded-xl border-2 cursor-pointer transition-colors ${$.privacy===a.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,children:[(0,b.jsx)("input",{type:"radio",name:"privacy",value:a.value,checked:$.privacy===a.value,onChange:a=>_({...$,privacy:a.target.value}),className:"mt-1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:a.label}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a.desc})]})]},a.value))})]}),(0,b.jsx)("div",{className:"pt-4",children:(0,b.jsx)("button",{onClick:aa,disabled:y,className:"w-full px-6 py-3 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Saving...":"Save Changes"})})]})]}),"members"===E&&(0,b.jsxs)(g.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Manage Members"}),(0,b.jsxs)("div",{className:"space-y-4",children:[q.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"relative w-10 h-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600",children:a.user.profileImage||a.user.avatar?(0,b.jsx)(f.default,{src:a.user.profileImage||a.user.avatar||"",alt:a.user.name,fill:!0,className:"object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-500 dark:text-gray-400 font-medium",children:a.user.name.charAt(0).toUpperCase()})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:a.user.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",a.user.username]})]}),(0,b.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${"OWNER"===a.role?"bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400":"ADMIN"===a.role?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"MODERATOR"===a.role?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-400"}`,children:a.role})]}),"OWNER"!==a.role&&("OWNER"===o.memberRole||"OWNER"===o.userRole)&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("select",{value:a.role,onChange:b=>ab(a.id,b.target.value),className:"px-3 py-1.5 text-sm rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,b.jsx)("option",{value:"ADMIN",children:"Admin"}),(0,b.jsx)("option",{value:"MODERATOR",children:"Moderator"}),(0,b.jsx)("option",{value:"MEMBER",children:"Member"})]}),(0,b.jsx)("button",{onClick:()=>ac(a.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Remove member",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},a.id)),0===q.length&&(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No members found"})})]})]}),"requests"===E&&("PRIVATE"===o.privacy||"SECRET"===o.privacy)&&(0,b.jsxs)(g.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Pending Requests"}),(0,b.jsxs)("div",{className:"space-y-4",children:[s.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"relative w-12 h-12 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600",children:a.user.profileImage?(0,b.jsx)(f.default,{src:a.user.profileImage,alt:a.user.name,fill:!0,className:"object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-500 dark:text-gray-400 font-medium text-lg",children:a.user.name.charAt(0).toUpperCase()})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:a.user.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",a.user.username]}),a.message&&(0,b.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1 italic",children:["“",a.message,"”"]}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Requested ",new Date(a.createdAt).toLocaleDateString()]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("button",{onClick:()=>ad(a.id,"approve"),disabled:M===a.id,className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[M===a.id?(0,b.jsxs)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Approve"]}),(0,b.jsx)("button",{onClick:()=>ad(a.id,"reject"),disabled:M===a.id,className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 text-sm font-medium rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors disabled:opacity-50",children:"Reject"})]})]},a.id)),0===s.length&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No pending requests"}),(0,b.jsx)("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"When someone requests to join, they'll appear here"})]})]})]}),"invites"===E&&"SECRET"===o.privacy&&(0,b.jsxs)(g.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Invite Members"}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search users to invite"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",value:O,onChange:a=>P(a.target.value),placeholder:"Search by name or username...",className:"w-full px-4 py-3 pl-10 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,b.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),S&&(0,b.jsxs)("svg",{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})]}),Q.length>0&&(0,b.jsx)("div",{className:"mt-2 border border-gray-200 dark:border-gray-600 rounded-xl overflow-hidden",children:Q.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"relative w-10 h-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600",children:a.profileImage?(0,b.jsx)(f.default,{src:a.profileImage,alt:a.name,fill:!0,className:"object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-500 dark:text-gray-400 font-medium",children:a.name.charAt(0).toUpperCase()})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["@",a.username]})]})]}),(0,b.jsx)("button",{onClick:()=>ae(a.id),disabled:U===a.id,className:"px-3 py-1.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:U===a.id?"Sending...":"Invite"})]},a.id))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4",children:["Pending Invites (",u.length,")"]}),(0,b.jsxs)("div",{className:"space-y-3",children:[u.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"relative w-10 h-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600",children:a.invitedUser.profileImage?(0,b.jsx)(f.default,{src:a.invitedUser.profileImage,alt:a.invitedUser.name,fill:!0,className:"object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-gray-500 dark:text-gray-400 font-medium",children:a.invitedUser.name.charAt(0).toUpperCase()})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:a.invitedUser.name}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",a.invitedUser.username]}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Invited ",new Date(a.createdAt).toLocaleDateString()]})]})]}),(0,b.jsx)("button",{onClick:()=>af(a.id),disabled:M===a.id,className:"px-3 py-1.5 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 text-sm font-medium rounded-lg transition-colors disabled:opacity-50",children:"Cancel"})]},a.id)),0===u.length&&(0,b.jsx)("div",{className:"text-center py-8",children:(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"No pending invites. Search for users above to invite them."})})]})]})]}),"danger"===E&&("OWNER"===o.memberRole||"OWNER"===o.userRole)&&(0,b.jsxs)(g.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border-2 border-red-200 dark:border-red-800",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-red-600 dark:text-red-400 mb-6",children:"Danger Zone"}),(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-xl",children:[(0,b.jsx)("h3",{className:"font-medium text-red-600 dark:text-red-400 mb-2",children:"Delete Group"}),(0,b.jsx)("p",{className:"text-sm text-red-600/80 dark:text-red-400/80 mb-4",children:"Once you delete a group, there is no going back. All posts, messages, and members will be permanently deleted."}),(0,b.jsx)("button",{onClick:()=>H(!0),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete Group"})]})})]})]})]})]}),(0,b.jsx)(h.AnimatePresence,{children:G&&(0,b.jsx)(g.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>H(!1),children:(0,b.jsxs)(g.motion.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:a=>a.stopPropagation(),className:"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md",children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Delete Group?"}),(0,b.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["This action cannot be undone. Type ",(0,b.jsx)("strong",{children:o.name})," to confirm."]}),(0,b.jsx)("input",{type:"text",value:I,onChange:a=>J(a.target.value),placeholder:"Type group name to confirm",className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{H(!1),J("")},className:"flex-1 px-4 py-3 border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:ag,disabled:I!==o.name||K,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:K?"Deleting...":"Delete Group"})]})]})})}),(0,b.jsx)(j.default,{isOpen:W,onClose:()=>X(!1),groupId:o.id,type:"icon",currentImageUrl:o.iconImage,onImageUpdated:a=>{o&&(p({...o,iconImage:a}),D("Group icon updated successfully!"),setTimeout(()=>D(null),3e3))}}),(0,b.jsx)(j.default,{isOpen:Y,onClose:()=>Z(!1),groupId:o.id,type:"cover",currentImageUrl:o.coverImage,onImageUpdated:a=>{o&&(p({...o,coverImage:a}),D("Group cover updated successfully!"),setTimeout(()=>D(null),3e3))}})]})}):(0,b.jsx)(i.ProtectedRoute,{children:(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-red-500 mb-4",children:"Group not found or you don't have permission"}),(0,b.jsx)(e.default,{href:"/groups",className:"text-blue-600 hover:underline",children:"Go back to groups"})]})})})}a.s(["default",()=>m],65398)}];

//# sourceMappingURL=src_app_groups_%5Bslug%5D_settings_page_tsx_26a893fa._.js.map
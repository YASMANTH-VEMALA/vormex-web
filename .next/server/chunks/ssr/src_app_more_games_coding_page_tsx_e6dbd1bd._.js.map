{"version":3,"sources":["../../../../src/app/more/games/coding/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  ArrowLeft,\n  Code,\n  Zap,\n  Trophy,\n  Play,\n  CheckCircle2,\n  XCircle,\n  Clock,\n  ChevronRight,\n  ChevronDown,\n  BookOpen,\n  Lightbulb,\n  AlertCircle,\n  Terminal,\n  Copy,\n  Check,\n} from 'lucide-react';\nimport { ProtectedRoute } from '@/components/auth/ProtectedRoute';\nimport {\n  getCodingProblems,\n  submitCodingSolution,\n  CodingProblem,\n} from '@/lib/api/games';\nimport confetti from 'canvas-confetti';\n\ntype GameState = 'loading' | 'selecting' | 'solving' | 'result' | 'error';\n\nexport default function CodingPage() {\n  const [puzzles, setPuzzles] = useState<CodingProblem[]>([]);\n  const [selectedPuzzle, setSelectedPuzzle] = useState<CodingProblem | null>(null);\n  const [code, setCode] = useState('');\n  const [language, setLanguage] = useState('javascript');\n  const [output, setOutput] = useState('');\n  const [testResults, setTestResults] = useState<{ testCase: number; passed: boolean; input: string; expectedOutput?: string }[]>([]);\n  const [gameState, setGameState] = useState<GameState>('loading');\n  const [difficulty, setDifficulty] = useState<'EASY' | 'MEDIUM' | 'HARD'>('EASY');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isCorrect, setIsCorrect] = useState<boolean | null>(null);\n  const [xpEarned, setXpEarned] = useState(0);\n  const [showHint, setShowHint] = useState(false);\n  const [copied, setCopied] = useState(false);\n  const [startTime, setStartTime] = useState<number | null>(null);\n\n  useEffect(() => {\n    fetchPuzzles();\n  }, [difficulty]);\n\n  const fetchPuzzles = async () => {\n    setGameState('loading');\n    try {\n      const data = await getCodingProblems(undefined, difficulty);\n      setPuzzles(data.problems || []);\n      setGameState('selecting');\n    } catch (error) {\n      console.error('Failed to fetch puzzles:', error);\n      setGameState('error');\n    }\n  };\n\n  const selectPuzzle = (puzzle: CodingProblem) => {\n    setSelectedPuzzle(puzzle);\n    // Get starter code for the selected language\n    const starterCode = puzzle.starterCode?.[language] || puzzle.starterCode?.javascript || '';\n    setCode(starterCode);\n    setOutput('');\n    setTestResults([]);\n    setIsCorrect(null);\n    setShowHint(false);\n    setStartTime(Date.now());\n    setGameState('solving');\n  };\n\n  const runCode = async () => {\n    if (!selectedPuzzle || !code.trim()) return;\n    \n    setIsSubmitting(true);\n    setOutput('Running...');\n    setTestResults([]);\n    \n    try {\n      const result = await submitCodingSolution(selectedPuzzle.id, code, language);\n      \n      setTestResults(result.testResults || []);\n      const allPassed = result.submission.passedTests === result.submission.totalTests;\n      setIsCorrect(allPassed);\n      setOutput(allPassed \n        ? `All ${result.submission.totalTests} test cases passed!` \n        : `${result.submission.passedTests}/${result.submission.totalTests} test cases passed.`\n      );\n      \n      if (allPassed) {\n        setXpEarned(result.xpEarned);\n        setGameState('result');\n        confetti({\n          particleCount: 100,\n          spread: 70,\n          origin: { y: 0.6 },\n        });\n      }\n    } catch (error: any) {\n      setOutput(error.response?.data?.message || 'Error running code. Please try again.');\n      setIsCorrect(false);\n    } finally {\n      setIsSubmitting(true);\n    }\n  };\n\n  const copyStarterCode = () => {\n    if (selectedPuzzle?.starterCode) {\n      const starterCode = selectedPuzzle.starterCode[language] || selectedPuzzle.starterCode.javascript || '';\n      navigator.clipboard.writeText(starterCode);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    }\n  };\n\n  const getDifficultyColor = (diff: string) => {\n    switch (diff) {\n      case 'EASY':\n        return 'bg-green-100 text-green-600 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800';\n      case 'MEDIUM':\n        return 'bg-amber-100 text-amber-600 border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800';\n      case 'HARD':\n        return 'bg-red-100 text-red-600 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800';\n      default:\n        return 'bg-gray-100 text-gray-600 border-gray-200';\n    }\n  };\n\n  const getXpReward = (diff: string) => {\n    switch (diff) {\n      case 'EASY':\n        return '50 XP';\n      case 'MEDIUM':\n        return '100 XP';\n      case 'HARD':\n        return '200 XP';\n      default:\n        return '50 XP';\n    }\n  };\n\n  return (\n    <ProtectedRoute>\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n        {/* Header */}\n        <div className=\"sticky top-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-gray-800\">\n          <div className=\"max-w-4xl mx-auto px-4 py-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-4\">\n                <Link\n                  href={gameState === 'solving' || gameState === 'result' ? '#' : '/more/games'}\n                  onClick={(e) => {\n                    if (gameState === 'solving' || gameState === 'result') {\n                      e.preventDefault();\n                      setGameState('selecting');\n                      setSelectedPuzzle(null);\n                    }\n                  }}\n                  className=\"p-2 -ml-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\n                >\n                  <ArrowLeft className=\"w-5 h-5 text-gray-600 dark:text-gray-400\" />\n                </Link>\n                <h1 className=\"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2\">\n                  <Code className=\"w-6 h-6 text-orange-500\" />\n                  {gameState === 'solving' || gameState === 'result' ? selectedPuzzle?.title : 'Coding Puzzles'}\n                </h1>\n              </div>\n              \n              {xpEarned > 0 && (\n                <div className=\"flex items-center gap-1.5 px-3 py-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-full\">\n                  <Zap className=\"w-4 h-4 text-purple-600 dark:text-purple-400\" />\n                  <span className=\"text-sm font-semibold text-purple-600 dark:text-purple-400\">\n                    +{xpEarned} XP\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"max-w-4xl mx-auto px-4 py-6\">\n          {/* Loading State */}\n          {gameState === 'loading' && (\n            <div className=\"flex flex-col items-center justify-center py-20\">\n              <div className=\"w-16 h-16 border-4 border-orange-200 border-t-orange-600 rounded-full animate-spin\" />\n              <p className=\"mt-4 text-gray-500\">Loading puzzles...</p>\n            </div>\n          )}\n\n          {/* Error State */}\n          {gameState === 'error' && (\n            <div className=\"text-center py-20\">\n              <AlertCircle className=\"w-16 h-16 text-red-500 mx-auto mb-4\" />\n              <h2 className=\"text-xl font-bold text-gray-900 dark:text-white mb-2\">\n                Couldn&apos;t load puzzles\n              </h2>\n              <button\n                onClick={fetchPuzzles}\n                className=\"px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-xl font-medium transition-colors\"\n              >\n                Try Again\n              </button>\n            </div>\n          )}\n\n          {/* Selecting State - Puzzle List */}\n          {gameState === 'selecting' && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              className=\"space-y-6\"\n            >\n              {/* Difficulty Selector */}\n              <div className=\"flex items-center justify-center gap-2\">\n                {(['EASY', 'MEDIUM', 'HARD'] as const).map((diff) => (\n                  <button\n                    key={diff}\n                    onClick={() => setDifficulty(diff)}\n                    className={`px-4 py-2 rounded-xl font-medium transition-all border ${\n                      difficulty === diff\n                        ? getDifficultyColor(diff)\n                        : 'bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300'\n                    }`}\n                  >\n                    {diff}\n                  </button>\n                ))}\n              </div>\n\n              {/* Puzzles List */}\n              <div className=\"space-y-3\">\n                {puzzles.length === 0 ? (\n                  <div className=\"text-center py-12 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700\">\n                    <Code className=\"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3\" />\n                    <p className=\"text-gray-500\">No puzzles available for this difficulty.</p>\n                  </div>\n                ) : (\n                  puzzles.map((puzzle, index) => (\n                    <motion.button\n                      key={puzzle.id}\n                      initial={{ opacity: 0, y: 20 }}\n                      animate={{ opacity: 1, y: 0 }}\n                      transition={{ delay: index * 0.1 }}\n                      onClick={() => selectPuzzle(puzzle)}\n                      className=\"w-full p-4 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-orange-500 dark:hover:border-orange-500 transition-all text-left group\"\n                    >\n                      <div className=\"flex items-center gap-4\">\n                        <div className=\"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-xl\">\n                          <Code className=\"w-6 h-6 text-orange-600 dark:text-orange-400\" />\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <div className=\"flex items-center gap-2 mb-1\">\n                            <h3 className=\"font-semibold text-gray-900 dark:text-white group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors\">\n                              {puzzle.title}\n                            </h3>\n                            <span className={`px-2 py-0.5 text-xs font-medium rounded-full border ${getDifficultyColor(puzzle.difficulty)}`}>\n                              {puzzle.difficulty}\n                            </span>\n                          </div>\n                          <p className=\"text-sm text-gray-500 dark:text-gray-400 truncate\">\n                            {puzzle.description}\n                          </p>\n                        </div>\n                        <div className=\"text-right\">\n                          <p className=\"text-sm font-medium text-orange-600 dark:text-orange-400\">\n                            {getXpReward(puzzle.difficulty)}\n                          </p>\n                          <p className=\"text-xs text-gray-400\">{puzzle.category}</p>\n                        </div>\n                        <ChevronRight className=\"w-5 h-5 text-gray-400 group-hover:text-orange-500\" />\n                      </div>\n                    </motion.button>\n                  ))\n                )}\n              </div>\n            </motion.div>\n          )}\n\n          {/* Solving State */}\n          {(gameState === 'solving' || gameState === 'result') && selectedPuzzle && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              className=\"space-y-4\"\n            >\n              {/* Problem Description */}\n              <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4\">\n                <div className=\"flex items-center justify-between mb-3\">\n                  <div className=\"flex items-center gap-2\">\n                    <BookOpen className=\"w-5 h-5 text-gray-500\" />\n                    <span className=\"font-medium text-gray-900 dark:text-white\">Problem</span>\n                  </div>\n                  <span className={`px-2 py-0.5 text-xs font-medium rounded-full border ${getDifficultyColor(selectedPuzzle.difficulty)}`}>\n                    {selectedPuzzle.difficulty}\n                  </span>\n                </div>\n                <p className=\"text-gray-600 dark:text-gray-300 whitespace-pre-wrap\">\n                  {selectedPuzzle.description}\n                </p>\n              </div>\n\n              {/* Examples */}\n              {selectedPuzzle.testCases && selectedPuzzle.testCases.length > 0 && (\n                <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 p-4\">\n                  <div className=\"flex items-center gap-2 mb-3\">\n                    <Terminal className=\"w-5 h-5 text-gray-500\" />\n                    <span className=\"font-medium text-gray-900 dark:text-white\">Examples</span>\n                  </div>\n                  <div className=\"space-y-3\">\n                    {selectedPuzzle.testCases.slice(0, 2).map((testCase: { input: string; expectedOutput: string; isHidden?: boolean }, index: number) => (\n                      <div key={index} className=\"p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg font-mono text-sm\">\n                        <p className=\"text-gray-500 mb-1\">Input:</p>\n                        <p className=\"text-gray-900 dark:text-white mb-2\">{testCase.input}</p>\n                        <p className=\"text-gray-500 mb-1\">Expected Output:</p>\n                        <p className=\"text-green-600 dark:text-green-400\">{testCase.expectedOutput}</p>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Hint */}\n              {selectedPuzzle.hints && selectedPuzzle.hints.length > 0 && (\n                <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                  <button\n                    onClick={() => setShowHint(!showHint)}\n                    className=\"w-full p-4 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors\"\n                  >\n                    <div className=\"flex items-center gap-2\">\n                      <Lightbulb className=\"w-5 h-5 text-amber-500\" />\n                      <span className=\"font-medium text-gray-900 dark:text-white\">Need a hint?</span>\n                    </div>\n                    <ChevronDown className={`w-5 h-5 text-gray-400 transition-transform ${showHint ? 'rotate-180' : ''}`} />\n                  </button>\n                  <AnimatePresence>\n                    {showHint && (\n                      <motion.div\n                        initial={{ height: 0, opacity: 0 }}\n                        animate={{ height: 'auto', opacity: 1 }}\n                        exit={{ height: 0, opacity: 0 }}\n                        className=\"px-4 pb-4\"\n                      >\n                        <ul className=\"text-amber-600 dark:text-amber-400 text-sm list-disc list-inside\">\n                          {selectedPuzzle.hints.map((hint, i) => (\n                            <li key={i}>{hint}</li>\n                          ))}\n                        </ul>\n                      </motion.div>\n                    )}\n                  </AnimatePresence>\n                </div>\n              )}\n\n              {/* Code Editor */}\n              <div className=\"bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 overflow-hidden\">\n                <div className=\"flex items-center justify-between px-4 py-2 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50\">\n                  <div className=\"flex items-center gap-2\">\n                    <Code className=\"w-4 h-4 text-gray-500\" />\n                    <select\n                      value={language}\n                      onChange={(e) => {\n                        setLanguage(e.target.value);\n                        const newStarterCode = selectedPuzzle.starterCode?.[e.target.value] || '';\n                        setCode(newStarterCode);\n                      }}\n                      className=\"text-sm font-medium text-gray-700 dark:text-gray-300 bg-transparent border-none focus:ring-0\"\n                    >\n                      <option value=\"javascript\">JavaScript</option>\n                      <option value=\"python\">Python</option>\n                      <option value=\"typescript\">TypeScript</option>\n                    </select>\n                  </div>\n                  <button\n                    onClick={copyStarterCode}\n                    className=\"p-1.5 hover:bg-gray-200 dark:hover:bg-gray-600 rounded transition-colors\"\n                    title=\"Copy starter code\"\n                  >\n                    {copied ? (\n                      <Check className=\"w-4 h-4 text-green-500\" />\n                    ) : (\n                      <Copy className=\"w-4 h-4 text-gray-400\" />\n                    )}\n                  </button>\n                </div>\n                <textarea\n                  value={code}\n                  onChange={(e) => setCode(e.target.value)}\n                  disabled={gameState === 'result'}\n                  className=\"w-full p-4 font-mono text-sm bg-gray-900 text-gray-100 min-h-[200px] resize-y focus:outline-none disabled:opacity-60\"\n                  placeholder=\"Write your code here...\"\n                  spellCheck={false}\n                />\n              </div>\n\n              {/* Output */}\n              {output && (\n                <div className={`p-4 rounded-xl border ${\n                  isCorrect === true\n                    ? 'bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800'\n                    : isCorrect === false\n                    ? 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800'\n                    : 'bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700'\n                }`}>\n                  <div className=\"flex items-center gap-2 mb-2\">\n                    {isCorrect === true ? (\n                      <CheckCircle2 className=\"w-5 h-5 text-green-500\" />\n                    ) : isCorrect === false ? (\n                      <XCircle className=\"w-5 h-5 text-red-500\" />\n                    ) : (\n                      <Terminal className=\"w-5 h-5 text-gray-500\" />\n                    )}\n                    <span className=\"font-medium text-gray-900 dark:text-white\">Output</span>\n                  </div>\n                  <pre className={`font-mono text-sm whitespace-pre-wrap ${\n                    isCorrect === true\n                      ? 'text-green-700 dark:text-green-300'\n                      : isCorrect === false\n                      ? 'text-red-700 dark:text-red-300'\n                      : 'text-gray-700 dark:text-gray-300'\n                  }`}>\n                    {output}\n                  </pre>\n                </div>\n              )}\n\n              {/* Actions */}\n              {gameState === 'solving' && (\n                <div className=\"flex gap-3\">\n                  <button\n                    onClick={() => setCode(selectedPuzzle.starterCode?.[language] || selectedPuzzle.starterCode?.javascript || '')}\n                    className=\"px-4 py-3 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-xl font-medium transition-colors\"\n                  >\n                    Reset\n                  </button>\n                  <button\n                    onClick={runCode}\n                    disabled={isSubmitting || !code.trim()}\n                    className=\"flex-1 py-3 bg-orange-600 hover:bg-orange-700 disabled:bg-gray-400 text-white rounded-xl font-semibold transition-colors flex items-center justify-center gap-2\"\n                  >\n                    {isSubmitting ? (\n                      <>\n                        <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n                        Running...\n                      </>\n                    ) : (\n                      <>\n                        <Play className=\"w-5 h-5\" />\n                        Run & Submit\n                      </>\n                    )}\n                  </button>\n                </div>\n              )}\n\n              {/* Success Actions */}\n              {gameState === 'result' && (\n                <div className=\"space-y-4\">\n                  <div className=\"p-6 bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl border border-green-200 dark:border-green-800 text-center\">\n                    <Trophy className=\"w-12 h-12 text-amber-500 mx-auto mb-3\" />\n                    <h3 className=\"text-xl font-bold text-green-700 dark:text-green-300 mb-2\">\n                      Puzzle Solved! ðŸŽ‰\n                    </h3>\n                    <div className=\"flex items-center justify-center gap-2 mb-4\">\n                      <Zap className=\"w-5 h-5 text-purple-500\" />\n                      <span className=\"text-lg font-semibold text-purple-600\">+{xpEarned} XP</span>\n                    </div>\n                  </div>\n                  \n                  <div className=\"flex gap-3\">\n                    <button\n                      onClick={() => {\n                        setGameState('selecting');\n                        setSelectedPuzzle(null);\n                        setXpEarned(0);\n                      }}\n                      className=\"flex-1 py-3 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-900 dark:text-white rounded-xl font-medium transition-colors\"\n                    >\n                      More Puzzles\n                    </button>\n                    <Link\n                      href=\"/more/games\"\n                      className=\"flex-1 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-xl font-medium transition-colors text-center\"\n                    >\n                      Back to Games\n                    </Link>\n                  </div>\n                </div>\n              )}\n            </motion.div>\n          )}\n        </div>\n      </div>\n    </ProtectedRoute>\n  );\n}\n"],"names":[],"mappings":"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"}
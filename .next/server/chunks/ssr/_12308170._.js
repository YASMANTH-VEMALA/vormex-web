module.exports=[90925,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(3512);function f({children:a}){let{isAuthenticated:f,loading:g}=(0,e.useAuth)(),h=(0,d.useRouter)();return(c.default.useEffect(()=>{g||f||h.push("/login")},[f,g,h]),g)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-neutral-950",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600 dark:text-neutral-400",children:"Loading..."})]})}):f?(0,b.jsx)(b.Fragment,{children:a}):null}a.s(["ProtectedRoute",()=>f])},13749,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],13749)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],41710)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},33441,a=>{"use strict";let b=(0,a.i(70106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],33441)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},92759,a=>{"use strict";let b=(0,a.i(70106).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],92759)},70580,a=>{"use strict";var b=a.i(92415);async function c(a,c){return b.default.post("/connections/request",{receiverId:a,message:c})}async function d(a){return b.default.post(`/connections/${a}/accept`)}async function e(a){return b.default.post(`/connections/${a}/reject`)}async function f(a){return b.default.delete(`/connections/${a}/cancel`)}async function g(a){return b.default.delete(`/connections/${a}`)}async function h(a=1,c=20){return b.default.get(`/connections?page=${a}&limit=${c}`)}async function i(a,c=1,d=20){return b.default.get(`/connections/user/${a}?page=${c}&limit=${d}`)}async function j(a=1,c=20){let d=await b.default.get(`/connections/pending?page=${a}&limit=${c}`);return{connections:d.connections||d.requests||[],total:d.total||0,page:d.page||a,totalPages:d.totalPages||1,hasMore:d.hasMore||!1}}async function k(a=1,c=20){let d=await b.default.get(`/connections/sent?page=${a}&limit=${c}`);return{connections:d.connections||d.requests||[],total:d.total||0,page:d.page||a,totalPages:d.totalPages||1,hasMore:d.hasMore||!1}}async function l(a){return b.default.get(`/connections/status/${a}`)}a.s(["acceptConnectionRequest",()=>d,"cancelConnectionRequest",()=>f,"getConnectionStatus",()=>l,"getConnections",()=>h,"getPendingRequests",()=>j,"getSentRequests",()=>k,"getUserConnections",()=>i,"rejectConnectionRequest",()=>e,"removeConnection",()=>g,"sendConnectionRequest",()=>c])},63588,a=>{"use strict";let b=(0,a.i(70106).default)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);a.s(["MessageSquare",()=>b],63588)},88363,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(46271),g=a.i(62036),h=a.i(13749),i=a.i(60246),j=a.i(17371);let k=(0,a.i(70106).default)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var l=a.i(41710),m=a.i(92759),n=a.i(33441),o=a.i(33508),p=a.i(96221),q=a.i(87532),r=a.i(63588),s=a.i(90925),t=a.i(70580),u=a.i(68114);function v(){let a=(0,d.useRouter)(),[v,w]=(0,c.useState)("pending"),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)(!0),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)(0),L=(0,c.useCallback)(async()=>{E(!0);try{if("connections"===v){let a=await (0,t.getConnections)(1,50);y(a.connections||[])}else if("pending"===v){let a=await (0,t.getPendingRequests)(1,50);A(a.connections||[]),K(a.total||0)}else if("sent"===v){let a=await (0,t.getSentRequests)(1,50);C(a.connections||[])}}catch(a){console.error("Failed to fetch data:",a),"connections"===v?y([]):"pending"===v?A([]):"sent"===v&&C([])}finally{E(!1)}},[v]);(0,c.useEffect)(()=>{(async()=>{try{let a=await (0,t.getPendingRequests)(1,1);K(a.total)}catch(a){console.error("Failed to fetch pending count:",a)}})()},[]),(0,c.useEffect)(()=>{L()},[L]);let M=async a=>{G(a);try{await (0,t.acceptConnectionRequest)(a),A(b=>b.filter(b=>b.id!==a)),K(a=>Math.max(0,a-1))}catch(a){console.error("Failed to accept request:",a)}finally{G(null)}},N=async a=>{G(a);try{await (0,t.rejectConnectionRequest)(a),A(b=>b.filter(b=>b.id!==a)),K(a=>Math.max(0,a-1))}catch(a){console.error("Failed to reject request:",a)}finally{G(null)}},O=async a=>{G(a);try{await (0,t.cancelConnectionRequest)(a),C(b=>b.filter(b=>b.id!==a))}catch(a){console.error("Failed to cancel request:",a)}finally{G(null)}},P=async a=>{if(confirm("Are you sure you want to remove this connection?")){G(a);try{await (0,t.removeConnection)(a),y(b=>b.filter(b=>b.id!==a))}catch(a){console.error("Failed to remove connection:",a)}finally{G(null)}}},Q=x.filter(a=>a.user.name.toLowerCase().includes(H.toLowerCase())||a.user.username.toLowerCase().includes(H.toLowerCase())),R=[{id:"pending",label:"Requests",icon:j.UserPlus,count:J},{id:"connections",label:"Connections",icon:i.Users},{id:"sent",label:"Sent",icon:m.Send}],S=(a,c)=>{let d=F===a.id,g=`/profile/${a.user.id}`;return(0,b.jsx)(f.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white dark:bg-neutral-900 rounded-xl p-4 border border-gray-200 dark:border-neutral-800",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(e.default,{href:g,className:"cursor-pointer",children:(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center overflow-hidden flex-shrink-0 hover:opacity-80 transition-opacity",children:a.user.profileImage?(0,b.jsx)("img",{src:a.user.profileImage,alt:a.user.name,className:"w-full h-full object-cover"}):(0,b.jsx)("span",{className:"text-white font-bold text-lg",children:a.user.name?.charAt(0)?.toUpperCase()||"?"})})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)(e.default,{href:g,className:"cursor-pointer",children:(0,b.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors truncate",children:a.user.name})}),(0,b.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:["@",a.user.username||"user"]}),a.user.headline&&(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 line-clamp-1",children:a.user.headline}),a.message&&"pending"===c&&(0,b.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-2 italic bg-gray-50 dark:bg-neutral-800 p-2 rounded-lg",children:['"',a.message,'"']}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:[(0,b.jsx)(l.Clock,{className:"w-3 h-3 inline mr-1"}),new Date(a.createdAt).toLocaleDateString()]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:["pending"===c&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>M(a.id),disabled:d,className:"p-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white rounded-full transition-colors",title:"Accept",children:d?(0,b.jsx)(p.Loader2,{className:"w-5 h-5 animate-spin"}):(0,b.jsx)(n.Check,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>N(a.id),disabled:d,className:"p-2 bg-gray-200 hover:bg-gray-300 dark:bg-neutral-700 dark:hover:bg-neutral-600 disabled:opacity-50 text-gray-700 dark:text-gray-300 rounded-full transition-colors",title:"Decline",children:(0,b.jsx)(o.X,{className:"w-5 h-5"})})]}),"sent"===c&&(0,b.jsx)("button",{onClick:()=>O(a.id),disabled:d,className:"px-3 py-1.5 text-sm text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400 border border-gray-300 dark:border-neutral-600 rounded-lg transition-colors disabled:opacity-50",children:d?(0,b.jsx)(p.Loader2,{className:"w-4 h-4 animate-spin"}):"Cancel"}),"connection"===c&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.default,{href:`/messages?userId=${a.user.id}`,className:"p-2 bg-blue-100 hover:bg-blue-200 dark:bg-blue-900/30 dark:hover:bg-blue-900/50 text-blue-600 dark:text-blue-400 rounded-full transition-colors",title:"Message",children:(0,b.jsx)(r.MessageSquare,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>P(a.id),disabled:d,className:"p-2 text-gray-400 hover:text-red-500 dark:hover:text-red-400 transition-colors disabled:opacity-50",title:"Remove connection",children:d?(0,b.jsx)(p.Loader2,{className:"w-5 h-5 animate-spin"}):(0,b.jsx)(k,{className:"w-5 h-5"})})]})]})]})},a.id)},T=a=>{let c={pending:{icon:j.UserPlus,title:"No pending requests",description:"When someone sends you a connection request, it will appear here."},connections:{icon:i.Users,title:"No connections yet",description:"Start connecting with other developers to grow your network!"},sent:{icon:m.Send,title:"No sent requests",description:"Connection requests you send will appear here."}}[a],d=c.icon;return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-neutral-800 flex items-center justify-center mb-4",children:(0,b.jsx)(d,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:c.title}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-xs",children:c.description}),"connections"===a&&(0,b.jsx)(e.default,{href:"/find-people",className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-lg transition-colors",children:"Find People"})]})};return(0,b.jsx)(s.ProtectedRoute,{children:(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-950",children:[(0,b.jsx)("div",{className:"bg-white dark:bg-neutral-900 border-b border-gray-200 dark:border-neutral-800 sticky top-0 z-10",children:(0,b.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>a.push("/more"),className:"p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded-full transition-colors",children:(0,b.jsx)(h.ChevronLeft,{className:"w-5 h-5 text-gray-600 dark:text-neutral-400"})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:(0,b.jsx)(i.Users,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,b.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Connections"})]})]})})}),(0,b.jsx)("div",{className:"bg-white dark:bg-neutral-900 border-b border-gray-200 dark:border-neutral-800",children:(0,b.jsx)("div",{className:"max-w-2xl mx-auto px-4",children:(0,b.jsx)("div",{className:"flex",children:R.map(a=>{let c=a.icon,d=v===a.id;return(0,b.jsxs)("button",{onClick:()=>w(a.id),className:(0,u.cn)("flex-1 flex items-center justify-center gap-2 py-3 text-sm font-medium border-b-2 transition-colors",d?"border-blue-600 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:[(0,b.jsx)(c,{className:"w-4 h-4"}),a.label,void 0!==a.count&&a.count>0&&(0,b.jsx)("span",{className:"px-1.5 py-0.5 text-xs bg-blue-600 text-white rounded-full",children:a.count})]},a.id)})})})}),"connections"===v&&(0,b.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(q.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search connections...",value:H,onChange:a=>I(a.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-100 dark:bg-neutral-800 border border-transparent focus:border-blue-500 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 outline-none transition-colors"})]})}),(0,b.jsx)("div",{className:"max-w-2xl mx-auto px-4 py-4",children:D?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(p.Loader2,{className:"w-8 h-8 animate-spin text-blue-600"})}):(0,b.jsx)(g.AnimatePresence,{mode:"wait",children:(0,b.jsxs)(f.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-3",children:["pending"===v&&((z?.length||0)>0?z.map(a=>S(a,"pending")):T("pending")),"connections"===v&&((Q?.length||0)>0?Q.map(a=>S(a,"connection")):H?(0,b.jsx)("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No connections match your search"}):T("connections")),"sent"===v&&((B?.length||0)>0?B.map(a=>S(a,"sent")):T("sent"))]},v)})})]})})}a.s(["default",()=>v],88363)}];

//# sourceMappingURL=_12308170._.js.map
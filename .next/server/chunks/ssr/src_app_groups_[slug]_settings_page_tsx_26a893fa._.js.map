{"version":3,"sources":["../../../../src/app/groups/%5Bslug%5D/settings/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, use } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { ProtectedRoute } from '@/components/auth/ProtectedRoute';\nimport { GroupImageUploadModal } from '@/components/groups';\nimport { \n  getGroup, \n  updateGroup,\n  getGroupMembers,\n  updateMemberRole,\n  removeMember,\n  deleteGroup,\n  getJoinRequests,\n  handleJoinRequest,\n  getGroupInvites,\n  inviteToGroup,\n  cancelInvite,\n  Group, \n  GroupMember,\n  GroupJoinRequest,\n  GroupInvite\n} from '@/lib/api/groups';\nimport { searchUsers, SearchUser } from '@/lib/api/people';\n\ninterface GroupSettingsPageProps {\n  params: Promise<{ slug: string }>;\n}\n\ntype SettingsTab = 'general' | 'members' | 'requests' | 'invites' | 'danger';\n\nexport default function GroupSettingsPage({ params }: GroupSettingsPageProps) {\n  const resolvedParams = use(params);\n  const router = useRouter();\n  const [group, setGroup] = useState<Group | null>(null);\n  const [members, setMembers] = useState<GroupMember[]>([]);\n  const [pendingRequests, setPendingRequests] = useState<GroupJoinRequest[]>([]);\n  const [pendingInvites, setPendingInvites] = useState<GroupInvite[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [successMessage, setSuccessMessage] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState<SettingsTab>('general');\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [deleteConfirmText, setDeleteConfirmText] = useState('');\n  const [deleting, setDeleting] = useState(false);\n  const [processingRequest, setProcessingRequest] = useState<string | null>(null);\n  \n  // Invite state\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState<SearchUser[]>([]);\n  const [searching, setSearching] = useState(false);\n  const [inviting, setInviting] = useState<string | null>(null);\n  \n  // Image upload modal state\n  const [showIconModal, setShowIconModal] = useState(false);\n  const [showCoverModal, setShowCoverModal] = useState(false);\n  \n  // Form state\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    rules: '',\n    category: '',\n    privacy: 'PUBLIC' as 'PUBLIC' | 'PRIVATE' | 'SECRET',\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const [groupData, membersData] = await Promise.all([\n          getGroup(resolvedParams.slug),\n          getGroupMembers(resolvedParams.slug)\n        ]);\n        \n        // Check if user is admin/owner\n        const userRole = groupData.memberRole || groupData.userRole;\n        if (userRole !== 'OWNER' && userRole !== 'ADMIN') {\n          router.push(`/groups/${resolvedParams.slug}`);\n          return;\n        }\n        \n        setGroup(groupData);\n        setMembers(membersData.members || []);\n        setFormData({\n          name: groupData.name,\n          description: groupData.description || '',\n          rules: Array.isArray(groupData.rules) ? groupData.rules.join('\\n') : (groupData.rules || ''),\n          category: groupData.category || '',\n          privacy: groupData.privacy,\n        });\n\n        // Fetch pending join requests for private groups\n        if (groupData.privacy === 'PRIVATE') {\n          try {\n            const requests = await getJoinRequests(groupData.id, 'PENDING');\n            setPendingRequests(requests);\n          } catch {\n            // Silently fail\n          }\n        }\n\n        // Fetch pending invites for secret groups\n        if (groupData.privacy === 'SECRET') {\n          try {\n            const { invites } = await getGroupInvites(groupData.id, 'PENDING');\n            setPendingInvites(invites);\n          } catch {\n            // Silently fail\n          }\n        }\n      } catch (err: any) {\n        setError(err.response?.data?.error || 'Failed to load group settings');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [resolvedParams.slug, router]);\n\n  // Search users for invite\n  useEffect(() => {\n    if (!searchQuery.trim() || searchQuery.length < 2) {\n      setSearchResults([]);\n      return;\n    }\n\n    const searchTimeout = setTimeout(async () => {\n      try {\n        setSearching(true);\n        const results = await searchUsers(searchQuery);\n        // Filter out existing members and pending invites\n        const memberIds = new Set(members.map(m => m.user.id));\n        const inviteIds = new Set(pendingInvites.map(i => i.invitedUserId));\n        const filtered = results.filter(\n          u => !memberIds.has(u.id) && !inviteIds.has(u.id)\n        );\n        setSearchResults(filtered);\n      } catch {\n        setSearchResults([]);\n      } finally {\n        setSearching(false);\n      }\n    }, 300);\n\n    return () => clearTimeout(searchTimeout);\n  }, [searchQuery, members, pendingInvites]);\n\n  const handleSaveGeneral = async () => {\n    if (!group) return;\n    \n    try {\n      setSaving(true);\n      setError(null);\n      // Convert rules string back to array\n      const rulesArray = formData.rules.split('\\n').map(r => r.trim()).filter(r => r);\n      await updateGroup(group.id, {\n        ...formData,\n        rules: rulesArray,\n      });\n      setSuccessMessage('Settings saved successfully!');\n      setTimeout(() => setSuccessMessage(null), 3000);\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to save settings');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleIconUpdated = (imageUrl: string) => {\n    if (group) {\n      setGroup({ ...group, iconImage: imageUrl });\n      setSuccessMessage('Group icon updated successfully!');\n      setTimeout(() => setSuccessMessage(null), 3000);\n    }\n  };\n\n  const handleCoverUpdated = (imageUrl: string) => {\n    if (group) {\n      setGroup({ ...group, coverImage: imageUrl });\n      setSuccessMessage('Group cover updated successfully!');\n      setTimeout(() => setSuccessMessage(null), 3000);\n    }\n  };\n\n  const handleUpdateRole = async (memberId: string, newRole: 'ADMIN' | 'MODERATOR' | 'MEMBER') => {\n    if (!group) return;\n    \n    try {\n      await updateMemberRole(group.id, memberId, newRole);\n      setMembers(prev => \n        prev.map(m => \n          m.id === memberId ? { ...m, role: newRole } : m\n        )\n      );\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to update role');\n    }\n  };\n\n  const handleRemoveMember = async (memberId: string) => {\n    if (!group || !confirm('Are you sure you want to remove this member?')) return;\n    \n    try {\n      await removeMember(group.id, memberId);\n      setMembers(prev => prev.filter(m => m.id !== memberId));\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to remove member');\n    }\n  };\n\n  const handleRequest = async (requestId: string, action: 'approve' | 'reject') => {\n    if (!group) return;\n    \n    try {\n      setProcessingRequest(requestId);\n      setError(null);\n      await handleJoinRequest(group.id, requestId, action);\n      \n      // Remove the request from the list\n      setPendingRequests(prev => prev.filter(r => r.id !== requestId));\n      \n      if (action === 'approve') {\n        setSuccessMessage('Member approved successfully!');\n        // Refresh members list\n        const membersData = await getGroupMembers(group.id);\n        setMembers(membersData.members || []);\n      } else {\n        setSuccessMessage('Request rejected');\n      }\n      setTimeout(() => setSuccessMessage(null), 3000);\n    } catch (err: any) {\n      setError(err.response?.data?.error || `Failed to ${action} request`);\n    } finally {\n      setProcessingRequest(null);\n    }\n  };\n\n  const handleInviteUser = async (userId: string) => {\n    if (!group) return;\n    \n    try {\n      setInviting(userId);\n      setError(null);\n      await inviteToGroup(group.id, userId);\n      \n      // Refresh invites list\n      const { invites } = await getGroupInvites(group.id, 'PENDING');\n      setPendingInvites(invites);\n      \n      // Clear search\n      setSearchQuery('');\n      setSearchResults([]);\n      \n      setSuccessMessage('Invite sent successfully!');\n      setTimeout(() => setSuccessMessage(null), 3000);\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to send invite');\n    } finally {\n      setInviting(null);\n    }\n  };\n\n  const handleCancelInvite = async (inviteId: string) => {\n    if (!group) return;\n    \n    try {\n      setProcessingRequest(inviteId);\n      await cancelInvite(group.id, inviteId);\n      setPendingInvites(prev => prev.filter(i => i.id !== inviteId));\n      setSuccessMessage('Invite cancelled');\n      setTimeout(() => setSuccessMessage(null), 3000);\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to cancel invite');\n    } finally {\n      setProcessingRequest(null);\n    }\n  };\n\n  const handleDeleteGroup = async () => {\n    if (!group || deleteConfirmText !== group.name) return;\n    \n    try {\n      setDeleting(true);\n      await deleteGroup(group.id);\n      router.push('/groups');\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to delete group');\n      setDeleting(false);\n    }\n  };\n\n  const tabs: { id: SettingsTab; label: string; icon: React.ReactNode; badge?: number; hidden?: boolean }[] = [\n    {\n      id: 'general',\n      label: 'General',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n        </svg>\n      )\n    },\n    {\n      id: 'members',\n      label: 'Members',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" />\n        </svg>\n      )\n    },\n    {\n      id: 'requests',\n      label: 'Requests',\n      badge: pendingRequests.length,\n      hidden: group?.privacy !== 'PRIVATE', // Only for PRIVATE groups\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\" />\n        </svg>\n      )\n    },\n    {\n      id: 'invites',\n      label: 'Invites',\n      badge: pendingInvites.length,\n      hidden: group?.privacy !== 'SECRET', // Only for SECRET groups\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z\" />\n        </svg>\n      )\n    },\n    {\n      id: 'danger',\n      label: 'Danger Zone',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n        </svg>\n      )\n    },\n  ];\n\n  if (loading) {\n    return (\n      <ProtectedRoute>\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\n          <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600\"></div>\n        </div>\n      </ProtectedRoute>\n    );\n  }\n\n  if (!group) {\n    return (\n      <ProtectedRoute>\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\n          <div className=\"text-center\">\n            <p className=\"text-red-500 mb-4\">Group not found or you don&apos;t have permission</p>\n            <Link href=\"/groups\" className=\"text-blue-600 hover:underline\">\n              Go back to groups\n            </Link>\n          </div>\n        </div>\n      </ProtectedRoute>\n    );\n  }\n\n  return (\n    <ProtectedRoute>\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24\">\n        {/* Header */}\n        <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\">\n          <div className=\"max-w-4xl mx-auto px-4 py-4\">\n            <div className=\"flex items-center gap-4\">\n              <Link\n                href={`/groups/${group.slug}`}\n                className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                </svg>\n              </Link>\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                  Group Settings\n                </h1>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  {group.name}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"max-w-4xl mx-auto px-4 py-6\">\n          {/* Messages */}\n          <AnimatePresence>\n            {error && (\n              <motion.div\n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -10 }}\n                className=\"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl\"\n              >\n                {error}\n              </motion.div>\n            )}\n            {successMessage && (\n              <motion.div\n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -10 }}\n                className=\"mb-4 p-4 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-xl\"\n              >\n                {successMessage}\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          <div className=\"flex flex-col md:flex-row gap-6\">\n            {/* Sidebar Tabs */}\n            <div className=\"md:w-64 shrink-0\">\n              <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden\">\n                {tabs.filter(tab => !tab.hidden).map(tab => (\n                  <button\n                    key={tab.id}\n                    onClick={() => setActiveTab(tab.id)}\n                    className={`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors ${\n                      activeTab === tab.id\n                        ? 'bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400'\n                        : 'text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\n                    } ${tab.id === 'danger' ? 'text-red-600 dark:text-red-400' : ''}`}\n                  >\n                    {tab.icon}\n                    <span className=\"font-medium flex-1\">{tab.label}</span>\n                    {tab.badge !== undefined && tab.badge > 0 && (\n                      <span className=\"px-2 py-0.5 text-xs font-medium bg-blue-600 text-white rounded-full\">\n                        {tab.badge}\n                      </span>\n                    )}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Content */}\n            <div className=\"flex-1\">\n              {/* General Settings */}\n              {activeTab === 'general' && (\n                <motion.div\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6\"\n                >\n                  <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-6\">\n                    General Settings\n                  </h2>\n\n                  <div className=\"space-y-6\">\n                    {/* Group Images */}\n                    <div className=\"space-y-4\">\n                      <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                        Group Images\n                      </h3>\n                      \n                      {/* Cover Image */}\n                      <div>\n                        <label className=\"block text-sm text-gray-600 dark:text-gray-400 mb-2\">\n                          Cover Image\n                        </label>\n                        <div className=\"relative\">\n                          <div className=\"w-full h-32 rounded-xl overflow-hidden bg-gradient-to-r from-blue-500 to-purple-500\">\n                            {group.coverImage && (\n                              <Image\n                                src={group.coverImage}\n                                alt=\"Group cover\"\n                                fill\n                                className=\"object-cover\"\n                              />\n                            )}\n                          </div>\n                          <button\n                            onClick={() => setShowCoverModal(true)}\n                            className=\"absolute bottom-2 right-2 px-3 py-1.5 bg-white/90 dark:bg-gray-800/90 text-sm font-medium rounded-lg hover:bg-white dark:hover:bg-gray-800 transition-colors\"\n                          >\n                            <svg className=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\" />\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\" />\n                            </svg>\n                            Change Cover\n                          </button>\n                        </div>\n                        <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n                          Click to upload and crop. Recommended: 1200x400 pixels\n                        </p>\n                      </div>\n\n                      {/* Icon Image */}\n                      <div>\n                        <label className=\"block text-sm text-gray-600 dark:text-gray-400 mb-2\">\n                          Group Icon\n                        </label>\n                        <div className=\"flex items-center gap-4\">\n                          <div className=\"relative w-20 h-20 rounded-xl overflow-hidden bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center\">\n                            {group.iconImage ? (\n                              <Image\n                                src={group.iconImage}\n                                alt=\"Group icon\"\n                                fill\n                                className=\"object-cover\"\n                              />\n                            ) : (\n                              <span className=\"text-2xl font-bold text-white\">\n                                {group.name.charAt(0).toUpperCase()}\n                              </span>\n                            )}\n                          </div>\n                          <div>\n                            <button\n                              onClick={() => setShowIconModal(true)}\n                              className=\"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-sm font-medium rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\n                            >\n                              Change Icon\n                            </button>\n                            <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n                              Click to upload and crop. Square image recommended\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <hr className=\"border-gray-200 dark:border-gray-700\" />\n\n                    {/* Name */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Group Name\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={formData.name}\n                        onChange={e => setFormData({ ...formData, name: e.target.value })}\n                        className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                        placeholder=\"Enter group name\"\n                      />\n                    </div>\n\n                    {/* Description */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Description\n                      </label>\n                      <textarea\n                        value={formData.description}\n                        onChange={e => setFormData({ ...formData, description: e.target.value })}\n                        rows={4}\n                        className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n                        placeholder=\"What is this group about?\"\n                      />\n                    </div>\n\n                    {/* Rules */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Group Rules\n                      </label>\n                      <textarea\n                        value={formData.rules}\n                        onChange={e => setFormData({ ...formData, rules: e.target.value })}\n                        rows={4}\n                        className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n                        placeholder=\"Enter group rules (one per line)\"\n                      />\n                      <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n                        Separate each rule with a new line\n                      </p>\n                    </div>\n\n                    {/* Category */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Category\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={formData.category}\n                        onChange={e => setFormData({ ...formData, category: e.target.value })}\n                        className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                        placeholder=\"e.g., Technology, Sports, Art\"\n                      />\n                    </div>\n\n                    {/* Privacy */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Privacy\n                      </label>\n                      <div className=\"space-y-3\">\n                        {[\n                          { value: 'PUBLIC', label: 'Public', desc: 'Anyone can find and join' },\n                          { value: 'PRIVATE', label: 'Private', desc: 'Anyone can find, but must request to join' },\n                          { value: 'SECRET', label: 'Secret', desc: 'Only members can find and invite others' },\n                        ].map(option => (\n                          <label\n                            key={option.value}\n                            className={`flex items-start gap-3 p-4 rounded-xl border-2 cursor-pointer transition-colors ${\n                              formData.privacy === option.value\n                                ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                                : 'border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500'\n                            }`}\n                          >\n                            <input\n                              type=\"radio\"\n                              name=\"privacy\"\n                              value={option.value}\n                              checked={formData.privacy === option.value}\n                              onChange={e => setFormData({ ...formData, privacy: e.target.value as any })}\n                              className=\"mt-1\"\n                            />\n                            <div>\n                              <p className=\"font-medium text-gray-900 dark:text-white\">\n                                {option.label}\n                              </p>\n                              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                                {option.desc}\n                              </p>\n                            </div>\n                          </label>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Save Button */}\n                    <div className=\"pt-4\">\n                      <button\n                        onClick={handleSaveGeneral}\n                        disabled={saving}\n                        className=\"w-full px-6 py-3 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        {saving ? 'Saving...' : 'Save Changes'}\n                      </button>\n                    </div>\n                  </div>\n                </motion.div>\n              )}\n\n              {/* Members Management */}\n              {activeTab === 'members' && (\n                <motion.div\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6\"\n                >\n                  <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-6\">\n                    Manage Members\n                  </h2>\n\n                  <div className=\"space-y-4\">\n                    {members.map(member => (\n                      <div\n                        key={member.id}\n                        className=\"flex items-center justify-between p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50\"\n                      >\n                        <div className=\"flex items-center gap-3\">\n                          <div className=\"relative w-10 h-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600\">\n                            {(member.user.profileImage || member.user.avatar) ? (\n                              <Image\n                                src={member.user.profileImage || member.user.avatar || ''}\n                                alt={member.user.name}\n                                fill\n                                className=\"object-cover\"\n                              />\n                            ) : (\n                              <div className=\"w-full h-full flex items-center justify-center text-gray-500 dark:text-gray-400 font-medium\">\n                                {member.user.name.charAt(0).toUpperCase()}\n                              </div>\n                            )}\n                          </div>\n                          <div>\n                            <p className=\"font-medium text-gray-900 dark:text-white\">\n                              {member.user.name}\n                            </p>\n                            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                              @{member.user.username}\n                            </p>\n                          </div>\n                          <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                            member.role === 'OWNER'\n                              ? 'bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400'\n                              : member.role === 'ADMIN'\n                              ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400'\n                              : member.role === 'MODERATOR'\n                              ? 'bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400'\n                              : 'bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-400'\n                          }`}>\n                            {member.role}\n                          </span>\n                        </div>\n\n                        {member.role !== 'OWNER' && (group.memberRole === 'OWNER' || group.userRole === 'OWNER') && (\n                          <div className=\"flex items-center gap-2\">\n                            <select\n                              value={member.role}\n                              onChange={e => handleUpdateRole(member.id, e.target.value as any)}\n                              className=\"px-3 py-1.5 text-sm rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n                            >\n                              <option value=\"ADMIN\">Admin</option>\n                              <option value=\"MODERATOR\">Moderator</option>\n                              <option value=\"MEMBER\">Member</option>\n                            </select>\n                            <button\n                              onClick={() => handleRemoveMember(member.id)}\n                              className=\"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors\"\n                              title=\"Remove member\"\n                            >\n                              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                              </svg>\n                            </button>\n                          </div>\n                        )}\n                      </div>\n                    ))}\n\n                    {members.length === 0 && (\n                      <div className=\"text-center py-8\">\n                        <p className=\"text-gray-500 dark:text-gray-400\">No members found</p>\n                      </div>\n                    )}\n                  </div>\n                </motion.div>\n              )}\n\n              {/* Join Requests (for Private/Secret groups) */}\n              {activeTab === 'requests' && (group.privacy === 'PRIVATE' || group.privacy === 'SECRET') && (\n                <motion.div\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6\"\n                >\n                  <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-6\">\n                    Pending Requests\n                  </h2>\n\n                  <div className=\"space-y-4\">\n                    {pendingRequests.map(request => (\n                      <div\n                        key={request.id}\n                        className=\"flex items-center justify-between p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50\"\n                      >\n                        <div className=\"flex items-center gap-3\">\n                          <div className=\"relative w-12 h-12 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600\">\n                            {request.user.profileImage ? (\n                              <Image\n                                src={request.user.profileImage}\n                                alt={request.user.name}\n                                fill\n                                className=\"object-cover\"\n                              />\n                            ) : (\n                              <div className=\"w-full h-full flex items-center justify-center text-gray-500 dark:text-gray-400 font-medium text-lg\">\n                                {request.user.name.charAt(0).toUpperCase()}\n                              </div>\n                            )}\n                          </div>\n                          <div>\n                            <p className=\"font-medium text-gray-900 dark:text-white\">\n                              {request.user.name}\n                            </p>\n                            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                              @{request.user.username}\n                            </p>\n                            {request.message && (\n                              <p className=\"text-sm text-gray-600 dark:text-gray-300 mt-1 italic\">\n                                &ldquo;{request.message}&rdquo;\n                              </p>\n                            )}\n                            <p className=\"text-xs text-gray-400 mt-1\">\n                              Requested {new Date(request.createdAt).toLocaleDateString()}\n                            </p>\n                          </div>\n                        </div>\n\n                        <div className=\"flex items-center gap-2\">\n                          <button\n                            onClick={() => handleRequest(request.id, 'approve')}\n                            disabled={processingRequest === request.id}\n                            className=\"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center gap-2\"\n                          >\n                            {processingRequest === request.id ? (\n                              <svg className=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                              </svg>\n                            ) : (\n                              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                              </svg>\n                            )}\n                            Approve\n                          </button>\n                          <button\n                            onClick={() => handleRequest(request.id, 'reject')}\n                            disabled={processingRequest === request.id}\n                            className=\"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 text-sm font-medium rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors disabled:opacity-50\"\n                          >\n                            Reject\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n\n                    {pendingRequests.length === 0 && (\n                      <div className=\"text-center py-12\">\n                        <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center\">\n                          <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\" />\n                          </svg>\n                        </div>\n                        <p className=\"text-gray-500 dark:text-gray-400\">No pending requests</p>\n                        <p className=\"text-sm text-gray-400 dark:text-gray-500 mt-1\">\n                          When someone requests to join, they&apos;ll appear here\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                </motion.div>\n              )}\n\n              {/* Invites (for Secret groups) */}\n              {activeTab === 'invites' && group.privacy === 'SECRET' && (\n                <motion.div\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6\"\n                >\n                  <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-6\">\n                    Invite Members\n                  </h2>\n\n                  {/* Search to invite */}\n                  <div className=\"mb-6\">\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                      Search users to invite\n                    </label>\n                    <div className=\"relative\">\n                      <input\n                        type=\"text\"\n                        value={searchQuery}\n                        onChange={e => setSearchQuery(e.target.value)}\n                        placeholder=\"Search by name or username...\"\n                        className=\"w-full px-4 py-3 pl-10 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                      />\n                      <svg className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\n                      </svg>\n                      {searching && (\n                        <svg className=\"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                        </svg>\n                      )}\n                    </div>\n\n                    {/* Search results */}\n                    {searchResults.length > 0 && (\n                      <div className=\"mt-2 border border-gray-200 dark:border-gray-600 rounded-xl overflow-hidden\">\n                        {searchResults.map(user => (\n                          <div\n                            key={user.id}\n                            className=\"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                          >\n                            <div className=\"flex items-center gap-3\">\n                              <div className=\"relative w-10 h-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600\">\n                                {user.profileImage ? (\n                                  <Image\n                                    src={user.profileImage}\n                                    alt={user.name}\n                                    fill\n                                    className=\"object-cover\"\n                                  />\n                                ) : (\n                                  <div className=\"w-full h-full flex items-center justify-center text-gray-500 dark:text-gray-400 font-medium\">\n                                    {user.name.charAt(0).toUpperCase()}\n                                  </div>\n                                )}\n                              </div>\n                              <div>\n                                <p className=\"font-medium text-gray-900 dark:text-white text-sm\">\n                                  {user.name}\n                                </p>\n                                <p className=\"text-xs text-gray-500 dark:text-gray-400\">\n                                  @{user.username}\n                                </p>\n                              </div>\n                            </div>\n                            <button\n                              onClick={() => handleInviteUser(user.id)}\n                              disabled={inviting === user.id}\n                              className=\"px-3 py-1.5 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50\"\n                            >\n                              {inviting === user.id ? 'Sending...' : 'Invite'}\n                            </button>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Pending invites */}\n                  <div>\n                    <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-4\">\n                      Pending Invites ({pendingInvites.length})\n                    </h3>\n                    <div className=\"space-y-3\">\n                      {pendingInvites.map(invite => (\n                        <div\n                          key={invite.id}\n                          className=\"flex items-center justify-between p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50\"\n                        >\n                          <div className=\"flex items-center gap-3\">\n                            <div className=\"relative w-10 h-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600\">\n                              {invite.invitedUser.profileImage ? (\n                                <Image\n                                  src={invite.invitedUser.profileImage}\n                                  alt={invite.invitedUser.name}\n                                  fill\n                                  className=\"object-cover\"\n                                />\n                              ) : (\n                                <div className=\"w-full h-full flex items-center justify-center text-gray-500 dark:text-gray-400 font-medium\">\n                                  {invite.invitedUser.name.charAt(0).toUpperCase()}\n                                </div>\n                              )}\n                            </div>\n                            <div>\n                              <p className=\"font-medium text-gray-900 dark:text-white\">\n                                {invite.invitedUser.name}\n                              </p>\n                              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                                @{invite.invitedUser.username}\n                              </p>\n                              <p className=\"text-xs text-gray-400 mt-1\">\n                                Invited {new Date(invite.createdAt).toLocaleDateString()}\n                              </p>\n                            </div>\n                          </div>\n                          <button\n                            onClick={() => handleCancelInvite(invite.id)}\n                            disabled={processingRequest === invite.id}\n                            className=\"px-3 py-1.5 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 text-sm font-medium rounded-lg transition-colors disabled:opacity-50\"\n                          >\n                            Cancel\n                          </button>\n                        </div>\n                      ))}\n\n                      {pendingInvites.length === 0 && (\n                        <div className=\"text-center py-8\">\n                          <p className=\"text-gray-500 dark:text-gray-400 text-sm\">\n                            No pending invites. Search for users above to invite them.\n                          </p>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </motion.div>\n              )}\n\n              {/* Danger Zone */}\n              {activeTab === 'danger' && (group.memberRole === 'OWNER' || group.userRole === 'OWNER') && (\n                <motion.div\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border-2 border-red-200 dark:border-red-800\"\n                >\n                  <h2 className=\"text-lg font-semibold text-red-600 dark:text-red-400 mb-6\">\n                    Danger Zone\n                  </h2>\n\n                  <div className=\"space-y-6\">\n                    <div className=\"p-4 bg-red-50 dark:bg-red-900/20 rounded-xl\">\n                      <h3 className=\"font-medium text-red-600 dark:text-red-400 mb-2\">\n                        Delete Group\n                      </h3>\n                      <p className=\"text-sm text-red-600/80 dark:text-red-400/80 mb-4\">\n                        Once you delete a group, there is no going back. All posts, messages, and members will be permanently deleted.\n                      </p>\n                      <button\n                        onClick={() => setShowDeleteModal(true)}\n                        className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\n                      >\n                        Delete Group\n                      </button>\n                    </div>\n                  </div>\n                </motion.div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Delete Confirmation Modal */}\n        <AnimatePresence>\n          {showDeleteModal && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\"\n              onClick={() => setShowDeleteModal(false)}\n            >\n              <motion.div\n                initial={{ scale: 0.9, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                exit={{ scale: 0.9, opacity: 0 }}\n                onClick={e => e.stopPropagation()}\n                className=\"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md\"\n              >\n                <div className=\"text-center mb-6\">\n                  <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center\">\n                    <svg className=\"w-8 h-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                    </svg>\n                  </div>\n                  <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-2\">\n                    Delete Group?\n                  </h3>\n                  <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n                    This action cannot be undone. Type <strong>{group.name}</strong> to confirm.\n                  </p>\n                  <input\n                    type=\"text\"\n                    value={deleteConfirmText}\n                    onChange={e => setDeleteConfirmText(e.target.value)}\n                    placeholder=\"Type group name to confirm\"\n                    className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent\"\n                  />\n                </div>\n\n                <div className=\"flex gap-3\">\n                  <button\n                    onClick={() => {\n                      setShowDeleteModal(false);\n                      setDeleteConfirmText('');\n                    }}\n                    className=\"flex-1 px-4 py-3 border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleDeleteGroup}\n                    disabled={deleteConfirmText !== group.name || deleting}\n                    className=\"flex-1 px-4 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {deleting ? 'Deleting...' : 'Delete Group'}\n                  </button>\n                </div>\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Image Upload Modals */}\n        <GroupImageUploadModal\n          isOpen={showIconModal}\n          onClose={() => setShowIconModal(false)}\n          groupId={group.id}\n          type=\"icon\"\n          currentImageUrl={group.iconImage}\n          onImageUpdated={handleIconUpdated}\n        />\n        <GroupImageUploadModal\n          isOpen={showCoverModal}\n          onClose={() => setShowCoverModal(false)}\n          groupId={group.id}\n          type=\"cover\"\n          currentImageUrl={group.coverImage}\n          onImageUpdated={handleCoverUpdated}\n        />\n      </div>\n    </ProtectedRoute>\n  );\n}\n"],"names":[],"mappings":"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"}
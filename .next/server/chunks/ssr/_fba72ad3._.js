module.exports=[210,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},90925,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(3512);function f({children:a}){let{isAuthenticated:f,loading:g}=(0,e.useAuth)(),h=(0,d.useRouter)();return(c.default.useEffect(()=>{g||f||h.push("/login")},[f,g,h]),g)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-neutral-950",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600 dark:text-neutral-400",children:"Loading..."})]})}):f?(0,b.jsx)(b.Fragment,{children:a}):null}a.s(["ProtectedRoute",()=>f])},13749,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],13749)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},67552,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);a.s(["ChevronUp",()=>b],67552)},53569,a=>{"use strict";let b=(0,a.i(70106).default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);a.s(["Share2",()=>b],53569)},44494,a=>{"use strict";let b=(0,a.i(70106).default)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);a.s(["Globe",()=>b],44494)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},5784,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],5784)},5151,a=>{"use strict";let b=(0,a.i(70106).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["Copy",()=>b],5151)},43108,a=>{"use strict";let b=(0,a.i(70106).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],43108)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},54074,a=>{"use strict";let b=(0,a.i(70106).default)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);a.s(["Code",()=>b],54074)},52495,a=>{"use strict";let b=(0,a.i(70106).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["ExternalLink",()=>b],52495)},13434,a=>{"use strict";var b=a.i(92415);async function c(a,d=20){let e={limit:d};return a&&(e.cursor=a),b.default.get("/posts/feed",{params:e})}async function d(a){return b.default.get(`/posts/${a}`)}async function e(a){return b.default.post("/posts",a)}async function f(a){return b.default.delete(`/posts/${a}`)}async function g(a,c){return b.default.put(`/posts/${a}`,c)}async function h(a){return b.default.post(`/posts/${a}/like`)}async function i(a,c){return b.default.post(`/posts/${a}/poll/vote`,{optionId:c})}async function j(a,c){return b.default.post(`/posts/${a}/share`,{userId:c})}async function k(a,c,d=1,e=20){let f={page:d,limit:e};return c&&(f.parentId=c),b.default.get(`/posts/${a}/comments`,{params:f})}async function l(a,c,d,e){return b.default.post(`/posts/${a}/comments`,{content:c,parentId:d,mentions:e})}async function m(a,c){return b.default.post(`/posts/${a}/comments/${c}/like`)}async function n(a){return(await b.default.get("/mentions/search",{params:{q:a}})).users??[]}async function o(a){let c=new FormData;return c.append("image",a),b.default.post("/upload/avatar",c,{headers:{"Content-Type":"multipart/form-data"}})}async function p(a){let c=new FormData;return c.append("image",a),b.default.post("/upload/banner",c,{headers:{"Content-Type":"multipart/form-data"}})}async function q(a){let c=new FormData;return c.append("image",a),b.default.post("/upload/certificate",c,{headers:{"Content-Type":"multipart/form-data"}})}async function r(a){let c=new FormData;return c.append("image",a),b.default.post("/upload/project",c,{headers:{"Content-Type":"multipart/form-data"}})}a.s(["createComment",()=>l,"createPost",()=>e,"deletePost",()=>f,"getComments",()=>k,"getFeed",()=>c,"getPost",()=>d,"searchUsersForMention",()=>n,"sharePostToUser",()=>j,"toggleCommentLike",()=>m,"toggleLike",()=>h,"updatePost",()=>g,"uploadAvatar",()=>o,"uploadBanner",()=>p,"uploadCertificate",()=>q,"uploadProjectImage",()=>r,"votePoll",()=>i])},38617,a=>{"use strict";let b=(0,a.i(70106).default)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);a.s(["Bookmark",()=>b],38617)},12439,52920,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);a.s(["Volume2",()=>c],12439);let d=(0,b.default)("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);a.s(["VolumeX",()=>d],52920)},8549,a=>{"use strict";let b=(0,a.i(70106).default)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);a.s(["Pause",()=>b],8549)},25015,a=>{"use strict";let b=(0,a.i(70106).default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);a.s(["Play",()=>b],25015)},96221,a=>{"use strict";let b=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},92759,a=>{"use strict";let b=(0,a.i(70106).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);a.s(["Send",()=>b],92759)},50522,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],50522)},97199,64754,46338,67329,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(33508),g=a.i(44494),h=a.i(60246),i=a.i(43108),j=a.i(5784),k=a.i(96221),l=a.i(70106);let m=(0,l.default)("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);a.s(["Bold",()=>m],64754);let n=(0,l.default)("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);a.s(["Italic",()=>n],46338);let o=(0,l.default)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);a.s(["List",()=>o],67329);var p=a.i(54074),q=a.i(65169),r=a.i(54347),s=a.i(99464),t=a.i(3512),u=a.i(13434);let v=[{value:"PUBLIC",label:"Anyone",icon:g.Globe},{value:"CONNECTIONS",label:"Connections only",icon:h.Users},{value:"PRIVATE",label:"Only me",icon:i.Lock}],w=[{name:"Red",value:"#ef4444"},{name:"Orange",value:"#f97316"},{name:"Yellow",value:"#eab308"},{name:"Green",value:"#22c55e"},{name:"Teal",value:"#14b8a6"},{name:"Blue",value:"#3b82f6"},{name:"Purple",value:"#a855f7"},{name:"Pink",value:"#ec4899"}];function x({isOpen:a,onClose:g,post:h,onPostUpdated:i}){let{user:l}=(0,t.useAuth)(),[x,y]=(0,c.useState)(h.content||""),[z,A]=(0,c.useState)(h.visibility),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(!1),P=(0,c.useRef)(null),Q=(0,c.useRef)(null);(0,c.useEffect)(()=>{let a=a=>{P.current&&!P.current.contains(a.target)&&O(!1)};return N&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[N]),(0,c.useEffect)(()=>{y(h.content||""),A(h.visibility)},[h]),(0,c.useEffect)(()=>{let a=setTimeout(async()=>{if(H.length>=2)try{let a=await (0,u.searchUsersForMention)(H);K(a),M(!0)}catch(a){console.error("Error searching mentions:",a)}else K([]),M(!1)},300);return()=>clearTimeout(a)},[H]);let R=a=>{let b,c,d=Q.current;if(!d)return;let e=d.selectionStart,f=d.selectionEnd,g=x.slice(e,f);g?(b=x.slice(0,e)+a+g+a+x.slice(f),c=f+2*a.length):(b=x.slice(0,e)+a+a+x.slice(f),c=e+a.length),y(b),setTimeout(()=>{d.focus(),d.setSelectionRange(c,c)},0)},S=async()=>{if(!D){G(null),E(!0);try{let a=await (0,u.updatePost)(h.id,{content:x,visibility:z});i?.(a),g()}catch(a){console.error("Update post error:",a),G(a.message||"Failed to update post")}finally{E(!1)}}},T=v.find(a=>a.value===z)||v[0],U=T.icon;return a?(0,b.jsx)(e.AnimatePresence,{children:a&&(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:g,children:(0,b.jsxs)(d.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:a=>a.stopPropagation(),className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl",style:{background:"#ecf0f3",boxShadow:"20px 20px 60px #c9ccd1, -20px -20px 60px #ffffff"},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",style:{borderColor:"#d1d9e6"},children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:(0,b.jsx)(s.Pencil,{className:"w-5 h-5 text-blue-600"})}),(0,b.jsx)("h2",{className:"text-xl font-bold",style:{fontFamily:"'Montserrat', sans-serif",color:"#2d3748"},children:"Edit Post"})]}),(0,b.jsx)("button",{onClick:g,className:"p-2 rounded-full transition-all hover:scale-105",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:(0,b.jsx)(f.X,{className:"w-5 h-5 text-gray-500"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden",style:{boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:l?.profileImage?(0,b.jsx)("img",{src:l.profileImage,alt:l.name,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold",children:l?.name?.charAt(0).toUpperCase()||"U"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-gray-800",children:l?.name}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>C(!B),className:"flex items-center gap-1 text-sm text-gray-500 hover:text-gray-700",children:[(0,b.jsx)(U,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:T.label}),(0,b.jsx)(j.ChevronDown,{className:"w-3 h-3"})]}),B&&(0,b.jsx)("div",{className:"absolute top-full left-0 mt-1 py-1 rounded-lg z-20 min-w-[140px]",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:v.map(a=>(0,b.jsxs)("button",{onClick:()=>{A(a.value),C(!1)},className:"flex items-center gap-2 w-full px-4 py-2 text-left text-sm hover:bg-gray-100",children:[(0,b.jsx)(a.icon,{className:"w-4 h-4 text-gray-500"}),(0,b.jsx)("span",{className:"text-gray-700",children:a.label})]},a.value))})]})]})]}),(0,b.jsx)("span",{className:"text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded",children:h.type})]}),F&&(0,b.jsx)("div",{className:"p-3 rounded-lg bg-red-50 text-red-600 text-sm",children:F}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 p-2 mb-2 rounded-lg",style:{background:"#ecf0f3",boxShadow:"inset 2px 2px 4px #d1d9e6, inset -2px -2px 4px #f9f9f9"},children:[(0,b.jsx)("button",{type:"button",onClick:()=>R("**"),className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Bold (**text**)",children:(0,b.jsx)(m,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsx)("button",{type:"button",onClick:()=>R("*"),className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Italic (*text*)",children:(0,b.jsx)(n,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsx)("button",{type:"button",onClick:()=>{let a,b,c=Q.current;if(!c)return;let d=c.selectionStart,e=x.slice(0,d),f=x.slice(d),g=e.lastIndexOf("\n")+1,h=e.slice(g);h.startsWith("- ")?(a=x.slice(0,g)+h.slice(2)+f,b=d-2):(a=x.slice(0,g)+"- "+h+f,b=d+2),y(a),setTimeout(()=>{c.focus(),c.setSelectionRange(b,b)},0)},className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Bullet List",children:(0,b.jsx)(o,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsx)("button",{type:"button",onClick:()=>R("`"),className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Code (`code`)",children:(0,b.jsx)(p.Code,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsx)("div",{className:"w-px h-5 bg-gray-300 mx-1"}),(0,b.jsx)("button",{type:"button",onClick:()=>{let a=Q.current;if(!a)return;let b=a.selectionStart;y(x.slice(0,b)+"@"+x.slice(b)),setTimeout(()=>{a.focus(),a.setSelectionRange(b+1,b+1)},0)},className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Mention someone (@)",children:(0,b.jsx)(q.AtSign,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsxs)("div",{className:"relative",ref:P,children:[(0,b.jsx)("button",{type:"button",onClick:()=>O(!N),className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Text Color",children:(0,b.jsx)(r.Palette,{className:"w-4 h-4 text-gray-600"})}),N&&(0,b.jsxs)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 p-3 rounded-xl z-30 min-w-[200px]",style:{background:"#ecf0f3",boxShadow:"6px 6px 12px #d1d9e6, -6px -6px 12px #ffffff"},children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-500 mb-2 text-center",children:"Choose Color"}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:w.map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>(a=>{let b,c,d=Q.current;if(!d)return;let e=d.selectionStart,f=d.selectionEnd,g=x.slice(e,f),h=`[color:${a}]`,i="[/color]";g?(b=x.slice(0,e)+h+g+i+x.slice(f),c=e+h.length+g.length+i.length):(b=x.slice(0,e)+h+i+x.slice(e),c=e+h.length),y(b),O(!1),setTimeout(()=>{d.focus(),d.setSelectionRange(c,c)},0)})(a.value),className:"group flex flex-col items-center gap-1",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white shadow-md hover:scale-110 hover:shadow-lg transition-all duration-200",style:{backgroundColor:a.value}}),(0,b.jsx)("span",{className:"text-[10px] text-gray-500 group-hover:text-gray-700",children:a.name})]},a.value))})]})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("textarea",{ref:Q,value:x,onChange:a=>{let b=a.target.value;y(b);let c=a.target.selectionStart,d=b.slice(0,c),e=d.lastIndexOf("@");if(-1!==e){let a=d.slice(e+1);!a.includes(" ")&&a.length>=1?I(a):(I(""),M(!1))}else I(""),M(!1)},placeholder:"What do you want to share?",className:"w-full min-h-[180px] p-5 rounded-xl text-gray-800 placeholder-gray-400 resize-none outline-none text-base leading-relaxed",style:{background:"#ecf0f3",boxShadow:"inset 4px 4px 8px #d1d9e6, inset -4px -4px 8px #f9f9f9",fontFamily:"'Montserrat', sans-serif"}}),L&&(0,b.jsx)("div",{className:"absolute bottom-full left-0 w-64 mb-2 py-2 rounded-lg max-h-48 overflow-y-auto z-20",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:J.map(a=>(0,b.jsxs)("button",{onClick:()=>(a=>{let b=Q.current;if(!b)return;let c=b.selectionStart,d=x.slice(0,c).lastIndexOf("@"),e=x.slice(c);y(x.slice(0,d)+`@${a.username} `+e),I(""),M(!1),setTimeout(()=>{let c=d+a.username.length+2;b.focus(),b.setSelectionRange(c,c)},0)})(a),className:"flex items-center gap-2 w-full px-4 py-2 hover:bg-gray-100 transition-colors",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-300",children:a.profileImage&&(0,b.jsx)("img",{src:a.profileImage,alt:a.name,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-800",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["@",a.username]})]})]},a.id))})]})]}),(0,b.jsx)("p",{className:"text-xs text-gray-400 text-center",children:"Note: Only text content and visibility can be edited. Media, polls, and links cannot be changed."})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t",style:{borderColor:"#d1d9e6"},children:[(0,b.jsx)("button",{onClick:g,className:"px-6 py-2.5 rounded-xl text-gray-600 font-medium transition-all hover:scale-105",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:"Cancel"}),(0,b.jsx)("button",{onClick:S,disabled:D||!x.trim(),className:"px-8 py-2.5 rounded-xl text-white font-semibold transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:D?(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Loader2,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})})}):null}a.s(["EditPostModal",()=>x],97199)},47120,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(46271),f=a.i(210),g=a.i(96221),h=a.i(38246),i=a.i(90925),j=a.i(94770),k=a.i(99828),l=a.i(13434),m=a.i(12469);function n(){let a=(0,d.useParams)(),i=(0,d.useSearchParams)(),n=a.id,o=i.get("comment")||void 0,[p,q]=(0,c.useState)(null),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!!o);return((0,c.useEffect)(()=>{let a=async()=>{s(!0),u(null);try{let a=await (0,l.getPost)(n);q(a),(0,m.joinPostRoom)(n)}catch(a){console.error("Error fetching post:",a),u(a.response?.data?.error||"Post not found")}finally{s(!1)}};return n&&a(),()=>{n&&(0,m.leavePostRoom)(n)}},[n]),(0,c.useEffect)(()=>{o&&p&&w(!0)},[o,p]),r)?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-950 flex items-center justify-center",children:(0,b.jsx)(g.Loader2,{className:"w-8 h-8 animate-spin text-blue-500"})}):t||!p?(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-950 flex flex-col items-center justify-center px-4",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:t||"Post not found"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-neutral-400 mb-4",children:"The post you're looking for doesn't exist or has been deleted."}),(0,b.jsx)(h.default,{href:"/",className:"px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"Go back home"})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-950 pb-10",children:[(0,b.jsx)("div",{className:"sticky top-0 z-40 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-sm border-b border-gray-200 dark:border-neutral-800",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto flex items-center gap-4 p-4",children:[(0,b.jsx)(h.default,{href:"/",className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors",children:(0,b.jsx)(f.ArrowLeft,{className:"w-5 h-5 text-gray-600 dark:text-neutral-400"})}),(0,b.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Post"})]})}),(0,b.jsx)("div",{className:"max-w-2xl mx-auto p-4",children:(0,b.jsx)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:(0,b.jsx)(j.PostCard,{post:p,onLikeUpdate:(a,b,c)=>{q(a=>a?{...a,isLiked:b,likesCount:c}:null)},onPollUpdate:(a,b)=>{q(a=>a?{...a,pollOptions:b}:null)},onCommentClick:()=>w(!0)})})}),(0,b.jsx)(k.Comments,{postId:n,isOpen:v,onClose:()=>w(!1),highlightCommentId:o,onCommentCountChange:a=>{q(b=>b?{...b,commentsCount:a}:null)}})]})}function o(){return(0,b.jsx)(i.ProtectedRoute,{children:(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),children:(0,b.jsx)(n,{})})})}a.s(["default",()=>o])}];

//# sourceMappingURL=_fba72ad3._.js.map
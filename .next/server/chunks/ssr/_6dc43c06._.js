module.exports=[210,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},90361,39315,a=>{"use strict";var b=a.i(26112),c=a.i(71941);function d(a=24){let e=(0,b.useInfiniteQuery)({queryKey:["reels-trending",a],queryFn:async()=>await c.reelsApi.getTrending({hours:a,limit:20}),getNextPageParam:()=>void 0,initialPageParam:void 0,staleTime:3e5});return{reels:e.data?.pages.flatMap(a=>a.reels)??[],isLoading:e.isLoading,isError:e.isError,refetch:e.refetch}}function e(a){let d=(0,b.useInfiniteQuery)({queryKey:["reels-hashtag",a],queryFn:async({pageParam:b})=>await c.reelsApi.getByHashtag(a,{cursor:b,limit:20}),getNextPageParam:a=>a.nextCursor,initialPageParam:void 0,staleTime:3e5,enabled:!!a});return{reels:d.data?.pages.flatMap(a=>a.reels)??[],isLoading:d.isLoading,isError:d.isError,hasNextPage:d.hasNextPage,isFetchingNextPage:d.isFetchingNextPage,fetchNextPage:d.fetchNextPage,refetch:d.refetch}}function f(a){let d=(0,b.useInfiniteQuery)({queryKey:["reels-audio",a],queryFn:async({pageParam:b})=>await c.reelsApi.getByAudio(a,{cursor:b,limit:20}),getNextPageParam:a=>a.nextCursor,initialPageParam:void 0,staleTime:3e5,enabled:!!a});return{reels:d.data?.pages.flatMap(a=>a.reels)??[],isLoading:d.isLoading,isError:d.isError,hasNextPage:d.hasNextPage,isFetchingNextPage:d.isFetchingNextPage,fetchNextPage:d.fetchNextPage,refetch:d.refetch}}a.s(["useAudioReels",()=>f,"useHashtagReels",()=>e,"useTrendingReels",()=>d],39315),a.i(72131),a.i(30947),a.i(12469),a.s([],90361)},57394,a=>{"use strict";let b=(0,a.i(70106).default)("BookmarkCheck",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2Z",key:"169p4p"}],["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}]]);a.s(["BookmarkCheck",()=>b],57394)},30085,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(71987),f=a.i(210),g=a.i(16686),h=a.i(96221),i=a.i(38617),j=a.i(57394),k=a.i(25015);a.i(90361);var l=a.i(39315);a.i(84671);var m=a.i(70905),n=a.i(71941);function o(){let a=(0,d.useParams)(),o=(0,d.useRouter)(),p=a.id,[q,r]=(0,c.useState)(0),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(!0),[A,B]=(0,c.useState)(!1),{reels:C,isLoading:D,isError:E,hasNextPage:F,isFetchingNextPage:G,fetchNextPage:H}=(0,l.useAudioReels)(p);(0,c.useEffect)(()=>{let a=async()=>{try{z(!0);let a=await n.audioApi.getAudio(p);x(a),B(a.isSaved||!1)}catch(a){console.error("Failed to fetch audio:",a)}finally{z(!1)}};p&&a()},[p]);let I=(0,c.useCallback)(a=>{let b=a.currentTarget,c=Math.round(b.scrollTop/b.clientHeight);c!==q&&(r(c),c>=C.length-3&&F&&!G&&H())},[q,C.length,F,G,H]),J=async()=>{try{let a=await n.audioApi.toggleSave(p);B(a.saved)}catch(a){console.error("Failed to toggle save:",a)}};return y||D?(0,b.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-black",children:(0,b.jsx)(h.Loader2,{className:"w-12 h-12 text-white animate-spin"})}):E||!w?(0,b.jsxs)("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-black text-white gap-4",children:[(0,b.jsx)(g.Music,{className:"w-16 h-16 text-gray-500"}),(0,b.jsx)("p",{className:"text-xl",children:"Audio not found"}),(0,b.jsx)("button",{onClick:()=>o.push("/reels"),className:"px-6 py-2 bg-white text-black rounded-full font-medium",children:"Go to Reels"})]}):u?(0,b.jsxs)("div",{className:"relative h-screen w-full bg-black",children:[(0,b.jsx)("div",{className:"absolute top-0 left-0 right-0 z-20 pt-4 px-4 pb-2 bg-gradient-to-b from-black/80 to-transparent",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>v(!1),className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors",children:(0,b.jsx)(f.ArrowLeft,{className:"w-5 h-5 text-white"})}),(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded bg-neutral-800 overflow-hidden flex-shrink-0",children:w.albumArt?(0,b.jsx)(e.default,{src:w.albumArt,alt:w.title,width:40,height:40,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,b.jsx)(g.Music,{className:"w-5 h-5 text-neutral-600"})})}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("h1",{className:"text-white font-semibold truncate",children:w.title}),(0,b.jsx)("p",{className:"text-white/60 text-sm truncate",children:w.artist})]})]})]})}),(0,b.jsxs)("div",{className:"h-screen w-full snap-y snap-mandatory overflow-y-scroll scrollbar-hide",onScroll:I,children:[C.map((a,c)=>(0,b.jsx)("div",{className:"h-screen w-full snap-start snap-always",children:(0,b.jsx)(m.ReelCard,{reel:a,isActive:c===q,isMuted:s,onMuteToggle:()=>t(!s)})},a.id)),G&&(0,b.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-black",children:(0,b.jsx)(h.Loader2,{className:"w-12 h-12 text-white animate-spin"})})]})]}):(0,b.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,b.jsx)("div",{className:"absolute top-4 left-4 z-10",children:(0,b.jsx)("button",{onClick:()=>o.back(),className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors",children:(0,b.jsx)(f.ArrowLeft,{className:"w-5 h-5 text-white"})})}),(0,b.jsxs)("div",{className:"pt-20 pb-8 px-6 flex flex-col items-center",children:[(0,b.jsx)("div",{className:"w-48 h-48 rounded-xl overflow-hidden mb-6 bg-neutral-800",children:w.albumArt?(0,b.jsx)(e.default,{src:w.albumArt,alt:w.title,width:192,height:192,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,b.jsx)(g.Music,{className:"w-16 h-16 text-neutral-600"})})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-center mb-1",children:w.title}),(0,b.jsx)("p",{className:"text-white/60 mb-2",children:w.artist}),w.genre&&(0,b.jsx)("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm text-white/80 mb-4",children:w.genre}),(0,b.jsxs)("p",{className:"text-white/50 text-sm mb-6",children:[w.usageCount.toLocaleString()," reels"]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-6 py-3 bg-white text-black rounded-full font-semibold hover:bg-white/90 transition-colors",children:[(0,b.jsx)(k.Play,{className:"w-5 h-5"}),"Watch Reels"]}),(0,b.jsx)("button",{onClick:J,className:"flex items-center gap-2 px-6 py-3 bg-white/10 text-white rounded-full font-semibold hover:bg-white/20 transition-colors",children:A?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.BookmarkCheck,{className:"w-5 h-5 fill-white"}),"Saved"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i.Bookmark,{className:"w-5 h-5"}),"Save"]})})]})]}),C.length>0&&(0,b.jsxs)("div",{className:"px-4 pb-8",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Reels with this sound"}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-1",children:C.slice(0,9).map(a=>(0,b.jsxs)("button",{onClick:()=>{r(C.findIndex(b=>b.id===a.id)),v(!0)},className:"aspect-[9/16] bg-neutral-800 rounded overflow-hidden relative group",children:[a.thumbnailUrl&&(0,b.jsx)(e.default,{src:a.thumbnailUrl,alt:"",fill:!0,className:"object-cover"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/30 transition-colors flex items-center justify-center",children:(0,b.jsx)(k.Play,{className:"w-8 h-8 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),(0,b.jsxs)("div",{className:"absolute bottom-1 left-1 text-xs text-white font-medium drop-shadow-lg",children:[a.viewsCount.toLocaleString()," views"]})]},a.id))})]})]})}a.s(["default",()=>o])}];

//# sourceMappingURL=_6dc43c06._.js.map
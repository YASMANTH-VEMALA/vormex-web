(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94519,e=>{"use strict";var t=e.i(43476),i=e.i(932),r=e.i(63178);function s(e){let s,a,n,o=(0,i.c)(6);return o[0]!==e?({children:s,...a}=e,o[0]=e,o[1]=s,o[2]=a):(s=o[1],a=o[2]),o[3]!==s||o[4]!==a?(n=(0,t.jsx)(r.ThemeProvider,{...a,children:s}),o[3]=s,o[4]=a,o[5]=n):n=o[5],n}e.s(["ThemeProvider",()=>s])},5100,e=>{"use strict";var t=e.i(43476),i=e.i(932),r=e.i(19273),s=e.i(86491),a=e.i(40143),n=e.i(15823),o=class extends n.Subscribable{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,i){let a=t.queryKey,n=t.queryHash??(0,r.hashQueryKeyByOptions)(a,t),o=this.get(n);return o||(o=new s.Query({client:e,queryKey:a,queryHash:n,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){let t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){a.notifyManager.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,r.matchQuery)(t,e))}findAll(e={}){let t=this.getAll();return Object.keys(e).length>0?t.filter(t=>(0,r.matchQuery)(e,t)):t}notify(e){a.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){a.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){a.notifyManager.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},l=e.i(88587),u=e.i(36553),c=class extends l.Removable{#t;#i;#r;#s;constructor(e){super(),this.#t=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#i=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#i.includes(e)||(this.#i.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#i=this.#i.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#i.length||("pending"===this.state.status?this.scheduleGc():this.#r.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){let t=()=>{this.#a({type:"continue"})},i={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=(0,u.createRetryer)({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#a({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#a({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});let r="pending"===this.state.status,s=!this.#s.canStart();try{if(r)t();else{this.#a({type:"pending",variables:e,isPaused:s}),this.#r.config.onMutate&&await this.#r.config.onMutate(e,this,i);let t=await this.options.onMutate?.(e,i);t!==this.state.context&&this.#a({type:"pending",context:t,variables:e,isPaused:s})}let a=await this.#s.start();return await this.#r.config.onSuccess?.(a,e,this.state.context,this,i),await this.options.onSuccess?.(a,e,this.state.context,i),await this.#r.config.onSettled?.(a,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(a,null,e,this.state.context,i),this.#a({type:"success",data:a}),a}catch(t){try{await this.#r.config.onError?.(t,e,this.state.context,this,i)}catch(e){Promise.reject(e)}try{await this.options.onError?.(t,e,this.state.context,i)}catch(e){Promise.reject(e)}try{await this.#r.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this,i)}catch(e){Promise.reject(e)}try{await this.options.onSettled?.(void 0,t,e,this.state.context,i)}catch(e){Promise.reject(e)}throw this.#a({type:"error",error:t}),t}finally{this.#r.runNext(this)}}#a(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),a.notifyManager.batch(()=>{this.#i.forEach(t=>{t.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}},h=n,d=class extends h.Subscribable{constructor(e={}){super(),this.config=e,this.#n=new Set,this.#o=new Map,this.#l=0}#n;#o;#l;build(e,t,i){let r=new c({client:e,mutationCache:this,mutationId:++this.#l,options:e.defaultMutationOptions(t),state:i});return this.add(r),r}add(e){this.#n.add(e);let t=f(e);if("string"==typeof t){let i=this.#o.get(t);i?i.push(e):this.#o.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#n.delete(e)){let t=f(e);if("string"==typeof t){let i=this.#o.get(t);if(i)if(i.length>1){let t=i.indexOf(e);-1!==t&&i.splice(t,1)}else i[0]===e&&this.#o.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){let t=f(e);if("string"!=typeof t)return!0;{let i=this.#o.get(t),r=i?.find(e=>"pending"===e.state.status);return!r||r===e}}runNext(e){let t=f(e);if("string"!=typeof t)return Promise.resolve();{let i=this.#o.get(t)?.find(t=>t!==e&&t.state.isPaused);return i?.continue()??Promise.resolve()}}clear(){a.notifyManager.batch(()=>{this.#n.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#n.clear(),this.#o.clear()})}getAll(){return Array.from(this.#n)}find(e){let t={exact:!0,...e};return this.getAll().find(e=>(0,r.matchMutation)(t,e))}findAll(e={}){return this.getAll().filter(t=>(0,r.matchMutation)(e,t))}notify(e){a.notifyManager.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){let e=this.getAll().filter(e=>e.state.isPaused);return a.notifyManager.batch(()=>Promise.all(e.map(e=>e.continue().catch(r.noop))))}};function f(e){return e.options.scope?.id}var m=e.i(75555),p=e.i(14448),y=e.i(92571),g=class{#u;#r;#c;#h;#d;#f;#m;#p;constructor(e={}){this.#u=e.queryCache||new o,this.#r=e.mutationCache||new d,this.#c=e.defaultOptions||{},this.#h=new Map,this.#d=new Map,this.#f=0}mount(){this.#f++,1===this.#f&&(this.#m=m.focusManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#u.onFocus())}),this.#p=p.onlineManager.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#u.onOnline())}))}unmount(){this.#f--,0===this.#f&&(this.#m?.(),this.#m=void 0,this.#p?.(),this.#p=void 0)}isFetching(e){return this.#u.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#r.findAll({...e,status:"pending"}).length}getQueryData(e){let t=this.defaultQueryOptions({queryKey:e});return this.#u.get(t.queryHash)?.state.data}ensureQueryData(e){let t=this.defaultQueryOptions(e),i=this.#u.build(this,t),s=i.state.data;return void 0===s?this.fetchQuery(e):(e.revalidateIfStale&&i.isStaleByTime((0,r.resolveStaleTime)(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#u.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,i){let s=this.defaultQueryOptions({queryKey:e}),a=this.#u.get(s.queryHash),n=a?.state.data,o=(0,r.functionalUpdate)(t,n);if(void 0!==o)return this.#u.build(this,s).setData(o,{...i,manual:!0})}setQueriesData(e,t,i){return a.notifyManager.batch(()=>this.#u.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,i)]))}getQueryState(e){let t=this.defaultQueryOptions({queryKey:e});return this.#u.get(t.queryHash)?.state}removeQueries(e){let t=this.#u;a.notifyManager.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){let i=this.#u;return a.notifyManager.batch(()=>(i.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){let i={revert:!0,...t};return Promise.all(a.notifyManager.batch(()=>this.#u.findAll(e).map(e=>e.cancel(i)))).then(r.noop).catch(r.noop)}invalidateQueries(e,t={}){return a.notifyManager.batch(()=>(this.#u.findAll(e).forEach(e=>{e.invalidate()}),e?.refetchType==="none")?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))}refetchQueries(e,t={}){let i={...t,cancelRefetch:t.cancelRefetch??!0};return Promise.all(a.notifyManager.batch(()=>this.#u.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,i);return i.throwOnError||(t=t.catch(r.noop)),"paused"===e.state.fetchStatus?Promise.resolve():t}))).then(r.noop)}fetchQuery(e){let t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);let i=this.#u.build(this,t);return i.isStaleByTime((0,r.resolveStaleTime)(t.staleTime,i))?i.fetch(t):Promise.resolve(i.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(r.noop).catch(r.noop)}fetchInfiniteQuery(e){return e.behavior=(0,y.infiniteQueryBehavior)(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(r.noop).catch(r.noop)}ensureInfiniteQueryData(e){return e.behavior=(0,y.infiniteQueryBehavior)(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return p.onlineManager.isOnline()?this.#r.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#u}getMutationCache(){return this.#r}getDefaultOptions(){return this.#c}setDefaultOptions(e){this.#c=e}setQueryDefaults(e,t){this.#h.set((0,r.hashKey)(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){let t=[...this.#h.values()],i={};return t.forEach(t=>{(0,r.partialMatchKey)(e,t.queryKey)&&Object.assign(i,t.defaultOptions)}),i}setMutationDefaults(e,t){this.#d.set((0,r.hashKey)(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){let t=[...this.#d.values()],i={};return t.forEach(t=>{(0,r.partialMatchKey)(e,t.mutationKey)&&Object.assign(i,t.defaultOptions)}),i}defaultQueryOptions(e){if(e._defaulted)return e;let t={...this.#c.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=(0,r.hashQueryKeyByOptions)(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===r.skipToken&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#c.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#u.clear(),this.#r.clear()}},x=e.i(12598),b=e.i(71645);function v(e){let r,s=(0,i.c)(3),{children:a}=e,[n]=(0,b.useState)(w);return s[0]!==a||s[1]!==n?(r=(0,t.jsx)(x.QueryClientProvider,{client:n,children:a}),s[0]=a,s[1]=n,s[2]=r):r=s[2],r}function w(){return new g({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5}}})}e.s(["QueryProvider",()=>v],5100)},5345,e=>{"use strict";var t=e.i(43476),i=e.i(932),r=e.i(71645),s=e.i(46932),a=e.i(88653),n=e.i(37727),o=e.i(90597),l=e.i(94983),u=e.i(57995),c=e.i(79002),h=e.i(417),d=e.i(30731),f=e.i(41240),m=e.i(18348),p=e.i(13751),y=e.i(52962);let g=(0,r.createContext)(null);function x(){let e=(0,r.useContext)(g);if(!e)throw Error("useNotificationToasts must be used within NotificationToastProvider");return e}let b={LIKE:h.ThumbsUp,CELEBRATE:d.PartyPopper,SUPPORT:o.Heart,INSIGHTFUL:f.Lightbulb,CURIOUS:m.HelpCircle},v={LIKE:"text-blue-500",CELEBRATE:"text-green-500",SUPPORT:"text-purple-500",INSIGHTFUL:"text-amber-500",CURIOUS:"text-pink-500"};function w(e){let s,a,n,o,l,u,c,h,d=(0,i.c)(12),{children:f}=e;d[0]===Symbol.for("react.memo_cache_sentinel")?(s=[],d[0]=s):s=d[0];let[m,x]=(0,r.useState)(s),{user:b}=(0,y.useAuth)();d[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{let t=`toast-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;x(i=>[...i,{...e,id:t,createdAt:new Date}]),setTimeout(()=>{x(e=>e.filter(e=>e.id!==t))},5e3)},d[1]=a):a=d[1];let v=a;d[2]===Symbol.for("react.memo_cache_sentinel")?(n=e=>{x(t=>t.filter(t=>t.id!==e))},d[2]=n):n=d[2];let w=n;return d[3]!==b?(o=()=>{if(b)return(0,p.initializeSocket)({onNotificationReaction:e=>{v({type:"reaction",title:"New Reaction",message:"Someone reacted to your post",reactionType:e.reactionType,postId:e.postId})},onNotificationLike:e=>{v({type:"reaction",title:"New Like",message:"Someone liked your post",reactionType:"LIKE",postId:e.postId})},onNotificationComment:e=>{v({type:"comment",title:"New Comment",message:"Someone commented on your post",postId:e.postId})},onNotificationMention:e=>{v({type:"mention",title:"New Mention",message:"You were mentioned in a comment",postId:e.postId})},onNotificationCommentLike:e=>{v({type:"comment_like",title:"Comment Liked",message:"Someone liked your comment",postId:e.postId})}}),C},l=[b,v],d[3]=b,d[4]=o,d[5]=l):(o=d[4],l=d[5]),(0,r.useEffect)(o,l),d[6]!==m?(u={toasts:m,addToast:v,removeToast:w},d[6]=m,d[7]=u):u=d[7],d[8]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(j,{}),d[8]=c):c=d[8],d[9]!==f||d[10]!==u?(h=(0,t.jsxs)(g.Provider,{value:u,children:[f,c]}),d[9]=f,d[10]=u,d[11]=h):h=d[11],h}function C(){}function j(){let e,r,s=(0,i.c)(7),{toasts:n,removeToast:o}=x();if(s[0]!==o||s[1]!==n){let i;s[3]!==o?(i=e=>(0,t.jsx)(k,{toast:e,onClose:()=>o(e.id)},e.id),s[3]=o,s[4]=i):i=s[4],e=n.map(i),s[0]=o,s[1]=n,s[2]=e}else e=s[2];return s[5]!==e?(r=(0,t.jsx)("div",{className:"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 max-w-sm",children:(0,t.jsx)(a.AnimatePresence,{mode:"popLayout",children:e})}),s[5]=e,s[6]=r):r=s[6],r}function k(e){let r,a,d,f,m,p,y,g,x,w,C,j,k,N,M=(0,i.c)(27),{toast:S,onClose:P}=e;M[0]!==S.reactionType||M[1]!==S.type?(r=()=>{switch(S.type){case"reaction":if(S.reactionType){let e=b[S.reactionType];return(0,t.jsx)(e,{className:`w-5 h-5 ${v[S.reactionType]}`})}return(0,t.jsx)(h.ThumbsUp,{className:"w-5 h-5 text-blue-500"});case"comment":return(0,t.jsx)(l.MessageCircle,{className:"w-5 h-5 text-blue-500"});case"mention":return(0,t.jsx)(u.AtSign,{className:"w-5 h-5 text-purple-500"});case"follow":return(0,t.jsx)(c.UserPlus,{className:"w-5 h-5 text-green-500"});default:return(0,t.jsx)(o.Heart,{className:"w-5 h-5 text-red-500"})}},M[0]=S.reactionType,M[1]=S.type,M[2]=r):r=M[2];let A=r;M[3]!==S.type?(a=()=>{switch(S.type){case"reaction":case"comment":return"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800";case"mention":return"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800";case"follow":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";case"comment_like":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";default:return"bg-gray-50 dark:bg-neutral-800 border-gray-200 dark:border-neutral-700"}},M[3]=S.type,M[4]=a):a=M[4];let O=a;M[5]===Symbol.for("react.memo_cache_sentinel")?(d={opacity:0,y:50,scale:.95},f={opacity:1,y:0,scale:1},m={opacity:0,x:100,scale:.95},p={type:"spring",damping:25,stiffness:400},M[5]=d,M[6]=f,M[7]=m,M[8]=p):(d=M[5],f=M[6],m=M[7],p=M[8]);let q=`relative flex items-start gap-3 p-4 rounded-xl border shadow-lg ${O()}`;return M[9]!==A?(y=(0,t.jsx)("div",{className:"flex-shrink-0 p-2 rounded-full bg-white dark:bg-neutral-900",children:A()}),M[9]=A,M[10]=y):y=M[10],M[11]!==S.title?(g=(0,t.jsx)("p",{className:"font-medium text-gray-900 dark:text-white text-sm",children:S.title}),M[11]=S.title,M[12]=g):g=M[12],M[13]!==S.message?(x=(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-neutral-400 truncate",children:S.message}),M[13]=S.message,M[14]=x):x=M[14],M[15]!==x||M[16]!==g?(w=(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[g,x]}),M[15]=x,M[16]=g,M[17]=w):w=M[17],M[18]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsx)(n.X,{className:"w-4 h-4 text-gray-500 dark:text-neutral-400"}),M[18]=C):C=M[18],M[19]!==P?(j=(0,t.jsx)("button",{onClick:P,className:"flex-shrink-0 p-1 rounded-full hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors",children:C}),M[19]=P,M[20]=j):j=M[20],M[21]===Symbol.for("react.memo_cache_sentinel")?(k=(0,t.jsx)(s.motion.div,{initial:{width:"100%"},animate:{width:"0%"},transition:{duration:5,ease:"linear"},className:"absolute bottom-0 left-0 h-1 bg-blue-500 rounded-b-xl"}),M[21]=k):k=M[21],M[22]!==w||M[23]!==j||M[24]!==q||M[25]!==y?(N=(0,t.jsxs)(s.motion.div,{layout:!0,initial:d,animate:f,exit:m,transition:p,className:q,children:[y,w,j,k]}),M[22]=w,M[23]=j,M[24]=q,M[25]=y,M[26]=N):N=M[26],N}e.s(["NotificationToastProvider",()=>w,"useNotificationToasts",()=>x])},71444,e=>{"use strict";var t=e.i(43476),i=e.i(932),r=e.i(46932),s=e.i(71645),a=e.i(71329),n=e.i(37806),o=e.i(47414);function l(e){let t=(0,o.useConstant)(()=>(0,a.motionValue)(e)),{isStatic:i}=(0,s.useContext)(n.MotionConfigContext);if(i){let[,i]=(0,s.useState)(e);(0,s.useEffect)(()=>t.on("change",i),[])}return t}var u=e.i(74749),c=e.i(74008),h=e.i(98549),d=e.i(28327);function f(e){return"number"==typeof e?e:parseFloat(e)}function m(e,t={}){let{isStatic:i}=(0,s.useContext)(n.MotionConfigContext),r=(0,s.useRef)(null),a=l((0,h.isMotionValue)(e)?f(e.get()):e),o=(0,s.useRef)(a.get()),p=(0,s.useRef)(()=>{}),y=()=>{let e=r.current;e&&0===e.time&&e.sample(d.frameData.delta),g(),r.current=(0,u.animateValue)({keyframes:[a.get(),o.current],velocity:a.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...t,onUpdate:p.current})},g=()=>{r.current&&r.current.stop()};return(0,s.useInsertionEffect)(()=>a.attach((e,t)=>i?t(e):(o.current=e,p.current=t,d.frame.update(y),a.get()),g),[JSON.stringify(t)]),(0,c.useIsomorphicLayoutEffect)(()=>{if((0,h.isMotionValue)(e))return e.on("change",e=>a.set(f(e)))},[a]),a}var p=e.i(25711);function y(e,t){let i=l(t()),r=()=>i.set(t());return r(),(0,c.useIsomorphicLayoutEffect)(()=>{let t=()=>d.frame.preRender(r,!1,!0),i=e.map(e=>e.on("change",t));return()=>{i.forEach(e=>e()),(0,d.cancelFrame)(r)}}),i}function g(e,t,i,r){if("function"==typeof e){let t;return a.collectMotionValues.current=[],e(),t=y(a.collectMotionValues.current,e),a.collectMotionValues.current=void 0,t}let s="function"==typeof t?t:function(...e){var t;let i,r=!Array.isArray(e[0]),s=r?0:-1,a=e[0+s],n=e[1+s],o=e[2+s],l=e[3+s],u=(0,p.interpolate)(n,o,{mixer:(i=t=o[0])&&"object"==typeof i&&i.mix?t.mix:void 0,...l});return r?u(a):u}(t,i,r);return Array.isArray(e)?x(e,s):x([e],([e])=>s(e))}function x(e,t){let i=(0,o.useConstant)(()=>[]);return y(e,()=>{i.length=0;let r=e.length;for(let t=0;t<r;t++)i[t]=e[t].get();return t(i)})}var b=e.i(88653),v=e.i(75157),w=e.i(22016),C=e.i(18566),j=e.i(75254);let k=(0,j.default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var N=e.i(61911),M=e.i(7233),S=e.i(45423),P=e.i(94983);let A=(0,j.default)("UsersRound",[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]]);var O=e.i(41071),q=e.i(93886),E=e.i(70703),_=e.i(52962);function Q(e){let s,a,n,o=(0,i.c)(8),{items:l,className:u}=e;if(o[0]!==u?(s=(0,v.cn)("fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50","w-[calc(100vw-32px)] max-w-[400px]","h-[72px]","bg-[#1e1e1e]/90 backdrop-blur-md","rounded-[28px]","shadow-xl shadow-black/20","flex items-center justify-between px-2","safe-area-inset-bottom",u),o[0]=u,o[1]=s):s=o[1],o[2]!==l){let e;o[4]===Symbol.for("react.memo_cache_sentinel")?(e=(e,i)=>{let s=e.isActive;return(0,t.jsxs)("div",{className:"relative flex-1 flex items-center justify-center h-full",children:[s&&(0,t.jsx)(r.motion.div,{layoutId:"active-pill",className:"absolute bg-[#9EFF00] rounded-[24px]",initial:!1,transition:{type:"spring",stiffness:300,damping:30},style:{width:"64px",height:"48px",zIndex:0}}),(0,t.jsx)(w.default,{href:e.href,onClick:t=>{(function(){"undefined"!=typeof navigator&&navigator.vibrate&&navigator.vibrate(10)})(),e.onClick&&(t.preventDefault(),e.onClick())},className:(0,v.cn)("relative z-10 flex items-center justify-center w-full h-full","transition-colors duration-300",s?"text-[#1E1E1E]":"text-white/60 hover:text-white"),children:(0,t.jsxs)(r.motion.div,{whileTap:{scale:.9},className:"flex flex-col items-center justify-center w-full h-full",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:(0,v.cn)("w-6 h-6",s?"text-[#1E1E1E]":"text-current"),children:e.icon}),e.badge&&e.badge>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1.5 flex h-4 min-w-4 items-center justify-center rounded-full bg-red-500 px-1 text-[10px] font-bold text-white ring-2 ring-[#1E1E1E]",children:e.badge>9?"9+":e.badge})]}),(0,t.jsx)("span",{className:(0,v.cn)("text-[10px] font-medium transition-all duration-300 mt-1",s?"text-[#1E1E1E] font-bold":"text-white/60"),children:e.title})]})})]},e.href+i)},o[4]=e):e=o[4],a=l.map(e),o[2]=l,o[3]=a}else a=o[3];return o[5]!==s||o[6]!==a?(n=(0,t.jsx)("div",{className:s,children:a}),o[5]=s,o[6]=a,o[7]=n):n=o[7],n}let D=(0,E.default)(()=>e.A(18107),{loadableGenerated:{modules:[93046]},ssr:!1}),T=(0,s.createContext)(void 0);function I(e){let r,s=(0,i.c)(3),{children:a,value:n}=e;return s[0]!==a||s[1]!==n?(r=(0,t.jsx)(T.Provider,{value:n,children:a}),s[0]=a,s[1]=n,s[2]=r):r=s[2],r}function R(e){let s,a,n,o,u,c,h,d,f,p,y,x,b=(0,i.c)(33),{children:w,className:C,spring:j,magnification:k,distance:N,panelHeight:M}=e;b[0]!==j?(s=void 0===j?{mass:.1,stiffness:150,damping:12}:j,b[0]=j,b[1]=s):s=b[1];let S=s,P=void 0===k?80:k,A=void 0===N?150:N,O=void 0===M?64:M,q=l(1/0),E=l(0),_=Math.max(128,P+P/2+4);b[2]===Symbol.for("react.memo_cache_sentinel")?(a=[0,1],b[2]=a):a=b[2],b[3]!==_||b[4]!==O?(n=[O,_],b[3]=_,b[4]=O,b[5]=n):n=b[5];let Q=m(g(E,a,n),S);return b[6]!==Q?(o={height:Q,scrollbarWidth:"none"},b[6]=Q,b[7]=o):o=b[7],b[8]!==E||b[9]!==q?(c=e=>{let{pageX:t}=e;E.set(1),q.set(t)},u=()=>{E.set(0),q.set(1/0)},b[8]=E,b[9]=q,b[10]=u,b[11]=c):(u=b[10],c=b[11]),b[12]!==C?(h=(0,v.cn)("mx-auto flex w-fit gap-4 rounded-2xl bg-gray-50 px-4 dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800",C),b[12]=C,b[13]=h):h=b[13],b[14]!==O?(d={height:O},b[14]=O,b[15]=d):d=b[15],b[16]!==A||b[17]!==P||b[18]!==q||b[19]!==S?(f={mouseX:q,spring:S,distance:A,magnification:P},b[16]=A,b[17]=P,b[18]=q,b[19]=S,b[20]=f):f=b[20],b[21]!==w||b[22]!==f?(p=(0,t.jsx)(I,{value:f,children:w}),b[21]=w,b[22]=f,b[23]=p):p=b[23],b[24]!==u||b[25]!==h||b[26]!==d||b[27]!==p||b[28]!==c?(y=(0,t.jsx)(r.motion.div,{onMouseMove:c,onMouseLeave:u,className:h,style:d,role:"toolbar","aria-label":"Application dock",children:p}),b[24]=u,b[25]=h,b[26]=d,b[27]=p,b[28]=c,b[29]=y):y=b[29],b[30]!==y||b[31]!==o?(x=(0,t.jsx)(r.motion.div,{style:o,className:"mx-2 flex max-w-full items-end overflow-x-auto",children:y}),b[30]=y,b[31]=o,b[32]=x):x=b[32],x}function F(e){let a,n,o,u,c,h,d,f,p,y,x,b=(0,i.c)(34),{children:C,className:j,href:k,isActive:N}=e,M=(0,s.useRef)(null),{distance:S,magnification:P,mouseX:A,spring:O}=function(){let e=(0,s.useContext)(T);if(!e)throw Error("useDock must be used within a DockProvider");return e}(),q=l(0);b[0]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{let t=M.current?.getBoundingClientRect()??{x:0,width:0};return e-t.x-t.width/2},b[0]=a):a=b[0];let E=g(A,a),_=-S;b[1]!==S||b[2]!==_?(n=[_,0,S],b[1]=S,b[2]=_,b[3]=n):n=b[3],b[4]!==P?(o=[40,P,40],b[4]=P,b[5]=o):o=b[5];let Q=m(g(E,n,o),O);b[6]!==Q?(u={width:Q},b[6]=Q,b[7]=u):u=b[7],b[8]!==q?(c=()=>q.set(1),h=()=>q.set(0),d=()=>q.set(1),f=()=>q.set(0),b[8]=q,b[9]=c,b[10]=h,b[11]=d,b[12]=f):(c=b[9],h=b[10],d=b[11],f=b[12]);let D=N&&"ring-2 ring-blue-500 dark:ring-blue-400 rounded-full";if(b[13]!==j||b[14]!==D?(p=(0,v.cn)("relative inline-flex items-center justify-center",D,j),b[13]=j,b[14]=D,b[15]=p):p=b[15],b[16]!==C||b[17]!==q||b[18]!==Q){let e;b[20]!==q||b[21]!==Q?(e=e=>(0,s.cloneElement)(e,{width:Q,isHovered:q}),b[20]=q,b[21]=Q,b[22]=e):e=b[22],y=s.Children.map(C,e),b[16]=C,b[17]=q,b[18]=Q,b[19]=y}else y=b[19];b[23]!==p||b[24]!==y||b[25]!==u||b[26]!==c||b[27]!==h||b[28]!==d||b[29]!==f?(x=(0,t.jsx)(r.motion.div,{ref:M,style:u,onHoverStart:c,onHoverEnd:h,onFocus:d,onBlur:f,className:p,tabIndex:0,role:"button","aria-haspopup":"true",children:y}),b[23]=p,b[24]=y,b[25]=u,b[26]=c,b[27]=h,b[28]=d,b[29]=f,b[30]=x):x=b[30];let I=x;if(k){let e;return b[31]!==I||b[32]!==k?(e=(0,t.jsx)(w.default,{href:k,className:"flex items-center justify-center",children:I}),b[31]=I,b[32]=k,b[33]=e):e=b[33],e}return I}function H(e){let a,n,o,l,u=(0,i.c)(9),{children:c,className:h,isHovered:d}=e,[f,m]=(0,s.useState)(!1);return u[0]!==d?(a=()=>{if(!d)return;let e=d.on("change",e=>{m(1===e)});return()=>e()},n=[d],u[0]=d,u[1]=a,u[2]=n):(a=u[1],n=u[2]),(0,s.useEffect)(a,n),u[3]!==c||u[4]!==h||u[5]!==f?(o=f&&(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:0},animate:{opacity:1,y:-10},exit:{opacity:0,y:0},transition:{duration:.2},className:(0,v.cn)("absolute -top-6 left-1/2 w-fit whitespace-pre rounded-md border border-gray-200 bg-gray-100 px-2 py-0.5 text-xs text-neutral-700 dark:border-neutral-900 dark:bg-neutral-800 dark:text-white",h),role:"tooltip",style:{x:"-50%"},children:c}),u[3]=c,u[4]=h,u[5]=f,u[6]=o):o=u[6],u[7]!==o?(l=(0,t.jsx)(b.AnimatePresence,{children:o}),u[7]=o,u[8]=l):l=u[8],l}function K(e){let s,a,n,o=(0,i.c)(8),{children:u,className:c,width:h}=e,d=l(40),f=g(h||d,U);return o[0]!==f?(s={width:f},o[0]=f,o[1]=s):s=o[1],o[2]!==c?(a=(0,v.cn)("flex items-center justify-center",c),o[2]=c,o[3]=a):a=o[3],o[4]!==u||o[5]!==s||o[6]!==a?(n=(0,t.jsx)(r.motion.div,{style:s,className:a,children:u}),o[4]=u,o[5]=s,o[6]=a,o[7]=n):n=o[7],n}function U(e){return e/2}function L(){let e,r,a,n,o,l,u,c,h,d,f,m,p,y,g,x,b,v,w,j,E,T,I,U,L,B=(0,i.c)(50),z=(0,C.usePathname)(),[G,V]=(0,s.useState)(!1),{user:$}=(0,_.useAuth)();if(["/login","/forgot-password","/reset-password","/verify-email"].includes(z))return null;B[0]!==$?(e=e=>{let{size:i}=e,r=void 0===i?"full":i,s="small"===r?"w-6 h-6":"h-full w-full";return $?.profileImage?(0,t.jsx)("img",{src:$.profileImage,alt:$.name||"Profile",className:`${s} rounded-full object-cover`}):(0,t.jsx)("div",{className:`${s} rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center`,children:(0,t.jsx)("span",{className:`text-white font-semibold ${"small"===r?"text-xs":"text-sm"}`,children:$?.name?.charAt(0)?.toUpperCase()||"?"})})},B[0]=$,B[1]=e):e=B[1];let W=e;if(B[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)(k,{className:"h-full w-full text-neutral-600 dark:text-neutral-300"}),B[2]=r):r=B[2],B[3]!==W||B[4]!==z){let e=[{title:"Home",href:"/",icon:r},{title:"Reels",href:"/reels",icon:(0,t.jsx)(q.Film,{className:"h-full w-full text-neutral-600 dark:text-neutral-300"})},{title:"Find People",href:"/find-people",icon:(0,t.jsx)(N.Users,{className:"h-full w-full text-neutral-600 dark:text-neutral-300"})},{title:"Groups",href:"/groups",icon:(0,t.jsx)(A,{className:"h-full w-full text-neutral-600 dark:text-neutral-300"})},{title:"Create",href:"#create",icon:(0,t.jsx)(M.Plus,{className:"h-full w-full text-neutral-600 dark:text-neutral-300"}),isCreate:!0},{title:"Messages",href:"/messages",icon:(0,t.jsx)(P.MessageCircle,{className:"h-full w-full text-neutral-600 dark:text-neutral-300"})},{title:"Notifications",href:"/notifications",icon:(0,t.jsx)(S.Bell,{className:"h-full w-full text-neutral-600 dark:text-neutral-300"})},{title:"More",href:"/more",icon:(0,t.jsx)(O.MoreHorizontal,{className:"h-full w-full text-neutral-600 dark:text-neutral-300"})},{title:"Profile",href:"/profile",icon:(0,t.jsx)(W,{}),isProfile:!0}],i=e=>"/"===e?"/"===z:"#create"!==e&&z.startsWith(e);l="hidden lg:block fixed bottom-4 left-1/2 -translate-x-1/2 z-50 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-md rounded-2xl px-4 py-2 shadow-lg border border-white/20 dark:border-neutral-800/50",a=R,n="items-end pb-3",o=e.map(e=>e.isCreate?(0,t.jsx)("div",{onClick:()=>V(!0),className:"cursor-pointer",children:(0,t.jsxs)(F,{isActive:!1,className:"aspect-square rounded-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 transition-colors",children:[(0,t.jsx)(H,{children:e.title}),(0,t.jsx)(K,{children:(0,t.jsx)(M.Plus,{className:"h-full w-full text-white"})})]})},e.href):e.isProfile?(0,t.jsxs)(F,{href:e.href,isActive:i(e.href),className:`aspect-square rounded-full overflow-hidden ${i(e.href)?"ring-2 ring-blue-500 ring-offset-2 ring-offset-white dark:ring-offset-neutral-900":"hover:ring-2 hover:ring-gray-300 dark:hover:ring-neutral-600"} transition-all`,children:[(0,t.jsx)(H,{children:e.title}),(0,t.jsx)(K,{children:e.icon})]},e.href):(0,t.jsxs)(F,{href:e.href,isActive:i(e.href),className:"aspect-square rounded-full bg-gray-200 dark:bg-neutral-800 hover:bg-gray-300 dark:hover:bg-neutral-700 transition-colors",children:[(0,t.jsx)(H,{children:e.title}),(0,t.jsx)(K,{children:e.icon})]},e.href)),B[3]=W,B[4]=z,B[5]=a,B[6]=n,B[7]=o,B[8]=l}else a=B[5],n=B[6],o=B[7],l=B[8];B[9]!==a||B[10]!==n||B[11]!==o?(u=(0,t.jsx)(a,{className:n,children:o}),B[9]=a,B[10]=n,B[11]=o,B[12]=u):u=B[12],B[13]!==l||B[14]!==u?(c=(0,t.jsx)("div",{className:l,children:u}),B[13]=l,B[14]=u,B[15]=c):c=B[15],B[16]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsx)(k,{className:"w-full h-full"}),B[16]=h):h=B[16];let J="/"===z;return B[17]!==J?(d={title:"Home",href:"/",icon:h,isActive:J},B[17]=J,B[18]=d):d=B[18],B[19]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsx)(q.Film,{className:"w-full h-full"}),B[19]=f):f=B[19],B[20]!==z?(m=z.startsWith("/reels"),B[20]=z,B[21]=m):m=B[21],B[22]!==m?(p={title:"Reels",href:"/reels",icon:f,isActive:m},B[22]=m,B[23]=p):p=B[23],B[24]===Symbol.for("react.memo_cache_sentinel")?(y=(0,t.jsx)(M.Plus,{className:"w-full h-full"}),B[24]=y):y=B[24],B[25]===Symbol.for("react.memo_cache_sentinel")?(g={title:"Create",href:"#create",icon:y,isActive:!1,onClick:()=>V(!0)},B[25]=g):g=B[25],B[26]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsx)(P.MessageCircle,{className:"w-full h-full"}),B[26]=x):x=B[26],B[27]!==z?(b=z.startsWith("/messages"),B[27]=z,B[28]=b):b=B[28],B[29]!==b?(v={title:"Messages",href:"/messages",icon:x,isActive:b},B[29]=b,B[30]=v):v=B[30],B[31]!==W?(w=(0,t.jsx)(W,{size:"small"}),B[31]=W,B[32]=w):w=B[32],B[33]!==z?(j=z.startsWith("/profile"),B[33]=z,B[34]=j):j=B[34],B[35]!==w||B[36]!==j?(E={title:"Profile",href:"/profile",icon:w,isActive:j},B[35]=w,B[36]=j,B[37]=E):E=B[37],B[38]!==p||B[39]!==v||B[40]!==E||B[41]!==d?(T=(0,t.jsx)(Q,{className:"lg:hidden",items:[d,p,g,v,E]}),B[38]=p,B[39]=v,B[40]=E,B[41]=d,B[42]=T):T=B[42],B[43]===Symbol.for("react.memo_cache_sentinel")?(I=()=>V(!1),B[43]=I):I=B[43],B[44]!==G?(U=(0,t.jsx)(D,{isOpen:G,onClose:I}),B[44]=G,B[45]=U):U=B[45],B[46]!==T||B[47]!==U||B[48]!==c?(L=(0,t.jsxs)(t.Fragment,{children:[c,T,U]}),B[46]=T,B[47]=U,B[48]=c,B[49]=L):L=B[49],L}e.s(["Dock",()=>R,"DockIcon",()=>K,"DockItem",()=>F,"DockLabel",()=>H,"VormexDock",()=>L],71444)},67428,e=>{"use strict";var t=e.i(43476),i=e.i(932),r=e.i(71645);let s=(0,r.createContext)(void 0);function a(e){let a,o,l,u,c,h=(0,i.c)(8),{children:d}=e,[f,m]=(0,r.useState)(!1);h[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>m(!0),h[0]=a):a=h[0];let p=a;h[1]===Symbol.for("react.memo_cache_sentinel")?(o=()=>m(!1),h[1]=o):o=h[1];let y=o;h[2]===Symbol.for("react.memo_cache_sentinel")?(l=()=>m(n),h[2]=l):l=h[2];let g=l;return h[3]!==f?(u={isOpen:f,openAgent:p,closeAgent:y,toggleAgent:g},h[3]=f,h[4]=u):u=h[4],h[5]!==d||h[6]!==u?(c=(0,t.jsx)(s.Provider,{value:u,children:d}),h[5]=d,h[6]=u,h[7]=c):c=h[7],c}function n(e){return!e}function o(){let e=(0,i.c)(1),t=(0,r.useContext)(s);if(!t){let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={isOpen:!1,openAgent:c,closeAgent:u,toggleAgent:l},e[0]=t):t=e[0],t}return t}function l(){}function u(){}function c(){}e.s(["AgentProvider",()=>a,"useAgent",()=>o])}]);
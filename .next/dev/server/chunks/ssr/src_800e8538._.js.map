{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Videos/vormex/vormex-web/src/components/auth/ProtectedRoute.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/lib/auth/useAuth';\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode;\n}\n\nexport function ProtectedRoute({ children }: ProtectedRouteProps) {\n  const { isAuthenticated, loading } = useAuth();\n  const router = useRouter();\n\n  React.useEffect(() => {\n    if (!loading && !isAuthenticated) {\n      router.push('/login');\n    }\n  }, [isAuthenticated, loading, router]);\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Loading...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return null;\n  }\n\n  return <>{children}</>;\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAUO,SAAS,eAAe,EAAE,QAAQ,EAAuB;IAC9D,MAAM,EAAE,eAAe,EAAE,OAAO,EAAE,GAAG,IAAA,wIAAO;IAC5C,MAAM,SAAS,IAAA,+IAAS;IAExB,gNAAK,CAAC,SAAS,CAAC;QACd,IAAI,CAAC,WAAW,CAAC,iBAAiB;YAChC,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAiB;QAAS;KAAO;IAErC,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAqB;;;;;;;;;;;;;;;;;IAI1C;IAEA,IAAI,CAAC,iBAAiB;QACpB,OAAO;IACT;IAEA,qBAAO;kBAAG;;AACZ"}},
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Videos/vormex/vormex-web/src/components/groups/GroupCard.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { Group } from '@/lib/api/groups';\nimport { cn } from '@/lib/utils';\n\ninterface GroupCardProps {\n  group: Group;\n  onJoin?: (groupId: string) => void;\n  onLeave?: (groupId: string) => void;\n  isJoining?: boolean;\n}\n\nexport default function GroupCard({ group, onJoin, onLeave, isJoining }: GroupCardProps) {\n  const memberCount = group._count?.members || group.memberCount;\n  const postCount = group._count?.posts || group.postCount;\n\n  const privacyBadge = {\n    PUBLIC: { label: 'Public', color: 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400' },\n    PRIVATE: { label: 'Private', color: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400' },\n    SECRET: { label: 'Secret', color: 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400' },\n  };\n\n  const privacy = privacyBadge[group.privacy];\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-shadow\">\n      {/* Cover Image */}\n      <Link href={`/groups/${group.slug}`}>\n        <div className=\"relative h-32 bg-gradient-to-r from-blue-500 to-purple-600\">\n          {group.coverImage && (\n            <Image\n              src={group.coverImage}\n              alt={group.name}\n              fill\n              className=\"object-cover\"\n            />\n          )}\n          {/* Icon overlay */}\n          {group.iconImage && (\n            <div className=\"absolute -bottom-6 left-4\">\n              <div className=\"w-14 h-14 rounded-xl border-4 border-white dark:border-gray-800 overflow-hidden bg-white dark:bg-gray-800\">\n                <Image\n                  src={group.iconImage}\n                  alt={group.name}\n                  width={56}\n                  height={56}\n                  className=\"object-cover\"\n                />\n              </div>\n            </div>\n          )}\n        </div>\n      </Link>\n\n      {/* Content */}\n      <div className={cn(\"p-4\", group.iconImage && \"pt-8\")}>\n        <div className=\"flex items-start justify-between gap-2\">\n          <Link href={`/groups/${group.slug}`} className=\"flex-1 min-w-0\">\n            <h3 className=\"font-semibold text-gray-900 dark:text-white truncate hover:text-blue-600 dark:hover:text-blue-400 transition-colors\">\n              {group.name}\n            </h3>\n          </Link>\n          <span className={cn(\"px-2 py-0.5 text-xs font-medium rounded-full flex-shrink-0\", privacy.color)}>\n            {privacy.label}\n          </span>\n        </div>\n\n        {group.description && (\n          <p className=\"mt-1 text-sm text-gray-600 dark:text-gray-400 line-clamp-2\">\n            {group.description}\n          </p>\n        )}\n\n        {/* Stats */}\n        <div className=\"mt-3 flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400\">\n          <span className=\"flex items-center gap-1\">\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z\" />\n            </svg>\n            {memberCount.toLocaleString()} members\n          </span>\n          <span className=\"flex items-center gap-1\">\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z\" />\n            </svg>\n            {postCount} posts\n          </span>\n        </div>\n\n        {/* Category tag */}\n        {group.category && (\n          <div className=\"mt-3\">\n            <span className=\"inline-block px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-md\">\n              {group.category}\n            </span>\n          </div>\n        )}\n\n        {/* Member avatars preview */}\n        {group.members && group.members.length > 0 && (\n          <div className=\"mt-3 flex items-center\">\n            <div className=\"flex -space-x-2\">\n              {group.members.slice(0, 3).map((member) => (\n                <div\n                  key={member.id}\n                  className=\"w-7 h-7 rounded-full border-2 border-white dark:border-gray-800 overflow-hidden bg-gray-200 dark:bg-gray-600\"\n                >\n                  {member.user.profileImage ? (\n                    <Image\n                      src={member.user.profileImage}\n                      alt={member.user.name}\n                      width={28}\n                      height={28}\n                      className=\"object-cover\"\n                    />\n                  ) : (\n                    <div className=\"w-full h-full flex items-center justify-center text-xs font-medium text-gray-600 dark:text-gray-300\">\n                      {member.user.name.charAt(0).toUpperCase()}\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n            {memberCount > 3 && (\n              <span className=\"ml-2 text-xs text-gray-500 dark:text-gray-400\">\n                +{memberCount - 3} more\n              </span>\n            )}\n          </div>\n        )}\n\n        {/* Action Button */}\n        <div className=\"mt-4\">\n          {group.isMember ? (\n            <div className=\"flex items-center gap-2\">\n              <Link\n                href={`/groups/${group.slug}`}\n                className=\"flex-1 px-4 py-2 text-center text-sm font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors\"\n              >\n                View Group\n              </Link>\n              {group.memberRole !== 'OWNER' && onLeave && (\n                <button\n                  onClick={() => onLeave(group.id)}\n                  className=\"p-2 text-gray-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors\"\n                  title=\"Leave group\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n                  </svg>\n                </button>\n              )}\n            </div>\n          ) : (\n            <button\n              onClick={() => onJoin?.(group.id)}\n              disabled={isJoining}\n              className=\"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              {isJoining ? (\n                <span className=\"flex items-center justify-center gap-2\">\n                  <svg className=\"w-4 h-4 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\" />\n                  </svg>\n                  Joining...\n                </span>\n              ) : group.privacy === 'PRIVATE' ? (\n                'Request to Join'\n              ) : (\n                'Join Group'\n              )}\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 462, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Videos/vormex/vormex-web/src/components/groups/GroupHeader.tsx"],"sourcesContent":["'use client';\n\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { Group, GroupMemberRole } from '@/lib/api/groups';\nimport { cn } from '@/lib/utils';\n\ninterface GroupHeaderProps {\n  group: Group;\n  onJoin?: () => void;\n  onLeave?: () => void;\n  isLoading?: boolean;\n}\n\nexport default function GroupHeader({ group, onJoin, onLeave, isLoading }: GroupHeaderProps) {\n  const router = useRouter();\n  const memberCount = group._count?.members || group.memberCount;\n\n  const privacyInfo = {\n    PUBLIC: { icon: 'üåç', label: 'Public Group' },\n    PRIVATE: { icon: 'üîí', label: 'Private Group' },\n    SECRET: { icon: 'üëÅÔ∏è', label: 'Secret Group' },\n  };\n\n  const privacy = privacyInfo[group.privacy];\n\n  const canManage = group.memberRole && ['OWNER', 'ADMIN'].includes(group.memberRole);\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden\">\n      {/* Cover Image */}\n      <div className=\"relative h-48 md:h-64 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500\">\n        {group.coverImage && (\n          <Image\n            src={group.coverImage}\n            alt={group.name}\n            fill\n            className=\"object-cover\"\n          />\n        )}\n        \n        {/* Back button */}\n        <button\n          onClick={() => router.back()}\n          className=\"absolute top-4 left-4 p-2 bg-black/30 hover:bg-black/50 text-white rounded-full backdrop-blur-sm transition-colors\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n          </svg>\n        </button>\n\n        {/* Settings button for admins */}\n        {canManage && (\n          <Link\n            href={`/groups/${group.slug}/settings`}\n            className=\"absolute top-4 right-4 p-2 bg-black/30 hover:bg-black/50 text-white rounded-full backdrop-blur-sm transition-colors\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n            </svg>\n          </Link>\n        )}\n\n        {/* Group Icon */}\n        <div className=\"absolute -bottom-12 left-6\">\n          <div className=\"w-24 h-24 rounded-2xl border-4 border-white dark:border-gray-800 overflow-hidden bg-white dark:bg-gray-800 shadow-lg\">\n            {group.iconImage ? (\n              <Image\n                src={group.iconImage}\n                alt={group.name}\n                width={96}\n                height={96}\n                className=\"object-cover\"\n              />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 text-white text-3xl font-bold\">\n                {group.name.charAt(0).toUpperCase()}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"pt-14 px-6 pb-6\">\n        <div className=\"flex flex-col md:flex-row md:items-start md:justify-between gap-4\">\n          {/* Info */}\n          <div className=\"flex-1\">\n            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n              {group.name}\n            </h1>\n            <div className=\"flex flex-wrap items-center gap-3 mt-2 text-sm text-gray-600 dark:text-gray-400\">\n              <span className=\"flex items-center gap-1\">\n                {privacy.icon} {privacy.label}\n              </span>\n              <span>‚Ä¢</span>\n              <span className=\"flex items-center gap-1\">\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z\" />\n                </svg>\n                {memberCount.toLocaleString()} members\n              </span>\n              {group.category && (\n                <>\n                  <span>‚Ä¢</span>\n                  <span className=\"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 rounded-full text-xs\">\n                    {group.category}\n                  </span>\n                </>\n              )}\n            </div>\n            {group.description && (\n              <p className=\"mt-3 text-gray-600 dark:text-gray-400 max-w-2xl\">\n                {group.description}\n              </p>\n            )}\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex items-center gap-3\">\n            {group.isMember ? (\n              <>\n                <Link\n                  href={`/groups/${group.slug}/chat`}\n                  className=\"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                  </svg>\n                  Chat\n                </Link>\n                {group.memberRole !== 'OWNER' && onLeave && (\n                  <button\n                    onClick={onLeave}\n                    disabled={isLoading}\n                    className=\"px-4 py-2.5 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 transition-colors\"\n                  >\n                    Leave\n                  </button>\n                )}\n              </>\n            ) : (\n              <button\n                onClick={onJoin}\n                disabled={isLoading}\n                className=\"flex items-center gap-2 px-6 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors\"\n              >\n                {isLoading ? (\n                  <>\n                    <svg className=\"w-5 h-5 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\" />\n                    </svg>\n                    Joining...\n                  </>\n                ) : group.privacy === 'PRIVATE' ? (\n                  <>\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                    Request to Join\n                  </>\n                ) : (\n                  <>\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                    Join Group\n                  </>\n                )}\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* Role badge for members */}\n        {group.memberRole && (\n          <div className=\"mt-4 inline-flex items-center gap-1.5 px-3 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-sm font-medium rounded-full\">\n            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n            </svg>\n            {group.memberRole.charAt(0) + group.memberRole.slice(1).toLowerCase()}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 924, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Videos/vormex/vormex-web/src/lib/api/groups.ts"],"sourcesContent":["import apiClient from './client';\n\n// ============================================\n// Types\n// ============================================\n\nexport type GroupPrivacy = 'PUBLIC' | 'PRIVATE' | 'SECRET';\nexport type GroupMemberRole = 'OWNER' | 'ADMIN' | 'MODERATOR' | 'MEMBER';\nexport type GroupJoinRequestStatus = 'PENDING' | 'APPROVED' | 'REJECTED';\n\nexport interface GroupUser {\n  id: string;\n  name: string;\n  username: string;\n  profileImage: string | null;\n  avatar?: string | null; // Alias for profileImage\n  headline?: string | null;\n}\n\nexport interface Group {\n  id: string;\n  name: string;\n  slug: string;\n  description: string | null;\n  coverImage: string | null;\n  iconImage: string | null;\n  privacy: GroupPrivacy;\n  category: string | null;\n  tags: string[];\n  rules: string[];\n  createdById: string;\n  createdBy: GroupUser;\n  memberCount: number;\n  postCount: number;\n  allowMemberPosts: boolean;\n  requirePostApproval: boolean;\n  createdAt: string;\n  updatedAt: string;\n  isMember: boolean;\n  memberRole: GroupMemberRole | null;\n  userRole?: GroupMemberRole | null; // Alias for memberRole\n  joinedAt?: string;\n  members?: GroupMember[];\n  _count?: {\n    members: number;\n    posts: number;\n    messages?: number;\n  };\n}\n\nexport interface GroupMember {\n  id: string;\n  groupId: string;\n  userId: string;\n  user: GroupUser;\n  role: GroupMemberRole;\n  joinedAt: string;\n  mutedUntil: string | null;\n}\n\nexport interface GroupJoinRequest {\n  id: string;\n  groupId: string;\n  userId: string;\n  user: GroupUser;\n  status: GroupJoinRequestStatus;\n  message: string | null;\n  reviewedById: string | null;\n  reviewedBy: GroupUser | null;\n  reviewedAt: string | null;\n  createdAt: string;\n}\n\nexport type GroupInviteStatus = 'PENDING' | 'ACCEPTED' | 'DECLINED' | 'EXPIRED';\n\nexport interface GroupInvite {\n  id: string;\n  groupId: string;\n  invitedUserId: string;\n  invitedUser: GroupUser;\n  invitedById: string;\n  invitedBy: GroupUser;\n  status: GroupInviteStatus;\n  message: string | null;\n  respondedAt: string | null;\n  createdAt: string;\n  group?: {\n    id: string;\n    name: string;\n    slug: string;\n    iconImage: string | null;\n    privacy: GroupPrivacy;\n    memberCount: number;\n  };\n}\n\nexport interface GroupPost {\n  id: string;\n  groupId: string;\n  authorId: string;\n  author: GroupUser;\n  content: string | null;\n  mediaUrls: string[];\n  mediaType: string | null;\n  likesCount: number;\n  commentsCount: number;\n  isPinned: boolean;\n  isApproved: boolean;\n  createdAt: string;\n  updatedAt: string;\n  isLiked?: boolean;\n  _count?: {\n    likes: number;\n    comments: number;\n  };\n}\n\nexport interface GroupPostComment {\n  id: string;\n  postId: string;\n  authorId: string;\n  author: GroupUser;\n  parentId: string | null;\n  content: string;\n  likesCount: number;\n  createdAt: string;\n  updatedAt: string;\n  replies?: GroupPostComment[];\n}\n\nexport interface GroupMessage {\n  id: string;\n  groupId: string;\n  senderId: string;\n  sender: GroupUser;\n  content: string;\n  contentType: string;\n  mediaUrl: string | null;\n  mediaType: string | null;\n  fileName: string | null;\n  fileSize: number | null;\n  replyToId: string | null;\n  replyTo: GroupMessage | null;\n  isDeleted: boolean;\n  createdAt: string;\n  updatedAt: string;\n  reactions: GroupMessageReaction[];\n}\n\nexport interface GroupMessageReaction {\n  id: string;\n  messageId: string;\n  userId: string;\n  user: GroupUser;\n  emoji: string;\n  createdAt: string;\n}\n\nexport interface PaginatedResponse<T> {\n  pagination: {\n    page: number;\n    limit: number;\n    total: number;\n    totalPages: number;\n  };\n}\n\nexport interface GroupsResponse extends PaginatedResponse<Group> {\n  groups: Group[];\n}\n\nexport interface GroupMembersResponse extends PaginatedResponse<GroupMember> {\n  members: GroupMember[];\n}\n\nexport interface GroupPostsResponse extends PaginatedResponse<GroupPost> {\n  posts: GroupPost[];\n}\n\nexport interface GroupCategory {\n  name: string;\n  count: number;\n}\n\n// ============================================\n// Group CRUD\n// ============================================\n\nexport async function createGroup(data: {\n  name: string;\n  description?: string;\n  privacy?: GroupPrivacy;\n  category?: string;\n  tags?: string[];\n  rules?: string[];\n  coverImage?: string;\n  iconImage?: string;\n}): Promise<Group> {\n  return apiClient.post('/groups', data);\n}\n\nexport async function getGroup(identifier: string): Promise<Group> {\n  return apiClient.get(`/groups/${identifier}`);\n}\n\nexport async function updateGroup(\n  groupId: string,\n  data: Partial<{\n    name: string;\n    description: string;\n    privacy: GroupPrivacy;\n    category: string;\n    tags: string[];\n    rules: string[];\n    coverImage: string;\n    iconImage: string;\n    allowMemberPosts: boolean;\n    requirePostApproval: boolean;\n  }>\n): Promise<Group> {\n  return apiClient.put(`/groups/${groupId}`, data);\n}\n\nexport async function deleteGroup(groupId: string): Promise<{ success: boolean }> {\n  return apiClient.delete(`/groups/${groupId}`);\n}\n\n// ============================================\n// Group Discovery\n// ============================================\n\nexport async function listGroups(options?: {\n  search?: string;\n  category?: string;\n  privacy?: GroupPrivacy;\n  page?: number;\n  limit?: number;\n}): Promise<GroupsResponse> {\n  const params = new URLSearchParams();\n  if (options?.search) params.append('search', options.search);\n  if (options?.category) params.append('category', options.category);\n  if (options?.privacy) params.append('privacy', options.privacy);\n  if (options?.page) params.append('page', String(options.page));\n  if (options?.limit) params.append('limit', String(options.limit));\n\n  return apiClient.get(`/groups?${params.toString()}`);\n}\n\nexport async function getMyGroups(page = 1, limit = 20): Promise<GroupsResponse> {\n  return apiClient.get(`/groups/my?page=${page}&limit=${limit}`);\n}\n\nexport async function discoverGroups(page = 1, limit = 20): Promise<GroupsResponse> {\n  return apiClient.get(`/groups/discover?page=${page}&limit=${limit}`);\n}\n\nexport async function getCategories(): Promise<GroupCategory[]> {\n  return apiClient.get('/groups/categories');\n}\n\n// ============================================\n// Membership\n// ============================================\n\nexport async function joinGroup(\n  groupId: string,\n  message?: string\n): Promise<{ status: 'joined' | 'pending'; message: string }> {\n  return apiClient.post(`/groups/${groupId}/join`, { message });\n}\n\nexport async function leaveGroup(groupId: string): Promise<{ success: boolean }> {\n  return apiClient.post(`/groups/${groupId}/leave`);\n}\n\nexport async function getGroupMembers(\n  groupId: string,\n  options?: {\n    role?: GroupMemberRole;\n    search?: string;\n    page?: number;\n    limit?: number;\n  }\n): Promise<GroupMembersResponse> {\n  const params = new URLSearchParams();\n  if (options?.role) params.append('role', options.role);\n  if (options?.search) params.append('search', options.search);\n  if (options?.page) params.append('page', String(options.page));\n  if (options?.limit) params.append('limit', String(options.limit));\n\n  return apiClient.get(`/groups/${groupId}/members?${params.toString()}`);\n}\n\nexport async function updateMemberRole(\n  groupId: string,\n  userId: string,\n  role: GroupMemberRole\n): Promise<{ success: boolean }> {\n  return apiClient.put(`/groups/${groupId}/members/${userId}`, { role });\n}\n\nexport async function removeMember(\n  groupId: string,\n  userId: string\n): Promise<{ success: boolean }> {\n  return apiClient.delete(`/groups/${groupId}/members/${userId}`);\n}\n\n// ============================================\n// Join Requests\n// ============================================\n\nexport async function getJoinRequests(\n  groupId: string,\n  status?: GroupJoinRequestStatus\n): Promise<GroupJoinRequest[]> {\n  const params = status ? `?status=${status}` : '';\n  return apiClient.get(`/groups/${groupId}/requests${params}`);\n}\n\nexport async function handleJoinRequest(\n  groupId: string,\n  requestId: string,\n  action: 'approve' | 'reject'\n): Promise<{ success: boolean }> {\n  return apiClient.post(`/groups/${groupId}/requests/${requestId}`, { action });\n}\n\n// ============================================\n// Group Invites\n// ============================================\n\nexport async function inviteToGroup(\n  groupId: string,\n  userId: string,\n  message?: string\n): Promise<{ success: boolean; message: string }> {\n  return apiClient.post(`/groups/${groupId}/invites`, { userId, message });\n}\n\nexport async function getGroupInvites(\n  groupId: string,\n  status?: GroupInviteStatus\n): Promise<{ invites: GroupInvite[] }> {\n  const params = status ? `?status=${status}` : '';\n  return apiClient.get(`/groups/${groupId}/invites${params}`);\n}\n\nexport async function getUserPendingInvites(): Promise<{ invites: GroupInvite[] }> {\n  return apiClient.get('/groups/invites/pending');\n}\n\nexport async function respondToInvite(\n  inviteId: string,\n  action: 'accept' | 'decline'\n): Promise<{ success: boolean; message: string; groupSlug?: string }> {\n  return apiClient.post(`/groups/invites/${inviteId}`, { action });\n}\n\nexport async function cancelInvite(\n  groupId: string,\n  inviteId: string\n): Promise<{ success: boolean }> {\n  return apiClient.delete(`/groups/${groupId}/invites/${inviteId}`);\n}\n\n// ============================================\n// Group Posts\n// ============================================\n\nexport async function createGroupPost(\n  groupId: string,\n  data: {\n    content?: string;\n    mediaUrls?: string[];\n    mediaType?: string;\n  }\n): Promise<GroupPost> {\n  return apiClient.post(`/groups/${groupId}/posts`, data);\n}\n\nexport async function getGroupPosts(\n  groupId: string,\n  options?: {\n    page?: number;\n    limit?: number;\n    pinnedFirst?: boolean;\n  }\n): Promise<GroupPostsResponse> {\n  const params = new URLSearchParams();\n  if (options?.page) params.append('page', String(options.page));\n  if (options?.limit) params.append('limit', String(options.limit));\n  if (options?.pinnedFirst !== undefined) params.append('pinnedFirst', String(options.pinnedFirst));\n\n  return apiClient.get(`/groups/${groupId}/posts?${params.toString()}`);\n}\n\nexport async function toggleGroupPostLike(\n  groupId: string,\n  postId: string,\n  reactionType = 'like'\n): Promise<{ liked: boolean }> {\n  return apiClient.post(`/groups/${groupId}/posts/${postId}/like`, { reactionType });\n}\n\nexport async function pinGroupPost(\n  groupId: string,\n  postId: string,\n  isPinned: boolean\n): Promise<GroupPost> {\n  return apiClient.put(`/groups/${groupId}/posts/${postId}/pin`, { isPinned });\n}\n\nexport async function deleteGroupPost(\n  groupId: string,\n  postId: string\n): Promise<{ success: boolean }> {\n  return apiClient.delete(`/groups/${groupId}/posts/${postId}`);\n}\n\n// ============================================\n// Group Chat\n// ============================================\n\nexport async function getGroupMessages(\n  groupId: string,\n  options?: {\n    before?: string;\n    limit?: number;\n  }\n): Promise<GroupMessage[]> {\n  const params = new URLSearchParams();\n  if (options?.before) params.append('before', options.before);\n  if (options?.limit) params.append('limit', String(options.limit));\n\n  return apiClient.get(`/groups/${groupId}/messages?${params.toString()}`);\n}\n\nexport async function sendGroupMessage(\n  groupId: string,\n  data: {\n    content: string;\n    contentType?: string;\n    mediaUrl?: string;\n    mediaType?: string;\n    fileName?: string;\n    fileSize?: number;\n    replyToId?: string;\n  }\n): Promise<GroupMessage> {\n  return apiClient.post(`/groups/${groupId}/messages`, data);\n}\n\nexport async function addGroupMessageReaction(\n  groupId: string,\n  messageId: string,\n  emoji: string\n): Promise<{ action: 'added' | 'updated' | 'removed' }> {\n  return apiClient.post(`/groups/${groupId}/messages/${messageId}/reactions`, { emoji });\n}\n\nexport async function deleteGroupMessage(\n  groupId: string,\n  messageId: string\n): Promise<{ success: boolean }> {\n  return apiClient.delete(`/groups/${groupId}/messages/${messageId}`);\n}\n\n// ============================================\n// Group Image Uploads\n// ============================================\n\n/**\n * Upload group icon/profile image\n */\nexport async function uploadGroupIcon(groupId: string, file: File): Promise<{ iconUrl: string }> {\n  const formData = new FormData();\n  formData.append('image', file);\n  return apiClient.post(`/groups/${groupId}/upload/icon`, formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  });\n}\n\n/**\n * Upload group cover/banner image\n */\nexport async function uploadGroupCover(groupId: string, file: File): Promise<{ coverUrl: string }> {\n  const formData = new FormData();\n  formData.append('image', file);\n  return apiClient.post(`/groups/${groupId}/upload/cover`, formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  });\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1136, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Videos/vormex/vormex-web/src/components/groups/GroupChat.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport Image from 'next/image';\nimport { format, isToday, isYesterday } from 'date-fns';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Group, GroupMessage, GroupUser, getGroupMessages } from '@/lib/api/groups';\nimport { getSocket, initializeSocket } from '@/lib/socket';\nimport { useAuth } from '@/lib/auth/useAuth';\nimport { cn } from '@/lib/utils';\n\ninterface GroupChatProps {\n  group: Group;\n}\n\nexport default function GroupChat({ group }: GroupChatProps) {\n  const { user } = useAuth();\n  const [messages, setMessages] = useState<GroupMessage[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState('');\n  const [typingUsers, setTypingUsers] = useState<GroupUser[]>([]);\n  const [onlineCount, setOnlineCount] = useState(0);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const typingTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const [isTyping, setIsTyping] = useState(false);\n\n  // Scroll to bottom\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  // Fetch messages\n  useEffect(() => {\n    const fetchMessages = async () => {\n      try {\n        setLoading(true);\n        const data = await getGroupMessages(group.id);\n        setMessages(data);\n        setTimeout(scrollToBottom, 100);\n      } catch (error) {\n        console.error('Failed to fetch messages:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchMessages();\n  }, [group.id]);\n\n  // Setup socket\n  useEffect(() => {\n    initializeSocket();\n    const socket = getSocket();\n    if (!socket) return;\n\n    // Join group chat room\n    socket.emit('group:join', { groupId: group.id });\n\n    // Listen for new messages\n    socket.on('group:new_message', (newMessage: GroupMessage) => {\n      setMessages(prev => [...prev, newMessage]);\n      scrollToBottom();\n    });\n\n    // Listen for typing indicators\n    socket.on('group:user_typing', (data: { groupId: string; user: GroupUser; isTyping: boolean }) => {\n      if (data.groupId !== group.id || data.user.id === user?.id) return;\n      \n      setTypingUsers(prev => {\n        if (data.isTyping) {\n          if (!prev.find(u => u.id === data.user.id)) {\n            return [...prev, data.user];\n          }\n        } else {\n          return prev.filter(u => u.id !== data.user.id);\n        }\n        return prev;\n      });\n    });\n\n    // Listen for online count\n    socket.on('group:online_count', (data: { groupId: string; count: number }) => {\n      if (data.groupId === group.id) {\n        setOnlineCount(data.count);\n      }\n    });\n\n    socket.on('group:user_joined', (data: { groupId: string; onlineCount: number }) => {\n      if (data.groupId === group.id) {\n        setOnlineCount(data.onlineCount);\n      }\n    });\n\n    socket.on('group:user_left', (data: { groupId: string; onlineCount: number }) => {\n      if (data.groupId === group.id) {\n        setOnlineCount(data.onlineCount);\n      }\n    });\n\n    // Listen for message deletions\n    socket.on('group:message_deleted', (data: { groupId: string; messageId: string }) => {\n      if (data.groupId === group.id) {\n        setMessages(prev => prev.filter(m => m.id !== data.messageId));\n      }\n    });\n\n    // Cleanup\n    return () => {\n      socket.emit('group:leave', { groupId: group.id });\n      socket.off('group:new_message');\n      socket.off('group:user_typing');\n      socket.off('group:online_count');\n      socket.off('group:user_joined');\n      socket.off('group:user_left');\n      socket.off('group:message_deleted');\n    };\n  }, [group.id, user?.id]);\n\n  // Handle typing indicator\n  const handleTyping = useCallback(() => {\n    const socket = getSocket();\n    if (!socket) return;\n\n    if (!isTyping) {\n      setIsTyping(true);\n      socket.emit('group:typing', { groupId: group.id, isTyping: true });\n    }\n\n    if (typingTimeoutRef.current) {\n      clearTimeout(typingTimeoutRef.current);\n    }\n\n    typingTimeoutRef.current = setTimeout(() => {\n      setIsTyping(false);\n      socket.emit('group:typing', { groupId: group.id, isTyping: false });\n    }, 2000);\n  }, [group.id, isTyping]);\n\n  // Send message\n  const handleSend = () => {\n    if (!message.trim()) return;\n\n    const socket = getSocket();\n    if (!socket) return;\n\n    socket.emit('group:message', {\n      groupId: group.id,\n      content: message.trim(),\n      tempId: `temp-${Date.now()}`,\n    });\n\n    setMessage('');\n    \n    // Stop typing indicator\n    if (typingTimeoutRef.current) {\n      clearTimeout(typingTimeoutRef.current);\n    }\n    setIsTyping(false);\n    socket.emit('group:typing', { groupId: group.id, isTyping: false });\n  };\n\n  // Format message time\n  const formatMessageTime = (dateStr: string) => {\n    const date = new Date(dateStr);\n    return format(date, 'HH:mm');\n  };\n\n  // Group messages by date\n  const groupedMessages = messages.reduce((acc, msg) => {\n    const date = new Date(msg.createdAt);\n    let dateLabel = format(date, 'MMMM d, yyyy');\n    if (isToday(date)) dateLabel = 'Today';\n    else if (isYesterday(date)) dateLabel = 'Yesterday';\n    \n    if (!acc[dateLabel]) acc[dateLabel] = [];\n    acc[dateLabel].push(msg);\n    return acc;\n  }, {} as Record<string, GroupMessage[]>);\n\n  if (loading) {\n    return (\n      <div className=\"flex-1 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-full bg-gray-50 dark:bg-gray-900\">\n      {/* Header */}\n      <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 rounded-xl overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold\">\n            {group.iconImage ? (\n              <Image src={group.iconImage} alt={group.name} width={40} height={40} className=\"object-cover\" />\n            ) : (\n              group.name.charAt(0).toUpperCase()\n            )}\n          </div>\n          <div>\n            <h2 className=\"font-semibold text-gray-900 dark:text-white\">{group.name}</h2>\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n              {onlineCount} online ‚Ä¢ {group.memberCount} members\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Messages */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n        {Object.entries(groupedMessages).map(([date, msgs]) => (\n          <div key={date}>\n            {/* Date divider */}\n            <div className=\"flex items-center justify-center my-4\">\n              <span className=\"px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 text-xs rounded-full\">\n                {date}\n              </span>\n            </div>\n\n            {/* Messages for this date */}\n            {msgs.map((msg, index) => {\n              const isOwn = msg.senderId === user?.id;\n              const showAvatar = !isOwn && (index === 0 || msgs[index - 1]?.senderId !== msg.senderId);\n\n              return (\n                <motion.div\n                  key={msg.id}\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  className={cn(\"flex gap-2 mb-2\", isOwn ? \"justify-end\" : \"justify-start\")}\n                >\n                  {/* Avatar */}\n                  {!isOwn && (\n                    <div className={cn(\"w-8 h-8 flex-shrink-0\", !showAvatar && \"invisible\")}>\n                      {msg.sender.profileImage ? (\n                        <Image\n                          src={msg.sender.profileImage}\n                          alt={msg.sender.name}\n                          width={32}\n                          height={32}\n                          className=\"rounded-full object-cover\"\n                        />\n                      ) : (\n                        <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-medium\">\n                          {msg.sender.name.charAt(0).toUpperCase()}\n                        </div>\n                      )}\n                    </div>\n                  )}\n\n                  {/* Message */}\n                  <div className={cn(\"max-w-[70%]\", isOwn ? \"text-right\" : \"text-left\")}>\n                    {/* Sender name */}\n                    {!isOwn && showAvatar && (\n                      <span className=\"text-xs text-gray-500 dark:text-gray-400 ml-1 mb-1 block\">\n                        {msg.sender.name}\n                      </span>\n                    )}\n                    \n                    <div\n                      className={cn(\n                        \"inline-block px-4 py-2 rounded-2xl\",\n                        isOwn\n                          ? \"bg-blue-600 text-white rounded-br-md\"\n                          : \"bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded-bl-md shadow-sm\"\n                      )}\n                    >\n                      {/* Media */}\n                      {msg.mediaUrl && (\n                        <div className=\"mb-2\">\n                          {msg.contentType === 'image' ? (\n                            <Image\n                              src={msg.mediaUrl}\n                              alt=\"Image\"\n                              width={200}\n                              height={200}\n                              className=\"rounded-lg max-w-full\"\n                            />\n                          ) : msg.contentType === 'video' ? (\n                            <video src={msg.mediaUrl} controls className=\"rounded-lg max-w-full\" />\n                          ) : (\n                            <a\n                              href={msg.mediaUrl}\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              className=\"flex items-center gap-2 text-blue-400 hover:underline\"\n                            >\n                              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\n                              </svg>\n                              {msg.fileName || 'Attachment'}\n                            </a>\n                          )}\n                        </div>\n                      )}\n\n                      {/* Text content */}\n                      {msg.content && (\n                        <p className=\"whitespace-pre-wrap break-words\">{msg.content}</p>\n                      )}\n                      \n                      {/* Time */}\n                      <span className={cn(\n                        \"text-xs mt-1 block\",\n                        isOwn ? \"text-blue-200\" : \"text-gray-400\"\n                      )}>\n                        {formatMessageTime(msg.createdAt)}\n                      </span>\n                    </div>\n                  </div>\n                </motion.div>\n              );\n            })}\n          </div>\n        ))}\n\n        {/* Typing indicator */}\n        <AnimatePresence>\n          {typingUsers.length > 0 && (\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -10 }}\n              className=\"flex items-center gap-2 text-gray-500 dark:text-gray-400 text-sm\"\n            >\n              <div className=\"flex -space-x-2\">\n                {typingUsers.slice(0, 3).map((u) => (\n                  <div key={u.id} className=\"w-6 h-6 rounded-full bg-gray-300 dark:bg-gray-600 border-2 border-white dark:border-gray-900 overflow-hidden\">\n                    {u.profileImage ? (\n                      <Image src={u.profileImage} alt={u.name} width={24} height={24} className=\"object-cover\" />\n                    ) : (\n                      <div className=\"w-full h-full flex items-center justify-center text-xs\">\n                        {u.name.charAt(0)}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n              <span>\n                {typingUsers.length === 1\n                  ? `${typingUsers[0].name} is typing...`\n                  : `${typingUsers.length} people are typing...`}\n              </span>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Input */}\n      <div className=\"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4\">\n        <div className=\"flex items-center gap-3\">\n          <button className=\"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors\">\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\n            </svg>\n          </button>\n          \n          <input\n            type=\"text\"\n            value={message}\n            onChange={(e) => {\n              setMessage(e.target.value);\n              handleTyping();\n            }}\n            onKeyDown={(e) => {\n              if (e.key === 'Enter' && !e.shiftKey) {\n                e.preventDefault();\n                handleSend();\n              }\n            }}\n            placeholder=\"Type a message...\"\n            className=\"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-900 rounded-full border-0 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500\"\n          />\n          \n          <button\n            onClick={handleSend}\n            disabled={!message.trim()}\n            className=\"p-2.5 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1765, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Videos/vormex/vormex-web/src/components/groups/CreateGroupModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { createGroup, GroupPrivacy } from '@/lib/api/groups';\n\ninterface CreateGroupModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nconst CATEGORIES = [\n  'Technology',\n  'Career',\n  'Education',\n  'Business',\n  'Design',\n  'Marketing',\n  'Finance',\n  'Health',\n  'Sports',\n  'Entertainment',\n  'Other',\n];\n\nexport default function CreateGroupModal({ isOpen, onClose, onSuccess }: CreateGroupModalProps) {\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [privacy, setPrivacy] = useState<GroupPrivacy>('PUBLIC');\n  const [category, setCategory] = useState('');\n  const [rules, setRules] = useState<string[]>(['']);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleAddRule = () => {\n    setRules([...rules, '']);\n  };\n\n  const handleRemoveRule = (index: number) => {\n    setRules(rules.filter((_, i) => i !== index));\n  };\n\n  const handleRuleChange = (index: number, value: string) => {\n    const newRules = [...rules];\n    newRules[index] = value;\n    setRules(newRules);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n\n    if (!name.trim() || name.trim().length < 3) {\n      setError('Group name must be at least 3 characters');\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      await createGroup({\n        name: name.trim(),\n        description: description.trim() || undefined,\n        privacy,\n        category: category || undefined,\n        rules: rules.filter(r => r.trim()),\n      });\n\n      // Reset form\n      setName('');\n      setDescription('');\n      setPrivacy('PUBLIC');\n      setCategory('');\n      setRules(['']);\n\n      onSuccess();\n      onClose();\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to create group');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\"\n        onClick={onClose}\n      >\n        <motion.div\n          initial={{ scale: 0.95, opacity: 0 }}\n          animate={{ scale: 1, opacity: 1 }}\n          exit={{ scale: 0.95, opacity: 0 }}\n          className=\"w-full max-w-lg bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-h-[90vh] overflow-y-auto\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Header */}\n          <div className=\"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between\">\n            <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n              Create Group\n            </h2>\n            <button\n              onClick={onClose}\n              className=\"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          {/* Form */}\n          <form onSubmit={handleSubmit} className=\"p-6 space-y-5\">\n            {error && (\n              <div className=\"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-lg\">\n                {error}\n              </div>\n            )}\n\n            {/* Name */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Group Name <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                placeholder=\"Enter group name\"\n                className=\"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500\"\n                maxLength={100}\n              />\n            </div>\n\n            {/* Description */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Description\n              </label>\n              <textarea\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                placeholder=\"What is this group about?\"\n                rows={3}\n                className=\"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 resize-none\"\n                maxLength={500}\n              />\n            </div>\n\n            {/* Privacy */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Privacy\n              </label>\n              <div className=\"grid grid-cols-3 gap-3\">\n                {[\n                  { value: 'PUBLIC', label: 'Public', desc: 'Anyone can join' },\n                  { value: 'PRIVATE', label: 'Private', desc: 'Request to join' },\n                  { value: 'SECRET', label: 'Secret', desc: 'Invite only' },\n                ].map((option) => (\n                  <button\n                    key={option.value}\n                    type=\"button\"\n                    onClick={() => setPrivacy(option.value as GroupPrivacy)}\n                    className={`p-3 rounded-lg border-2 text-left transition-colors ${\n                      privacy === option.value\n                        ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                    }`}\n                  >\n                    <span className={`block text-sm font-medium ${\n                      privacy === option.value ? 'text-blue-600 dark:text-blue-400' : 'text-gray-900 dark:text-white'\n                    }`}>\n                      {option.label}\n                    </span>\n                    <span className=\"block text-xs text-gray-500 dark:text-gray-400 mt-0.5\">\n                      {option.desc}\n                    </span>\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Category */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Category\n              </label>\n              <select\n                value={category}\n                onChange={(e) => setCategory(e.target.value)}\n                className=\"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white\"\n              >\n                <option value=\"\">Select a category</option>\n                {CATEGORIES.map((cat) => (\n                  <option key={cat} value={cat}>{cat}</option>\n                ))}\n              </select>\n            </div>\n\n            {/* Rules */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Group Rules\n              </label>\n              <div className=\"space-y-2\">\n                {rules.map((rule, index) => (\n                  <div key={index} className=\"flex items-center gap-2\">\n                    <span className=\"text-sm text-gray-500 dark:text-gray-400 w-6\">{index + 1}.</span>\n                    <input\n                      type=\"text\"\n                      value={rule}\n                      onChange={(e) => handleRuleChange(index, e.target.value)}\n                      placeholder=\"Enter a rule\"\n                      className=\"flex-1 px-3 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 text-sm\"\n                    />\n                    {rules.length > 1 && (\n                      <button\n                        type=\"button\"\n                        onClick={() => handleRemoveRule(index)}\n                        className=\"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors\"\n                      >\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                        </svg>\n                      </button>\n                    )}\n                  </div>\n                ))}\n                {rules.length < 10 && (\n                  <button\n                    type=\"button\"\n                    onClick={handleAddRule}\n                    className=\"flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:underline\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                    Add Rule\n                  </button>\n                )}\n              </div>\n            </div>\n\n            {/* Submit */}\n            <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\n              <button\n                type=\"submit\"\n                disabled={isSubmitting || !name.trim()}\n                className=\"w-full px-4 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                {isSubmitting ? (\n                  <span className=\"flex items-center justify-center gap-2\">\n                    <svg className=\"w-5 h-5 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\" />\n                    </svg>\n                    Creating...\n                  </span>\n                ) : (\n                  'Create Group'\n                )}\n              </button>\n            </div>\n          </form>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2314, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Videos/vormex/vormex-web/src/components/ui/Button.tsx"],"sourcesContent":["import React from 'react';\nimport { cn } from '@/lib/utils';\n\nexport interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';\n  size?: 'default' | 'icon';\n  isLoading?: boolean;\n}\n\nexport function Button({\n  children,\n  variant = 'primary',\n  size = 'default',\n  isLoading = false,\n  disabled,\n  className = '',\n  ...props\n}: ButtonProps) {\n  const baseClasses = 'inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none';\n  \n  const variantClasses = {\n    primary: 'bg-blue-600 text-white hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600',\n    secondary: 'bg-gray-600 text-white hover:bg-gray-700 dark:bg-gray-700 dark:hover:bg-gray-600',\n    outline: 'border border-gray-300 text-gray-700 hover:bg-gray-50 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-800',\n    ghost: 'hover:bg-gray-100 dark:hover:bg-gray-800',\n  };\n\n  const sizeClasses = {\n    default: 'px-4 py-2',\n    icon: 'h-9 w-9',\n  };\n\n  return (\n    <button\n      className={cn(baseClasses, variantClasses[variant], sizeClasses[size], className)}\n      disabled={disabled || isLoading}\n      {...props}\n    >\n      {isLoading ? 'Loading...' : children}\n    </button>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AACA;;;AAQO,SAAS,OAAO,EACrB,QAAQ,EACR,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,YAAY,KAAK,EACjB,QAAQ,EACR,YAAY,EAAE,EACd,GAAG,OACS;IACZ,MAAM,cAAc;IAEpB,MAAM,iBAAiB;QACrB,SAAS;QACT,WAAW;QACX,SAAS;QACT,OAAO;IACT;IAEA,MAAM,cAAc;QAClB,SAAS;QACT,MAAM;IACR;IAEA,qBACE,8OAAC;QACC,WAAW,IAAA,yHAAE,EAAC,aAAa,cAAc,CAAC,QAAQ,EAAE,WAAW,CAAC,KAAK,EAAE;QACvE,UAAU,YAAY;QACrB,GAAG,KAAK;kBAER,YAAY,eAAe;;;;;;AAGlC"}},
    {"offset": {"line": 2349, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Videos/vormex/vormex-web/src/components/profile/ImageCropper.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useCallback, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { X, ZoomIn, ZoomOut, RotateCw, Check, RefreshCw } from 'lucide-react';\n\ninterface ImageCropperProps {\n  imageSrc: string;\n  aspectRatio: number; // width/height ratio (1 for avatar, 4 for banner)\n  onCropComplete: (croppedBlob: Blob) => void;\n  onCancel: () => void;\n  cropShape?: 'circle' | 'rectangle';\n  minWidth?: number;\n  minHeight?: number;\n}\n\ninterface CropArea {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n}\n\nexport default function ImageCropper({\n  imageSrc,\n  aspectRatio,\n  onCropComplete,\n  onCancel,\n  cropShape = 'rectangle',\n  minWidth = 100,\n  minHeight = 100\n}: ImageCropperProps) {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const imageRef = useRef<HTMLImageElement>(null);\n  \n  const [zoom, setZoom] = useState(1);\n  const [rotation, setRotation] = useState(0);\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [imageLoaded, setImageLoaded] = useState(false);\n\n  const handleZoomIn = () => {\n    setZoom((prev) => Math.min(prev + 0.1, 3));\n  };\n\n  const handleZoomOut = () => {\n    setZoom((prev) => Math.max(prev - 0.1, 0.5));\n  };\n\n  const handleRotate = () => {\n    setRotation((prev) => (prev + 90) % 360);\n  };\n\n  const handleReset = () => {\n    setZoom(1);\n    setRotation(0);\n    setPosition({ x: 0, y: 0 });\n  };\n\n  const handleMouseDown = (e: React.MouseEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n    setDragStart({\n      x: e.clientX - position.x,\n      y: e.clientY - position.y\n    });\n  };\n\n  const handleMouseMove = useCallback((e: React.MouseEvent) => {\n    if (!isDragging) return;\n    \n    const newX = e.clientX - dragStart.x;\n    const newY = e.clientY - dragStart.y;\n    \n    // Constrain movement within reasonable bounds\n    const maxOffset = 200 * zoom;\n    setPosition({\n      x: Math.max(-maxOffset, Math.min(maxOffset, newX)),\n      y: Math.max(-maxOffset, Math.min(maxOffset, newY))\n    });\n  }, [isDragging, dragStart, zoom]);\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  const handleTouchStart = (e: React.TouchEvent) => {\n    if (e.touches.length === 1) {\n      const touch = e.touches[0];\n      setIsDragging(true);\n      setDragStart({\n        x: touch.clientX - position.x,\n        y: touch.clientY - position.y\n      });\n    }\n  };\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    if (!isDragging || e.touches.length !== 1) return;\n    \n    const touch = e.touches[0];\n    const newX = touch.clientX - dragStart.x;\n    const newY = touch.clientY - dragStart.y;\n    \n    const maxOffset = 200 * zoom;\n    setPosition({\n      x: Math.max(-maxOffset, Math.min(maxOffset, newX)),\n      y: Math.max(-maxOffset, Math.min(maxOffset, newY))\n    });\n  };\n\n  const handleTouchEnd = () => {\n    setIsDragging(false);\n  };\n\n  const handleCrop = async () => {\n    if (!imageRef.current || isProcessing) return;\n    \n    setIsProcessing(true);\n    \n    try {\n      const image = imageRef.current;\n      const canvas = document.createElement('canvas');\n      const ctx = canvas.getContext('2d');\n      \n      if (!ctx) {\n        throw new Error('Could not get canvas context');\n      }\n\n      // Calculate output dimensions based on aspect ratio\n      const outputWidth = aspectRatio >= 1 ? 800 : 400;\n      const outputHeight = outputWidth / aspectRatio;\n      \n      canvas.width = outputWidth;\n      canvas.height = outputHeight;\n\n      // Clear canvas\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      \n      // Apply circular mask for avatar\n      if (cropShape === 'circle') {\n        ctx.beginPath();\n        ctx.arc(outputWidth / 2, outputHeight / 2, outputWidth / 2, 0, Math.PI * 2);\n        ctx.clip();\n      }\n\n      // Calculate the crop area based on zoom and position\n      const containerSize = Math.min(containerRef.current?.clientWidth || 400, containerRef.current?.clientHeight || 400);\n      const cropSize = aspectRatio >= 1 \n        ? { width: containerSize * 0.8, height: (containerSize * 0.8) / aspectRatio }\n        : { width: (containerSize * 0.8) * aspectRatio, height: containerSize * 0.8 };\n\n      // Save context state\n      ctx.save();\n      \n      // Move to center of canvas\n      ctx.translate(outputWidth / 2, outputHeight / 2);\n      \n      // Apply rotation\n      ctx.rotate((rotation * Math.PI) / 180);\n      \n      // Calculate source dimensions\n      const naturalWidth = image.naturalWidth;\n      const naturalHeight = image.naturalHeight;\n      \n      // Calculate the visible portion of the image\n      const scaleX = naturalWidth / (image.width * zoom);\n      const scaleY = naturalHeight / (image.height * zoom);\n      \n      // Calculate source crop area\n      const srcX = (naturalWidth / 2) - (position.x * scaleX);\n      const srcY = (naturalHeight / 2) - (position.y * scaleY);\n      \n      // Draw the image\n      ctx.drawImage(\n        image,\n        -outputWidth / 2,\n        -outputHeight / 2,\n        outputWidth,\n        outputHeight\n      );\n      \n      // Restore context\n      ctx.restore();\n      \n      // Actually crop properly by redrawing with transforms\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      \n      if (cropShape === 'circle') {\n        ctx.beginPath();\n        ctx.arc(outputWidth / 2, outputHeight / 2, outputWidth / 2, 0, Math.PI * 2);\n        ctx.clip();\n      }\n      \n      // Center the context\n      ctx.translate(outputWidth / 2, outputHeight / 2);\n      ctx.rotate((rotation * Math.PI) / 180);\n      ctx.scale(zoom, zoom);\n      ctx.translate(position.x / zoom, position.y / zoom);\n      \n      // Draw image centered\n      const scale = Math.max(outputWidth / naturalWidth, outputHeight / naturalHeight);\n      const scaledWidth = naturalWidth * scale;\n      const scaledHeight = naturalHeight * scale;\n      \n      ctx.drawImage(\n        image,\n        -scaledWidth / 2,\n        -scaledHeight / 2,\n        scaledWidth,\n        scaledHeight\n      );\n\n      // Convert to blob\n      canvas.toBlob(\n        (blob) => {\n          if (blob) {\n            onCropComplete(blob);\n          } else {\n            throw new Error('Failed to create image blob');\n          }\n        },\n        'image/jpeg',\n        0.95\n      );\n    } catch (error) {\n      console.error('Crop error:', error);\n      setIsProcessing(false);\n    }\n  };\n\n  const handleImageLoad = () => {\n    setImageLoaded(true);\n  };\n\n  // Calculate crop area dimensions\n  const getCropAreaStyle = (): React.CSSProperties => {\n    const size = 280;\n    const width = aspectRatio >= 1 ? size : size * aspectRatio;\n    const height = aspectRatio >= 1 ? size / aspectRatio : size;\n    \n    return {\n      width: `${width}px`,\n      height: `${height}px`,\n      borderRadius: cropShape === 'circle' ? '50%' : '8px',\n    };\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black/90\"\n    >\n      <div className=\"relative w-full max-w-2xl mx-4\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold text-white\">\n            Crop Image\n          </h3>\n          <button\n            onClick={onCancel}\n            className=\"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Crop Area */}\n        <div\n          ref={containerRef}\n          className=\"relative w-full aspect-square bg-gray-900 rounded-xl overflow-hidden cursor-move select-none\"\n          onMouseDown={handleMouseDown}\n          onMouseMove={handleMouseMove}\n          onMouseUp={handleMouseUp}\n          onMouseLeave={handleMouseUp}\n          onTouchStart={handleTouchStart}\n          onTouchMove={handleTouchMove}\n          onTouchEnd={handleTouchEnd}\n        >\n          {/* Image */}\n          <div\n            className=\"absolute inset-0 flex items-center justify-center\"\n            style={{\n              transform: `translate(${position.x}px, ${position.y}px) scale(${zoom}) rotate(${rotation}deg)`,\n              transition: isDragging ? 'none' : 'transform 0.1s ease-out',\n            }}\n          >\n            <img\n              ref={imageRef}\n              src={imageSrc}\n              alt=\"Crop preview\"\n              className=\"max-w-none\"\n              style={{\n                maxWidth: '100%',\n                maxHeight: '100%',\n                objectFit: 'contain',\n              }}\n              onLoad={handleImageLoad}\n              draggable={false}\n            />\n          </div>\n\n          {/* Overlay with crop window */}\n          <div className=\"absolute inset-0 pointer-events-none\">\n            {/* Dark overlay */}\n            <div className=\"absolute inset-0 bg-black/60\" />\n            \n            {/* Transparent crop area */}\n            <div\n              className=\"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 border-2 border-white shadow-lg\"\n              style={{\n                ...getCropAreaStyle(),\n                boxShadow: '0 0 0 9999px rgba(0, 0, 0, 0.6)',\n              }}\n            >\n              {/* Corner indicators */}\n              <div className=\"absolute -left-1 -top-1 w-4 h-4 border-l-2 border-t-2 border-white\" />\n              <div className=\"absolute -right-1 -top-1 w-4 h-4 border-r-2 border-t-2 border-white\" />\n              <div className=\"absolute -left-1 -bottom-1 w-4 h-4 border-l-2 border-b-2 border-white\" />\n              <div className=\"absolute -right-1 -bottom-1 w-4 h-4 border-r-2 border-b-2 border-white\" />\n            </div>\n          </div>\n\n          {/* Loading indicator */}\n          {!imageLoaded && (\n            <div className=\"absolute inset-0 flex items-center justify-center bg-gray-900\">\n              <div className=\"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\" />\n            </div>\n          )}\n        </div>\n\n        {/* Controls */}\n        <div className=\"flex items-center justify-between mt-4 px-2\">\n          {/* Zoom controls */}\n          <div className=\"flex items-center gap-3\">\n            <button\n              onClick={handleZoomOut}\n              disabled={zoom <= 0.5}\n              className=\"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <ZoomOut className=\"w-5 h-5\" />\n            </button>\n            \n            <div className=\"flex items-center gap-2\">\n              <input\n                type=\"range\"\n                min=\"0.5\"\n                max=\"3\"\n                step=\"0.1\"\n                value={zoom}\n                onChange={(e) => setZoom(parseFloat(e.target.value))}\n                className=\"w-32 h-1 bg-gray-700 rounded-full appearance-none cursor-pointer\n                  [&::-webkit-slider-thumb]:appearance-none\n                  [&::-webkit-slider-thumb]:w-4\n                  [&::-webkit-slider-thumb]:h-4\n                  [&::-webkit-slider-thumb]:bg-white\n                  [&::-webkit-slider-thumb]:rounded-full\n                  [&::-webkit-slider-thumb]:cursor-pointer\n                  [&::-webkit-slider-thumb]:shadow-md\"\n              />\n              <span className=\"text-sm text-gray-400 w-12 text-center\">\n                {Math.round(zoom * 100)}%\n              </span>\n            </div>\n            \n            <button\n              onClick={handleZoomIn}\n              disabled={zoom >= 3}\n              className=\"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              <ZoomIn className=\"w-5 h-5\" />\n            </button>\n          </div>\n\n          {/* Rotate & Reset */}\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={handleRotate}\n              className=\"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors\"\n              title=\"Rotate 90¬∞\"\n            >\n              <RotateCw className=\"w-5 h-5\" />\n            </button>\n            <button\n              onClick={handleReset}\n              className=\"p-2 text-gray-400 hover:text-white rounded-full hover:bg-white/10 transition-colors\"\n              title=\"Reset\"\n            >\n              <RefreshCw className=\"w-5 h-5\" />\n            </button>\n          </div>\n        </div>\n\n        {/* Action buttons */}\n        <div className=\"flex items-center justify-end gap-3 mt-6\">\n          <button\n            onClick={onCancel}\n            className=\"px-4 py-2 text-gray-300 hover:text-white rounded-lg hover:bg-white/10 transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleCrop}\n            disabled={isProcessing || !imageLoaded}\n            className=\"flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {isProcessing ? (\n              <>\n                <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\" />\n                Processing...\n              </>\n            ) : (\n              <>\n                <Check className=\"w-4 h-4\" />\n                Apply\n              </>\n            )}\n          </button>\n        </div>\n\n        {/* Instructions */}\n        <p className=\"text-center text-sm text-gray-500 mt-4\">\n          Drag to reposition ‚Ä¢ Scroll or use slider to zoom ‚Ä¢ Click rotate to adjust orientation\n        </p>\n      </div>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2905, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Videos/vormex/vormex-web/src/components/groups/GroupImageUploadModal.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport * as Dialog from '@radix-ui/react-dialog';\nimport {\n  X,\n  Upload,\n  Image as ImageIcon,\n  Loader2,\n  Crop,\n} from 'lucide-react';\nimport { Button } from '@/components/ui/Button';\nimport { uploadGroupIcon, uploadGroupCover } from '@/lib/api/groups';\nimport ImageCropper from '@/components/profile/ImageCropper';\n\ninterface GroupImageUploadModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  type: 'icon' | 'cover';\n  groupId: string;\n  currentImageUrl?: string | null;\n  onImageUpdated: (imageUrl: string) => void;\n}\n\nexport function GroupImageUploadModal({\n  isOpen,\n  onClose,\n  type,\n  groupId,\n  currentImageUrl,\n  onImageUpdated,\n}: GroupImageUploadModalProps) {\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [croppedFile, setCroppedFile] = useState<File | null>(null);\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n  const [rawImageUrl, setRawImageUrl] = useState<string | null>(null);\n  const [showCropper, setShowCropper] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [dragActive, setDragActive] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const isIcon = type === 'icon';\n  const title = isIcon ? 'Update Group Icon' : 'Update Group Cover';\n  const aspectRatio = isIcon ? 'aspect-square' : 'aspect-[4/1]';\n  const cropAspectRatio = isIcon ? 1 : 4; // 1:1 for icon, 4:1 for cover\n  const maxSize = isIcon ? 5 : 10; // MB\n\n  const handleFileSelect = useCallback((file: File) => {\n    // Validate file type\n    if (!file.type.startsWith('image/')) {\n      setError('Please select an image file');\n      return;\n    }\n\n    // Validate file size\n    const sizeMB = file.size / (1024 * 1024);\n    if (sizeMB > maxSize) {\n      setError(`Image must be less than ${maxSize}MB`);\n      return;\n    }\n\n    setError(null);\n    setSelectedFile(file);\n\n    // Create preview for cropper\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      setRawImageUrl(e.target?.result as string);\n      setShowCropper(true);\n    };\n    reader.readAsDataURL(file);\n  }, [maxSize]);\n\n  const handleCropComplete = useCallback((croppedBlob: Blob) => {\n    // Convert blob to file\n    const croppedFile = new File(\n      [croppedBlob],\n      selectedFile?.name || 'cropped-image.jpg',\n      { type: 'image/jpeg' }\n    );\n    \n    setCroppedFile(croppedFile);\n    \n    // Create preview URL from cropped blob\n    const url = URL.createObjectURL(croppedBlob);\n    setPreviewUrl(url);\n    setShowCropper(false);\n  }, [selectedFile]);\n\n  const handleCropCancel = useCallback(() => {\n    setShowCropper(false);\n    setRawImageUrl(null);\n    setSelectedFile(null);\n  }, []);\n\n  const handleReCrop = useCallback(() => {\n    if (rawImageUrl) {\n      setShowCropper(true);\n    }\n  }, [rawImageUrl]);\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setDragActive(false);\n\n    const file = e.dataTransfer.files[0];\n    if (file) {\n      handleFileSelect(file);\n    }\n  }, [handleFileSelect]);\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setDragActive(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setDragActive(false);\n  }, []);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      handleFileSelect(file);\n    }\n  };\n\n  const handleUpload = async () => {\n    const fileToUpload = croppedFile || selectedFile;\n    if (!fileToUpload) return;\n\n    setUploading(true);\n    setError(null);\n\n    try {\n      let imageUrl: string;\n      \n      if (isIcon) {\n        const result = await uploadGroupIcon(groupId, fileToUpload);\n        imageUrl = result.iconUrl;\n      } else {\n        const result = await uploadGroupCover(groupId, fileToUpload);\n        imageUrl = result.coverUrl;\n      }\n\n      onImageUpdated(imageUrl);\n      handleClose();\n    } catch (err: any) {\n      console.error('Upload error:', err);\n      setError(err.response?.data?.error || err.message || 'Failed to upload image');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleClose = () => {\n    setSelectedFile(null);\n    setCroppedFile(null);\n    setPreviewUrl(null);\n    setRawImageUrl(null);\n    setShowCropper(false);\n    setError(null);\n    setDragActive(false);\n    onClose();\n  };\n\n  const clearSelection = () => {\n    setSelectedFile(null);\n    setCroppedFile(null);\n    setPreviewUrl(null);\n    setRawImageUrl(null);\n    setError(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  return (\n    <>\n      {/* Image Cropper */}\n      <AnimatePresence>\n        {showCropper && rawImageUrl && (\n          <ImageCropper\n            imageSrc={rawImageUrl}\n            aspectRatio={cropAspectRatio}\n            onCropComplete={handleCropComplete}\n            onCancel={handleCropCancel}\n            cropShape={isIcon ? 'rectangle' : 'rectangle'}\n          />\n        )}\n      </AnimatePresence>\n\n      <Dialog.Root open={isOpen && !showCropper} onOpenChange={handleClose}>\n        <Dialog.Portal>\n          <AnimatePresence>\n            {isOpen && !showCropper && (\n              <>\n                <Dialog.Overlay asChild>\n                  <motion.div\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    exit={{ opacity: 0 }}\n                    className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50\"\n                  />\n                </Dialog.Overlay>\n\n                <Dialog.Content asChild>\n                  <motion.div\n                    initial={{ opacity: 0, scale: 0.95, y: 20 }}\n                    animate={{ opacity: 1, scale: 1, y: 0 }}\n                    exit={{ opacity: 0, scale: 0.95, y: 20 }}\n                    className=\"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-lg bg-white dark:bg-gray-900 rounded-2xl shadow-2xl z-50 overflow-hidden\"\n                  >\n                    {/* Header */}\n                    <div className=\"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700\">\n                      <Dialog.Title className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                        {title}\n                      </Dialog.Title>\n                      <Dialog.Close asChild>\n                        <button\n                          className=\"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\n                          aria-label=\"Close\"\n                        >\n                          <X className=\"w-5 h-5\" />\n                        </button>\n                      </Dialog.Close>\n                    </div>\n\n                    {/* Content */}\n                    <div className=\"p-6\">\n                      {/* Error Message */}\n                      {error && (\n                        <div className=\"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-lg\">\n                          {error}\n                        </div>\n                      )}\n\n                      {/* Preview or Upload Area */}\n                      {previewUrl ? (\n                        <div className=\"space-y-4\">\n                          {/* Preview */}\n                          <div className={`relative ${aspectRatio} w-full bg-gray-100 dark:bg-gray-800 rounded-xl overflow-hidden`}>\n                            <img\n                              src={previewUrl}\n                              alt=\"Preview\"\n                              className=\"w-full h-full object-cover\"\n                            />\n                          </div>\n\n                          {/* Actions */}\n                          <div className=\"flex gap-3\">\n                            <Button\n                              variant=\"outline\"\n                              onClick={handleReCrop}\n                              className=\"flex-1\"\n                            >\n                              <Crop className=\"w-4 h-4 mr-2\" />\n                              Re-crop\n                            </Button>\n                            <Button\n                              variant=\"outline\"\n                              onClick={clearSelection}\n                              className=\"flex-1\"\n                            >\n                              Choose Different\n                            </Button>\n                          </div>\n                        </div>\n                      ) : (\n                        /* Upload Area */\n                        <div\n                          onDrop={handleDrop}\n                          onDragOver={handleDragOver}\n                          onDragLeave={handleDragLeave}\n                          className={`relative border-2 border-dashed rounded-xl p-8 text-center transition-colors ${\n                            dragActive\n                              ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                              : 'border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500'\n                          }`}\n                        >\n                          <input\n                            ref={fileInputRef}\n                            type=\"file\"\n                            accept=\"image/*\"\n                            onChange={handleInputChange}\n                            className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\n                          />\n\n                          <div className=\"flex flex-col items-center gap-4\">\n                            <div className={`p-4 rounded-full ${\n                              dragActive\n                                ? 'bg-blue-100 dark:bg-blue-900/40'\n                                : 'bg-gray-100 dark:bg-gray-800'\n                            }`}>\n                              {dragActive ? (\n                                <Upload className=\"w-8 h-8 text-blue-500\" />\n                              ) : (\n                                <ImageIcon className=\"w-8 h-8 text-gray-400\" />\n                              )}\n                            </div>\n\n                            <div>\n                              <p className=\"text-gray-700 dark:text-gray-300 font-medium\">\n                                {dragActive ? 'Drop image here' : 'Drag and drop an image'}\n                              </p>\n                              <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n                                or click to browse\n                              </p>\n                            </div>\n\n                            <p className=\"text-xs text-gray-400 dark:text-gray-500\">\n                              {isIcon\n                                ? 'Square image recommended ‚Ä¢ Max 5MB'\n                                : 'Wide image recommended (4:1 ratio) ‚Ä¢ Max 10MB'}\n                            </p>\n                          </div>\n                        </div>\n                      )}\n\n                      {/* Current Image */}\n                      {currentImageUrl && !previewUrl && (\n                        <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700\">\n                          <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-2\">\n                            Current {isIcon ? 'icon' : 'cover'}:\n                          </p>\n                          <div className={`relative ${aspectRatio} w-full max-w-[200px] bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden`}>\n                            <img\n                              src={currentImageUrl}\n                              alt=\"Current\"\n                              className=\"w-full h-full object-cover\"\n                            />\n                          </div>\n                        </div>\n                      )}\n                    </div>\n\n                    {/* Footer */}\n                    <div className=\"flex justify-end gap-3 p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50\">\n                      <Button\n                        variant=\"ghost\"\n                        onClick={handleClose}\n                        disabled={uploading}\n                      >\n                        Cancel\n                      </Button>\n                      <Button\n                        onClick={handleUpload}\n                        disabled={!previewUrl || uploading}\n                        className=\"min-w-[100px]\"\n                      >\n                        {uploading ? (\n                          <>\n                            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                            Uploading...\n                          </>\n                        ) : (\n                          'Save'\n                        )}\n                      </Button>\n                    </div>\n                  </motion.div>\n                </Dialog.Content>\n              </>\n            )}\n          </AnimatePresence>\n        </Dialog.Portal>\n      </Dialog.Root>\n    </>\n  );\n}\n\nexport default GroupImageUploadModal;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3450, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Videos/vormex/vormex-web/src/components/groups/index.ts"],"sourcesContent":["export { default as GroupCard } from './GroupCard';\nexport { default as GroupHeader } from './GroupHeader';\nexport { default as GroupChat } from './GroupChat';\nexport { default as CreateGroupModal } from './CreateGroupModal';\nexport { default as GroupImageUploadModal } from './GroupImageUploadModal';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 3474, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Videos/vormex/vormex-web/src/app/groups/%5Bslug%5D/settings/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, use } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { ProtectedRoute } from '@/components/auth/ProtectedRoute';\nimport { GroupImageUploadModal } from '@/components/groups';\nimport { \n  getGroup, \n  updateGroup,\n  getGroupMembers,\n  updateMemberRole,\n  removeMember,\n  deleteGroup,\n  getJoinRequests,\n  handleJoinRequest,\n  getGroupInvites,\n  inviteToGroup,\n  cancelInvite,\n  Group, \n  GroupMember,\n  GroupJoinRequest,\n  GroupInvite\n} from '@/lib/api/groups';\nimport { searchUsers, SearchUser } from '@/lib/api/people';\n\ninterface GroupSettingsPageProps {\n  params: Promise<{ slug: string }>;\n}\n\ntype SettingsTab = 'general' | 'members' | 'requests' | 'invites' | 'danger';\n\nexport default function GroupSettingsPage({ params }: GroupSettingsPageProps) {\n  const resolvedParams = use(params);\n  const router = useRouter();\n  const [group, setGroup] = useState<Group | null>(null);\n  const [members, setMembers] = useState<GroupMember[]>([]);\n  const [pendingRequests, setPendingRequests] = useState<GroupJoinRequest[]>([]);\n  const [pendingInvites, setPendingInvites] = useState<GroupInvite[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [successMessage, setSuccessMessage] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState<SettingsTab>('general');\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [deleteConfirmText, setDeleteConfirmText] = useState('');\n  const [deleting, setDeleting] = useState(false);\n  const [processingRequest, setProcessingRequest] = useState<string | null>(null);\n  \n  // Invite state\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState<SearchUser[]>([]);\n  const [searching, setSearching] = useState(false);\n  const [inviting, setInviting] = useState<string | null>(null);\n  \n  // Image upload modal state\n  const [showIconModal, setShowIconModal] = useState(false);\n  const [showCoverModal, setShowCoverModal] = useState(false);\n  \n  // Form state\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    rules: '',\n    category: '',\n    privacy: 'PUBLIC' as 'PUBLIC' | 'PRIVATE' | 'SECRET',\n  });\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const [groupData, membersData] = await Promise.all([\n          getGroup(resolvedParams.slug),\n          getGroupMembers(resolvedParams.slug)\n        ]);\n        \n        // Check if user is admin/owner\n        const userRole = groupData.memberRole || groupData.userRole;\n        if (userRole !== 'OWNER' && userRole !== 'ADMIN') {\n          router.push(`/groups/${resolvedParams.slug}`);\n          return;\n        }\n        \n        setGroup(groupData);\n        setMembers(membersData.members || []);\n        setFormData({\n          name: groupData.name,\n          description: groupData.description || '',\n          rules: Array.isArray(groupData.rules) ? groupData.rules.join('\\n') : (groupData.rules || ''),\n          category: groupData.category || '',\n          privacy: groupData.privacy,\n        });\n\n        // Fetch pending join requests for private/secret groups\n        if (groupData.privacy === 'PRIVATE' || groupData.privacy === 'SECRET') {\n          try {\n            const requests = await getJoinRequests(groupData.id, 'PENDING');\n            setPendingRequests(requests);\n          } catch {\n            // Silently fail - requests tab just won't show data\n          }\n        }\n      } catch (err: any) {\n        setError(err.response?.data?.error || 'Failed to load group settings');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [resolvedParams.slug, router]);\n\n  const handleSaveGeneral = async () => {\n    if (!group) return;\n    \n    try {\n      setSaving(true);\n      setError(null);\n      // Convert rules string back to array\n      const rulesArray = formData.rules.split('\\n').map(r => r.trim()).filter(r => r);\n      await updateGroup(group.id, {\n        ...formData,\n        rules: rulesArray,\n      });\n      setSuccessMessage('Settings saved successfully!');\n      setTimeout(() => setSuccessMessage(null), 3000);\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to save settings');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleIconUpdated = (imageUrl: string) => {\n    if (group) {\n      setGroup({ ...group, iconImage: imageUrl });\n      setSuccessMessage('Group icon updated successfully!');\n      setTimeout(() => setSuccessMessage(null), 3000);\n    }\n  };\n\n  const handleCoverUpdated = (imageUrl: string) => {\n    if (group) {\n      setGroup({ ...group, coverImage: imageUrl });\n      setSuccessMessage('Group cover updated successfully!');\n      setTimeout(() => setSuccessMessage(null), 3000);\n    }\n  };\n\n  const handleUpdateRole = async (memberId: string, newRole: 'ADMIN' | 'MODERATOR' | 'MEMBER') => {\n    if (!group) return;\n    \n    try {\n      await updateMemberRole(group.id, memberId, newRole);\n      setMembers(prev => \n        prev.map(m => \n          m.id === memberId ? { ...m, role: newRole } : m\n        )\n      );\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to update role');\n    }\n  };\n\n  const handleRemoveMember = async (memberId: string) => {\n    if (!group || !confirm('Are you sure you want to remove this member?')) return;\n    \n    try {\n      await removeMember(group.id, memberId);\n      setMembers(prev => prev.filter(m => m.id !== memberId));\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to remove member');\n    }\n  };\n\n  const handleRequest = async (requestId: string, action: 'approve' | 'reject') => {\n    if (!group) return;\n    \n    try {\n      setProcessingRequest(requestId);\n      setError(null);\n      await handleJoinRequest(group.id, requestId, action);\n      \n      // Remove the request from the list\n      setPendingRequests(prev => prev.filter(r => r.id !== requestId));\n      \n      if (action === 'approve') {\n        setSuccessMessage('Member approved successfully!');\n        // Refresh members list\n        const membersData = await getGroupMembers(group.id);\n        setMembers(membersData.members || []);\n      } else {\n        setSuccessMessage('Request rejected');\n      }\n      setTimeout(() => setSuccessMessage(null), 3000);\n    } catch (err: any) {\n      setError(err.response?.data?.error || `Failed to ${action} request`);\n    } finally {\n      setProcessingRequest(null);\n    }\n  };\n\n  const handleDeleteGroup = async () => {\n    if (!group || deleteConfirmText !== group.name) return;\n    \n    try {\n      setDeleting(true);\n      await deleteGroup(group.id);\n      router.push('/groups');\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to delete group');\n      setDeleting(false);\n    }\n  };\n\n  const tabs: { id: SettingsTab; label: string; icon: React.ReactNode; badge?: number; hidden?: boolean }[] = [\n    {\n      id: 'general',\n      label: 'General',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n        </svg>\n      )\n    },\n    {\n      id: 'members',\n      label: 'Members',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\" />\n        </svg>\n      )\n    },\n    {\n      id: 'requests',\n      label: 'Requests',\n      badge: pendingRequests.length,\n      hidden: group?.privacy === 'PUBLIC',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\" />\n        </svg>\n      )\n    },\n    {\n      id: 'danger',\n      label: 'Danger Zone',\n      icon: (\n        <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n        </svg>\n      )\n    },\n  ];\n\n  if (loading) {\n    return (\n      <ProtectedRoute>\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\n          <div className=\"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600\"></div>\n        </div>\n      </ProtectedRoute>\n    );\n  }\n\n  if (!group) {\n    return (\n      <ProtectedRoute>\n        <div className=\"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900\">\n          <div className=\"text-center\">\n            <p className=\"text-red-500 mb-4\">Group not found or you don&apos;t have permission</p>\n            <Link href=\"/groups\" className=\"text-blue-600 hover:underline\">\n              Go back to groups\n            </Link>\n          </div>\n        </div>\n      </ProtectedRoute>\n    );\n  }\n\n  return (\n    <ProtectedRoute>\n      <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900 pb-24\">\n        {/* Header */}\n        <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\">\n          <div className=\"max-w-4xl mx-auto px-4 py-4\">\n            <div className=\"flex items-center gap-4\">\n              <Link\n                href={`/groups/${group.slug}`}\n                className=\"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\"\n              >\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n                </svg>\n              </Link>\n              <div>\n                <h1 className=\"text-xl font-bold text-gray-900 dark:text-white\">\n                  Group Settings\n                </h1>\n                <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                  {group.name}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"max-w-4xl mx-auto px-4 py-6\">\n          {/* Messages */}\n          <AnimatePresence>\n            {error && (\n              <motion.div\n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -10 }}\n                className=\"mb-4 p-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl\"\n              >\n                {error}\n              </motion.div>\n            )}\n            {successMessage && (\n              <motion.div\n                initial={{ opacity: 0, y: -10 }}\n                animate={{ opacity: 1, y: 0 }}\n                exit={{ opacity: 0, y: -10 }}\n                className=\"mb-4 p-4 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 rounded-xl\"\n              >\n                {successMessage}\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n          <div className=\"flex flex-col md:flex-row gap-6\">\n            {/* Sidebar Tabs */}\n            <div className=\"md:w-64 shrink-0\">\n              <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm overflow-hidden\">\n                {tabs.filter(tab => !tab.hidden).map(tab => (\n                  <button\n                    key={tab.id}\n                    onClick={() => setActiveTab(tab.id)}\n                    className={`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors ${\n                      activeTab === tab.id\n                        ? 'bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400'\n                        : 'text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700'\n                    } ${tab.id === 'danger' ? 'text-red-600 dark:text-red-400' : ''}`}\n                  >\n                    {tab.icon}\n                    <span className=\"font-medium flex-1\">{tab.label}</span>\n                    {tab.badge !== undefined && tab.badge > 0 && (\n                      <span className=\"px-2 py-0.5 text-xs font-medium bg-blue-600 text-white rounded-full\">\n                        {tab.badge}\n                      </span>\n                    )}\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Content */}\n            <div className=\"flex-1\">\n              {/* General Settings */}\n              {activeTab === 'general' && (\n                <motion.div\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6\"\n                >\n                  <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-6\">\n                    General Settings\n                  </h2>\n\n                  <div className=\"space-y-6\">\n                    {/* Group Images */}\n                    <div className=\"space-y-4\">\n                      <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                        Group Images\n                      </h3>\n                      \n                      {/* Cover Image */}\n                      <div>\n                        <label className=\"block text-sm text-gray-600 dark:text-gray-400 mb-2\">\n                          Cover Image\n                        </label>\n                        <div className=\"relative\">\n                          <div className=\"w-full h-32 rounded-xl overflow-hidden bg-gradient-to-r from-blue-500 to-purple-500\">\n                            {group.coverImage && (\n                              <Image\n                                src={group.coverImage}\n                                alt=\"Group cover\"\n                                fill\n                                className=\"object-cover\"\n                              />\n                            )}\n                          </div>\n                          <button\n                            onClick={() => setShowCoverModal(true)}\n                            className=\"absolute bottom-2 right-2 px-3 py-1.5 bg-white/90 dark:bg-gray-800/90 text-sm font-medium rounded-lg hover:bg-white dark:hover:bg-gray-800 transition-colors\"\n                          >\n                            <svg className=\"w-4 h-4 inline mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z\" />\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 13a3 3 0 11-6 0 3 3 0 016 0z\" />\n                            </svg>\n                            Change Cover\n                          </button>\n                        </div>\n                        <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n                          Click to upload and crop. Recommended: 1200x400 pixels\n                        </p>\n                      </div>\n\n                      {/* Icon Image */}\n                      <div>\n                        <label className=\"block text-sm text-gray-600 dark:text-gray-400 mb-2\">\n                          Group Icon\n                        </label>\n                        <div className=\"flex items-center gap-4\">\n                          <div className=\"relative w-20 h-20 rounded-xl overflow-hidden bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center\">\n                            {group.iconImage ? (\n                              <Image\n                                src={group.iconImage}\n                                alt=\"Group icon\"\n                                fill\n                                className=\"object-cover\"\n                              />\n                            ) : (\n                              <span className=\"text-2xl font-bold text-white\">\n                                {group.name.charAt(0).toUpperCase()}\n                              </span>\n                            )}\n                          </div>\n                          <div>\n                            <button\n                              onClick={() => setShowIconModal(true)}\n                              className=\"px-4 py-2 bg-gray-100 dark:bg-gray-700 text-sm font-medium rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors\"\n                            >\n                              Change Icon\n                            </button>\n                            <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n                              Click to upload and crop. Square image recommended\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    <hr className=\"border-gray-200 dark:border-gray-700\" />\n\n                    {/* Name */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Group Name\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={formData.name}\n                        onChange={e => setFormData({ ...formData, name: e.target.value })}\n                        className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                        placeholder=\"Enter group name\"\n                      />\n                    </div>\n\n                    {/* Description */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Description\n                      </label>\n                      <textarea\n                        value={formData.description}\n                        onChange={e => setFormData({ ...formData, description: e.target.value })}\n                        rows={4}\n                        className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n                        placeholder=\"What is this group about?\"\n                      />\n                    </div>\n\n                    {/* Rules */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Group Rules\n                      </label>\n                      <textarea\n                        value={formData.rules}\n                        onChange={e => setFormData({ ...formData, rules: e.target.value })}\n                        rows={4}\n                        className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none\"\n                        placeholder=\"Enter group rules (one per line)\"\n                      />\n                      <p className=\"mt-1 text-xs text-gray-500 dark:text-gray-400\">\n                        Separate each rule with a new line\n                      </p>\n                    </div>\n\n                    {/* Category */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Category\n                      </label>\n                      <input\n                        type=\"text\"\n                        value={formData.category}\n                        onChange={e => setFormData({ ...formData, category: e.target.value })}\n                        className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                        placeholder=\"e.g., Technology, Sports, Art\"\n                      />\n                    </div>\n\n                    {/* Privacy */}\n                    <div>\n                      <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                        Privacy\n                      </label>\n                      <div className=\"space-y-3\">\n                        {[\n                          { value: 'PUBLIC', label: 'Public', desc: 'Anyone can find and join' },\n                          { value: 'PRIVATE', label: 'Private', desc: 'Anyone can find, but must request to join' },\n                          { value: 'SECRET', label: 'Secret', desc: 'Only members can find and invite others' },\n                        ].map(option => (\n                          <label\n                            key={option.value}\n                            className={`flex items-start gap-3 p-4 rounded-xl border-2 cursor-pointer transition-colors ${\n                              formData.privacy === option.value\n                                ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                                : 'border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500'\n                            }`}\n                          >\n                            <input\n                              type=\"radio\"\n                              name=\"privacy\"\n                              value={option.value}\n                              checked={formData.privacy === option.value}\n                              onChange={e => setFormData({ ...formData, privacy: e.target.value as any })}\n                              className=\"mt-1\"\n                            />\n                            <div>\n                              <p className=\"font-medium text-gray-900 dark:text-white\">\n                                {option.label}\n                              </p>\n                              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                                {option.desc}\n                              </p>\n                            </div>\n                          </label>\n                        ))}\n                      </div>\n                    </div>\n\n                    {/* Save Button */}\n                    <div className=\"pt-4\">\n                      <button\n                        onClick={handleSaveGeneral}\n                        disabled={saving}\n                        className=\"w-full px-6 py-3 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                      >\n                        {saving ? 'Saving...' : 'Save Changes'}\n                      </button>\n                    </div>\n                  </div>\n                </motion.div>\n              )}\n\n              {/* Members Management */}\n              {activeTab === 'members' && (\n                <motion.div\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6\"\n                >\n                  <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-6\">\n                    Manage Members\n                  </h2>\n\n                  <div className=\"space-y-4\">\n                    {members.map(member => (\n                      <div\n                        key={member.id}\n                        className=\"flex items-center justify-between p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50\"\n                      >\n                        <div className=\"flex items-center gap-3\">\n                          <div className=\"relative w-10 h-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600\">\n                            {(member.user.profileImage || member.user.avatar) ? (\n                              <Image\n                                src={member.user.profileImage || member.user.avatar || ''}\n                                alt={member.user.name}\n                                fill\n                                className=\"object-cover\"\n                              />\n                            ) : (\n                              <div className=\"w-full h-full flex items-center justify-center text-gray-500 dark:text-gray-400 font-medium\">\n                                {member.user.name.charAt(0).toUpperCase()}\n                              </div>\n                            )}\n                          </div>\n                          <div>\n                            <p className=\"font-medium text-gray-900 dark:text-white\">\n                              {member.user.name}\n                            </p>\n                            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                              @{member.user.username}\n                            </p>\n                          </div>\n                          <span className={`px-2 py-1 text-xs font-medium rounded-full ${\n                            member.role === 'OWNER'\n                              ? 'bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400'\n                              : member.role === 'ADMIN'\n                              ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400'\n                              : member.role === 'MODERATOR'\n                              ? 'bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400'\n                              : 'bg-gray-100 dark:bg-gray-600 text-gray-600 dark:text-gray-400'\n                          }`}>\n                            {member.role}\n                          </span>\n                        </div>\n\n                        {member.role !== 'OWNER' && (group.memberRole === 'OWNER' || group.userRole === 'OWNER') && (\n                          <div className=\"flex items-center gap-2\">\n                            <select\n                              value={member.role}\n                              onChange={e => handleUpdateRole(member.id, e.target.value as any)}\n                              className=\"px-3 py-1.5 text-sm rounded-lg border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white\"\n                            >\n                              <option value=\"ADMIN\">Admin</option>\n                              <option value=\"MODERATOR\">Moderator</option>\n                              <option value=\"MEMBER\">Member</option>\n                            </select>\n                            <button\n                              onClick={() => handleRemoveMember(member.id)}\n                              className=\"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors\"\n                              title=\"Remove member\"\n                            >\n                              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                              </svg>\n                            </button>\n                          </div>\n                        )}\n                      </div>\n                    ))}\n\n                    {members.length === 0 && (\n                      <div className=\"text-center py-8\">\n                        <p className=\"text-gray-500 dark:text-gray-400\">No members found</p>\n                      </div>\n                    )}\n                  </div>\n                </motion.div>\n              )}\n\n              {/* Join Requests (for Private/Secret groups) */}\n              {activeTab === 'requests' && (group.privacy === 'PRIVATE' || group.privacy === 'SECRET') && (\n                <motion.div\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6\"\n                >\n                  <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white mb-6\">\n                    Pending Requests\n                  </h2>\n\n                  <div className=\"space-y-4\">\n                    {pendingRequests.map(request => (\n                      <div\n                        key={request.id}\n                        className=\"flex items-center justify-between p-4 rounded-xl bg-gray-50 dark:bg-gray-700/50\"\n                      >\n                        <div className=\"flex items-center gap-3\">\n                          <div className=\"relative w-12 h-12 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-600\">\n                            {request.user.profileImage ? (\n                              <Image\n                                src={request.user.profileImage}\n                                alt={request.user.name}\n                                fill\n                                className=\"object-cover\"\n                              />\n                            ) : (\n                              <div className=\"w-full h-full flex items-center justify-center text-gray-500 dark:text-gray-400 font-medium text-lg\">\n                                {request.user.name.charAt(0).toUpperCase()}\n                              </div>\n                            )}\n                          </div>\n                          <div>\n                            <p className=\"font-medium text-gray-900 dark:text-white\">\n                              {request.user.name}\n                            </p>\n                            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                              @{request.user.username}\n                            </p>\n                            {request.message && (\n                              <p className=\"text-sm text-gray-600 dark:text-gray-300 mt-1 italic\">\n                                &ldquo;{request.message}&rdquo;\n                              </p>\n                            )}\n                            <p className=\"text-xs text-gray-400 mt-1\">\n                              Requested {new Date(request.createdAt).toLocaleDateString()}\n                            </p>\n                          </div>\n                        </div>\n\n                        <div className=\"flex items-center gap-2\">\n                          <button\n                            onClick={() => handleRequest(request.id, 'approve')}\n                            disabled={processingRequest === request.id}\n                            className=\"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center gap-2\"\n                          >\n                            {processingRequest === request.id ? (\n                              <svg className=\"animate-spin h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\n                                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                              </svg>\n                            ) : (\n                              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                              </svg>\n                            )}\n                            Approve\n                          </button>\n                          <button\n                            onClick={() => handleRequest(request.id, 'reject')}\n                            disabled={processingRequest === request.id}\n                            className=\"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-700 dark:text-gray-200 text-sm font-medium rounded-lg hover:bg-gray-300 dark:hover:bg-gray-500 transition-colors disabled:opacity-50\"\n                          >\n                            Reject\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n\n                    {pendingRequests.length === 0 && (\n                      <div className=\"text-center py-12\">\n                        <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center\">\n                          <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\" />\n                          </svg>\n                        </div>\n                        <p className=\"text-gray-500 dark:text-gray-400\">No pending requests</p>\n                        <p className=\"text-sm text-gray-400 dark:text-gray-500 mt-1\">\n                          When someone requests to join, they&apos;ll appear here\n                        </p>\n                      </div>\n                    )}\n                  </div>\n                </motion.div>\n              )}\n\n              {/* Danger Zone */}\n              {activeTab === 'danger' && (group.memberRole === 'OWNER' || group.userRole === 'OWNER') && (\n                <motion.div\n                  initial={{ opacity: 0, x: 20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border-2 border-red-200 dark:border-red-800\"\n                >\n                  <h2 className=\"text-lg font-semibold text-red-600 dark:text-red-400 mb-6\">\n                    Danger Zone\n                  </h2>\n\n                  <div className=\"space-y-6\">\n                    <div className=\"p-4 bg-red-50 dark:bg-red-900/20 rounded-xl\">\n                      <h3 className=\"font-medium text-red-600 dark:text-red-400 mb-2\">\n                        Delete Group\n                      </h3>\n                      <p className=\"text-sm text-red-600/80 dark:text-red-400/80 mb-4\">\n                        Once you delete a group, there is no going back. All posts, messages, and members will be permanently deleted.\n                      </p>\n                      <button\n                        onClick={() => setShowDeleteModal(true)}\n                        className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors\"\n                      >\n                        Delete Group\n                      </button>\n                    </div>\n                  </div>\n                </motion.div>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Delete Confirmation Modal */}\n        <AnimatePresence>\n          {showDeleteModal && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\"\n              onClick={() => setShowDeleteModal(false)}\n            >\n              <motion.div\n                initial={{ scale: 0.9, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                exit={{ scale: 0.9, opacity: 0 }}\n                onClick={e => e.stopPropagation()}\n                className=\"bg-white dark:bg-gray-800 rounded-2xl p-6 w-full max-w-md\"\n              >\n                <div className=\"text-center mb-6\">\n                  <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center\">\n                    <svg className=\"w-8 h-8 text-red-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n                    </svg>\n                  </div>\n                  <h3 className=\"text-xl font-bold text-gray-900 dark:text-white mb-2\">\n                    Delete Group?\n                  </h3>\n                  <p className=\"text-gray-600 dark:text-gray-400 mb-4\">\n                    This action cannot be undone. Type <strong>{group.name}</strong> to confirm.\n                  </p>\n                  <input\n                    type=\"text\"\n                    value={deleteConfirmText}\n                    onChange={e => setDeleteConfirmText(e.target.value)}\n                    placeholder=\"Type group name to confirm\"\n                    className=\"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-red-500 focus:border-transparent\"\n                  />\n                </div>\n\n                <div className=\"flex gap-3\">\n                  <button\n                    onClick={() => {\n                      setShowDeleteModal(false);\n                      setDeleteConfirmText('');\n                    }}\n                    className=\"flex-1 px-4 py-3 border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    onClick={handleDeleteGroup}\n                    disabled={deleteConfirmText !== group.name || deleting}\n                    className=\"flex-1 px-4 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {deleting ? 'Deleting...' : 'Delete Group'}\n                  </button>\n                </div>\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        {/* Image Upload Modals */}\n        <GroupImageUploadModal\n          isOpen={showIconModal}\n          onClose={() => setShowIconModal(false)}\n          groupId={group.id}\n          type=\"icon\"\n          currentImageUrl={group.iconImage}\n          onImageUpdated={handleIconUpdated}\n        />\n        <GroupImageUploadModal\n          isOpen={showCoverModal}\n          onClose={() => setShowCoverModal(false)}\n          groupId={group.id}\n          type=\"cover\"\n          currentImageUrl={group.coverImage}\n          onImageUpdated={handleCoverUpdated}\n        />\n      </div>\n    </ProtectedRoute>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}
{"version":3,"sources":["../../../../src/components/groups/GroupCard.tsx","../../../../src/components/groups/GroupHeader.tsx","../../../../src/components/groups/GroupChat.tsx","../../../../src/lib/api/groups.ts","../../../../src/components/groups/CreateGroupModal.tsx","../../../../src/components/groups/GroupImageUploadModal.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { Group } from '@/lib/api/groups';\nimport { cn } from '@/lib/utils';\n\ninterface GroupCardProps {\n  group: Group;\n  onJoin?: (groupId: string) => void;\n  onLeave?: (groupId: string) => void;\n  isJoining?: boolean;\n}\n\nexport default function GroupCard({ group, onJoin, onLeave, isJoining }: GroupCardProps) {\n  const memberCount = group._count?.members || group.memberCount;\n  const postCount = group._count?.posts || group.postCount;\n\n  const privacyBadge = {\n    PUBLIC: { label: 'Public', color: 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400' },\n    PRIVATE: { label: 'Private', color: 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400' },\n    SECRET: { label: 'Secret', color: 'bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400' },\n  };\n\n  const privacy = privacyBadge[group.privacy];\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-md transition-shadow\">\n      {/* Cover Image */}\n      <Link href={`/groups/${group.slug}`}>\n        <div className=\"relative h-32 bg-gradient-to-r from-blue-500 to-purple-600\">\n          {group.coverImage && (\n            <Image\n              src={group.coverImage}\n              alt={group.name}\n              fill\n              className=\"object-cover\"\n            />\n          )}\n          {/* Icon overlay */}\n          {group.iconImage && (\n            <div className=\"absolute -bottom-6 left-4\">\n              <div className=\"w-14 h-14 rounded-xl border-4 border-white dark:border-gray-800 overflow-hidden bg-white dark:bg-gray-800\">\n                <Image\n                  src={group.iconImage}\n                  alt={group.name}\n                  width={56}\n                  height={56}\n                  className=\"object-cover\"\n                />\n              </div>\n            </div>\n          )}\n        </div>\n      </Link>\n\n      {/* Content */}\n      <div className={cn(\"p-4\", group.iconImage && \"pt-8\")}>\n        <div className=\"flex items-start justify-between gap-2\">\n          <Link href={`/groups/${group.slug}`} className=\"flex-1 min-w-0\">\n            <h3 className=\"font-semibold text-gray-900 dark:text-white truncate hover:text-blue-600 dark:hover:text-blue-400 transition-colors\">\n              {group.name}\n            </h3>\n          </Link>\n          <span className={cn(\"px-2 py-0.5 text-xs font-medium rounded-full flex-shrink-0\", privacy.color)}>\n            {privacy.label}\n          </span>\n        </div>\n\n        {group.description && (\n          <p className=\"mt-1 text-sm text-gray-600 dark:text-gray-400 line-clamp-2\">\n            {group.description}\n          </p>\n        )}\n\n        {/* Stats */}\n        <div className=\"mt-3 flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400\">\n          <span className=\"flex items-center gap-1\">\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z\" />\n            </svg>\n            {memberCount.toLocaleString()} members\n          </span>\n          <span className=\"flex items-center gap-1\">\n            <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z\" />\n            </svg>\n            {postCount} posts\n          </span>\n        </div>\n\n        {/* Category tag */}\n        {group.category && (\n          <div className=\"mt-3\">\n            <span className=\"inline-block px-2 py-1 text-xs bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 rounded-md\">\n              {group.category}\n            </span>\n          </div>\n        )}\n\n        {/* Member avatars preview */}\n        {group.members && group.members.length > 0 && (\n          <div className=\"mt-3 flex items-center\">\n            <div className=\"flex -space-x-2\">\n              {group.members.slice(0, 3).map((member) => (\n                <div\n                  key={member.id}\n                  className=\"w-7 h-7 rounded-full border-2 border-white dark:border-gray-800 overflow-hidden bg-gray-200 dark:bg-gray-600\"\n                >\n                  {member.user.profileImage ? (\n                    <Image\n                      src={member.user.profileImage}\n                      alt={member.user.name}\n                      width={28}\n                      height={28}\n                      className=\"object-cover\"\n                    />\n                  ) : (\n                    <div className=\"w-full h-full flex items-center justify-center text-xs font-medium text-gray-600 dark:text-gray-300\">\n                      {member.user.name.charAt(0).toUpperCase()}\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n            {memberCount > 3 && (\n              <span className=\"ml-2 text-xs text-gray-500 dark:text-gray-400\">\n                +{memberCount - 3} more\n              </span>\n            )}\n          </div>\n        )}\n\n        {/* Action Button */}\n        <div className=\"mt-4\">\n          {group.isMember ? (\n            <div className=\"flex items-center gap-2\">\n              <Link\n                href={`/groups/${group.slug}`}\n                className=\"flex-1 px-4 py-2 text-center text-sm font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors\"\n              >\n                View Group\n              </Link>\n              {group.memberRole !== 'OWNER' && onLeave && (\n                <button\n                  onClick={() => onLeave(group.id)}\n                  className=\"p-2 text-gray-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors\"\n                  title=\"Leave group\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\" />\n                  </svg>\n                </button>\n              )}\n            </div>\n          ) : (\n            <button\n              onClick={() => onJoin?.(group.id)}\n              disabled={isJoining}\n              className=\"w-full px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n            >\n              {isJoining ? (\n                <span className=\"flex items-center justify-center gap-2\">\n                  <svg className=\"w-4 h-4 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\" />\n                  </svg>\n                  Joining...\n                </span>\n              ) : group.privacy === 'PRIVATE' ? (\n                'Request to Join'\n              ) : (\n                'Join Group'\n              )}\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { Group, GroupMemberRole } from '@/lib/api/groups';\nimport { cn } from '@/lib/utils';\n\ninterface GroupHeaderProps {\n  group: Group;\n  onJoin?: () => void;\n  onLeave?: () => void;\n  isLoading?: boolean;\n}\n\nexport default function GroupHeader({ group, onJoin, onLeave, isLoading }: GroupHeaderProps) {\n  const router = useRouter();\n  const memberCount = group._count?.members || group.memberCount;\n\n  const privacyInfo = {\n    PUBLIC: { icon: 'üåç', label: 'Public Group' },\n    PRIVATE: { icon: 'üîí', label: 'Private Group' },\n    SECRET: { icon: 'üëÅÔ∏è', label: 'Secret Group' },\n  };\n\n  const privacy = privacyInfo[group.privacy];\n\n  const canManage = group.memberRole && ['OWNER', 'ADMIN'].includes(group.memberRole);\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden\">\n      {/* Cover Image */}\n      <div className=\"relative h-48 md:h-64 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500\">\n        {group.coverImage && (\n          <Image\n            src={group.coverImage}\n            alt={group.name}\n            fill\n            className=\"object-cover\"\n          />\n        )}\n        \n        {/* Back button */}\n        <button\n          onClick={() => router.back()}\n          className=\"absolute top-4 left-4 p-2 bg-black/30 hover:bg-black/50 text-white rounded-full backdrop-blur-sm transition-colors\"\n        >\n          <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 19l-7-7 7-7\" />\n          </svg>\n        </button>\n\n        {/* Settings button for admins */}\n        {canManage && (\n          <Link\n            href={`/groups/${group.slug}/settings`}\n            className=\"absolute top-4 right-4 p-2 bg-black/30 hover:bg-black/50 text-white rounded-full backdrop-blur-sm transition-colors\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n            </svg>\n          </Link>\n        )}\n\n        {/* Group Icon */}\n        <div className=\"absolute -bottom-12 left-6\">\n          <div className=\"w-24 h-24 rounded-2xl border-4 border-white dark:border-gray-800 overflow-hidden bg-white dark:bg-gray-800 shadow-lg\">\n            {group.iconImage ? (\n              <Image\n                src={group.iconImage}\n                alt={group.name}\n                width={96}\n                height={96}\n                className=\"object-cover\"\n              />\n            ) : (\n              <div className=\"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600 text-white text-3xl font-bold\">\n                {group.name.charAt(0).toUpperCase()}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"pt-14 px-6 pb-6\">\n        <div className=\"flex flex-col md:flex-row md:items-start md:justify-between gap-4\">\n          {/* Info */}\n          <div className=\"flex-1\">\n            <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n              {group.name}\n            </h1>\n            <div className=\"flex flex-wrap items-center gap-3 mt-2 text-sm text-gray-600 dark:text-gray-400\">\n              <span className=\"flex items-center gap-1\">\n                {privacy.icon} {privacy.label}\n              </span>\n              <span>‚Ä¢</span>\n              <span className=\"flex items-center gap-1\">\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z\" />\n                </svg>\n                {memberCount.toLocaleString()} members\n              </span>\n              {group.category && (\n                <>\n                  <span>‚Ä¢</span>\n                  <span className=\"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 rounded-full text-xs\">\n                    {group.category}\n                  </span>\n                </>\n              )}\n            </div>\n            {group.description && (\n              <p className=\"mt-3 text-gray-600 dark:text-gray-400 max-w-2xl\">\n                {group.description}\n              </p>\n            )}\n          </div>\n\n          {/* Actions */}\n          <div className=\"flex items-center gap-3\">\n            {group.isMember ? (\n              <>\n                <Link\n                  href={`/groups/${group.slug}/chat`}\n                  className=\"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors\"\n                >\n                  <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\n                  </svg>\n                  Chat\n                </Link>\n                {group.memberRole !== 'OWNER' && onLeave && (\n                  <button\n                    onClick={onLeave}\n                    disabled={isLoading}\n                    className=\"px-4 py-2.5 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 font-medium rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 transition-colors\"\n                  >\n                    Leave\n                  </button>\n                )}\n              </>\n            ) : (\n              <button\n                onClick={onJoin}\n                disabled={isLoading}\n                className=\"flex items-center gap-2 px-6 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors\"\n              >\n                {isLoading ? (\n                  <>\n                    <svg className=\"w-5 h-5 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\" />\n                    </svg>\n                    Joining...\n                  </>\n                ) : group.privacy === 'PRIVATE' ? (\n                  <>\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                    Request to Join\n                  </>\n                ) : (\n                  <>\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                    Join Group\n                  </>\n                )}\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* Role badge for members */}\n        {group.memberRole && (\n          <div className=\"mt-4 inline-flex items-center gap-1.5 px-3 py-1 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-sm font-medium rounded-full\">\n            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n              <path fillRule=\"evenodd\" d=\"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\n            </svg>\n            {group.memberRole.charAt(0) + group.memberRole.slice(1).toLowerCase()}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport { useState, useEffect, useRef, useCallback } from 'react';\nimport Image from 'next/image';\nimport { format, isToday, isYesterday } from 'date-fns';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Group, GroupMessage, GroupUser, getGroupMessages } from '@/lib/api/groups';\nimport { getSocket, initializeSocket } from '@/lib/socket';\nimport { useAuth } from '@/lib/auth/useAuth';\nimport { cn } from '@/lib/utils';\n\ninterface GroupChatProps {\n  group: Group;\n}\n\nexport default function GroupChat({ group }: GroupChatProps) {\n  const { user } = useAuth();\n  const [messages, setMessages] = useState<GroupMessage[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [message, setMessage] = useState('');\n  const [typingUsers, setTypingUsers] = useState<GroupUser[]>([]);\n  const [onlineCount, setOnlineCount] = useState(0);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const typingTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const [isTyping, setIsTyping] = useState(false);\n\n  // Scroll to bottom\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  // Fetch messages\n  useEffect(() => {\n    const fetchMessages = async () => {\n      try {\n        setLoading(true);\n        const data = await getGroupMessages(group.id);\n        setMessages(data);\n        setTimeout(scrollToBottom, 100);\n      } catch (error) {\n        console.error('Failed to fetch messages:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchMessages();\n  }, [group.id]);\n\n  // Setup socket\n  useEffect(() => {\n    initializeSocket();\n    const socket = getSocket();\n    if (!socket) return;\n\n    // Join group chat room\n    socket.emit('group:join', { groupId: group.id });\n\n    // Listen for new messages\n    socket.on('group:new_message', (newMessage: GroupMessage) => {\n      setMessages(prev => [...prev, newMessage]);\n      scrollToBottom();\n    });\n\n    // Listen for typing indicators\n    socket.on('group:user_typing', (data: { groupId: string; user: GroupUser; isTyping: boolean }) => {\n      if (data.groupId !== group.id || data.user.id === user?.id) return;\n      \n      setTypingUsers(prev => {\n        if (data.isTyping) {\n          if (!prev.find(u => u.id === data.user.id)) {\n            return [...prev, data.user];\n          }\n        } else {\n          return prev.filter(u => u.id !== data.user.id);\n        }\n        return prev;\n      });\n    });\n\n    // Listen for online count\n    socket.on('group:online_count', (data: { groupId: string; count: number }) => {\n      if (data.groupId === group.id) {\n        setOnlineCount(data.count);\n      }\n    });\n\n    socket.on('group:user_joined', (data: { groupId: string; onlineCount: number }) => {\n      if (data.groupId === group.id) {\n        setOnlineCount(data.onlineCount);\n      }\n    });\n\n    socket.on('group:user_left', (data: { groupId: string; onlineCount: number }) => {\n      if (data.groupId === group.id) {\n        setOnlineCount(data.onlineCount);\n      }\n    });\n\n    // Listen for message deletions\n    socket.on('group:message_deleted', (data: { groupId: string; messageId: string }) => {\n      if (data.groupId === group.id) {\n        setMessages(prev => prev.filter(m => m.id !== data.messageId));\n      }\n    });\n\n    // Cleanup\n    return () => {\n      socket.emit('group:leave', { groupId: group.id });\n      socket.off('group:new_message');\n      socket.off('group:user_typing');\n      socket.off('group:online_count');\n      socket.off('group:user_joined');\n      socket.off('group:user_left');\n      socket.off('group:message_deleted');\n    };\n  }, [group.id, user?.id]);\n\n  // Handle typing indicator\n  const handleTyping = useCallback(() => {\n    const socket = getSocket();\n    if (!socket) return;\n\n    if (!isTyping) {\n      setIsTyping(true);\n      socket.emit('group:typing', { groupId: group.id, isTyping: true });\n    }\n\n    if (typingTimeoutRef.current) {\n      clearTimeout(typingTimeoutRef.current);\n    }\n\n    typingTimeoutRef.current = setTimeout(() => {\n      setIsTyping(false);\n      socket.emit('group:typing', { groupId: group.id, isTyping: false });\n    }, 2000);\n  }, [group.id, isTyping]);\n\n  // Send message\n  const handleSend = () => {\n    if (!message.trim()) return;\n\n    const socket = getSocket();\n    if (!socket) return;\n\n    socket.emit('group:message', {\n      groupId: group.id,\n      content: message.trim(),\n      tempId: `temp-${Date.now()}`,\n    });\n\n    setMessage('');\n    \n    // Stop typing indicator\n    if (typingTimeoutRef.current) {\n      clearTimeout(typingTimeoutRef.current);\n    }\n    setIsTyping(false);\n    socket.emit('group:typing', { groupId: group.id, isTyping: false });\n  };\n\n  // Format message time\n  const formatMessageTime = (dateStr: string) => {\n    const date = new Date(dateStr);\n    return format(date, 'HH:mm');\n  };\n\n  // Group messages by date\n  const groupedMessages = messages.reduce((acc, msg) => {\n    const date = new Date(msg.createdAt);\n    let dateLabel = format(date, 'MMMM d, yyyy');\n    if (isToday(date)) dateLabel = 'Today';\n    else if (isYesterday(date)) dateLabel = 'Yesterday';\n    \n    if (!acc[dateLabel]) acc[dateLabel] = [];\n    acc[dateLabel].push(msg);\n    return acc;\n  }, {} as Record<string, GroupMessage[]>);\n\n  if (loading) {\n    return (\n      <div className=\"flex-1 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-full bg-gray-50 dark:bg-gray-900\">\n      {/* Header */}\n      <div className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-10 h-10 rounded-xl overflow-hidden bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold\">\n            {group.iconImage ? (\n              <Image src={group.iconImage} alt={group.name} width={40} height={40} className=\"object-cover\" />\n            ) : (\n              group.name.charAt(0).toUpperCase()\n            )}\n          </div>\n          <div>\n            <h2 className=\"font-semibold text-gray-900 dark:text-white\">{group.name}</h2>\n            <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n              {onlineCount} online ‚Ä¢ {group.memberCount} members\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Messages */}\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n        {Object.entries(groupedMessages).map(([date, msgs]) => (\n          <div key={date}>\n            {/* Date divider */}\n            <div className=\"flex items-center justify-center my-4\">\n              <span className=\"px-3 py-1 bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 text-xs rounded-full\">\n                {date}\n              </span>\n            </div>\n\n            {/* Messages for this date */}\n            {msgs.map((msg, index) => {\n              const isOwn = msg.senderId === user?.id;\n              const showAvatar = !isOwn && (index === 0 || msgs[index - 1]?.senderId !== msg.senderId);\n\n              return (\n                <motion.div\n                  key={msg.id}\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  className={cn(\"flex gap-2 mb-2\", isOwn ? \"justify-end\" : \"justify-start\")}\n                >\n                  {/* Avatar */}\n                  {!isOwn && (\n                    <div className={cn(\"w-8 h-8 flex-shrink-0\", !showAvatar && \"invisible\")}>\n                      {msg.sender.profileImage ? (\n                        <Image\n                          src={msg.sender.profileImage}\n                          alt={msg.sender.name}\n                          width={32}\n                          height={32}\n                          className=\"rounded-full object-cover\"\n                        />\n                      ) : (\n                        <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-sm font-medium\">\n                          {msg.sender.name.charAt(0).toUpperCase()}\n                        </div>\n                      )}\n                    </div>\n                  )}\n\n                  {/* Message */}\n                  <div className={cn(\"max-w-[70%]\", isOwn ? \"text-right\" : \"text-left\")}>\n                    {/* Sender name */}\n                    {!isOwn && showAvatar && (\n                      <span className=\"text-xs text-gray-500 dark:text-gray-400 ml-1 mb-1 block\">\n                        {msg.sender.name}\n                      </span>\n                    )}\n                    \n                    <div\n                      className={cn(\n                        \"inline-block px-4 py-2 rounded-2xl\",\n                        isOwn\n                          ? \"bg-blue-600 text-white rounded-br-md\"\n                          : \"bg-white dark:bg-gray-800 text-gray-900 dark:text-white rounded-bl-md shadow-sm\"\n                      )}\n                    >\n                      {/* Media */}\n                      {msg.mediaUrl && (\n                        <div className=\"mb-2\">\n                          {msg.contentType === 'image' ? (\n                            <Image\n                              src={msg.mediaUrl}\n                              alt=\"Image\"\n                              width={200}\n                              height={200}\n                              className=\"rounded-lg max-w-full\"\n                            />\n                          ) : msg.contentType === 'video' ? (\n                            <video src={msg.mediaUrl} controls className=\"rounded-lg max-w-full\" />\n                          ) : (\n                            <a\n                              href={msg.mediaUrl}\n                              target=\"_blank\"\n                              rel=\"noopener noreferrer\"\n                              className=\"flex items-center gap-2 text-blue-400 hover:underline\"\n                            >\n                              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\n                              </svg>\n                              {msg.fileName || 'Attachment'}\n                            </a>\n                          )}\n                        </div>\n                      )}\n\n                      {/* Text content */}\n                      {msg.content && (\n                        <p className=\"whitespace-pre-wrap break-words\">{msg.content}</p>\n                      )}\n                      \n                      {/* Time */}\n                      <span className={cn(\n                        \"text-xs mt-1 block\",\n                        isOwn ? \"text-blue-200\" : \"text-gray-400\"\n                      )}>\n                        {formatMessageTime(msg.createdAt)}\n                      </span>\n                    </div>\n                  </div>\n                </motion.div>\n              );\n            })}\n          </div>\n        ))}\n\n        {/* Typing indicator */}\n        <AnimatePresence>\n          {typingUsers.length > 0 && (\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -10 }}\n              className=\"flex items-center gap-2 text-gray-500 dark:text-gray-400 text-sm\"\n            >\n              <div className=\"flex -space-x-2\">\n                {typingUsers.slice(0, 3).map((u) => (\n                  <div key={u.id} className=\"w-6 h-6 rounded-full bg-gray-300 dark:bg-gray-600 border-2 border-white dark:border-gray-900 overflow-hidden\">\n                    {u.profileImage ? (\n                      <Image src={u.profileImage} alt={u.name} width={24} height={24} className=\"object-cover\" />\n                    ) : (\n                      <div className=\"w-full h-full flex items-center justify-center text-xs\">\n                        {u.name.charAt(0)}\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n              <span>\n                {typingUsers.length === 1\n                  ? `${typingUsers[0].name} is typing...`\n                  : `${typingUsers.length} people are typing...`}\n              </span>\n            </motion.div>\n          )}\n        </AnimatePresence>\n\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Input */}\n      <div className=\"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4\">\n        <div className=\"flex items-center gap-3\">\n          <button className=\"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors\">\n            <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13\" />\n            </svg>\n          </button>\n          \n          <input\n            type=\"text\"\n            value={message}\n            onChange={(e) => {\n              setMessage(e.target.value);\n              handleTyping();\n            }}\n            onKeyDown={(e) => {\n              if (e.key === 'Enter' && !e.shiftKey) {\n                e.preventDefault();\n                handleSend();\n              }\n            }}\n            placeholder=\"Type a message...\"\n            className=\"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-900 rounded-full border-0 focus:ring-2 focus:ring-blue-500 text-gray-900 dark:text-white placeholder-gray-500\"\n          />\n          \n          <button\n            onClick={handleSend}\n            disabled={!message.trim()}\n            className=\"p-2.5 bg-blue-600 text-white rounded-full hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import apiClient from './client';\n\n// ============================================\n// Types\n// ============================================\n\nexport type GroupPrivacy = 'PUBLIC' | 'PRIVATE' | 'SECRET';\nexport type GroupMemberRole = 'OWNER' | 'ADMIN' | 'MODERATOR' | 'MEMBER';\nexport type GroupJoinRequestStatus = 'PENDING' | 'APPROVED' | 'REJECTED';\n\nexport interface GroupUser {\n  id: string;\n  name: string;\n  username: string;\n  profileImage: string | null;\n  avatar?: string | null; // Alias for profileImage\n  headline?: string | null;\n}\n\nexport interface Group {\n  id: string;\n  name: string;\n  slug: string;\n  description: string | null;\n  coverImage: string | null;\n  iconImage: string | null;\n  privacy: GroupPrivacy;\n  category: string | null;\n  tags: string[];\n  rules: string[];\n  createdById: string;\n  createdBy: GroupUser;\n  memberCount: number;\n  postCount: number;\n  allowMemberPosts: boolean;\n  requirePostApproval: boolean;\n  createdAt: string;\n  updatedAt: string;\n  isMember: boolean;\n  memberRole: GroupMemberRole | null;\n  userRole?: GroupMemberRole | null; // Alias for memberRole\n  joinedAt?: string;\n  members?: GroupMember[];\n  _count?: {\n    members: number;\n    posts: number;\n    messages?: number;\n  };\n}\n\nexport interface GroupMember {\n  id: string;\n  groupId: string;\n  userId: string;\n  user: GroupUser;\n  role: GroupMemberRole;\n  joinedAt: string;\n  mutedUntil: string | null;\n}\n\nexport interface GroupJoinRequest {\n  id: string;\n  groupId: string;\n  userId: string;\n  user: GroupUser;\n  status: GroupJoinRequestStatus;\n  message: string | null;\n  reviewedById: string | null;\n  reviewedBy: GroupUser | null;\n  reviewedAt: string | null;\n  createdAt: string;\n}\n\nexport type GroupInviteStatus = 'PENDING' | 'ACCEPTED' | 'DECLINED' | 'EXPIRED';\n\nexport interface GroupInvite {\n  id: string;\n  groupId: string;\n  invitedUserId: string;\n  invitedUser: GroupUser;\n  invitedById: string;\n  invitedBy: GroupUser;\n  status: GroupInviteStatus;\n  message: string | null;\n  respondedAt: string | null;\n  createdAt: string;\n  group?: {\n    id: string;\n    name: string;\n    slug: string;\n    iconImage: string | null;\n    privacy: GroupPrivacy;\n    memberCount: number;\n  };\n}\n\nexport interface GroupPost {\n  id: string;\n  groupId: string;\n  authorId: string;\n  author: GroupUser;\n  content: string | null;\n  mediaUrls: string[];\n  mediaType: string | null;\n  likesCount: number;\n  commentsCount: number;\n  isPinned: boolean;\n  isApproved: boolean;\n  createdAt: string;\n  updatedAt: string;\n  isLiked?: boolean;\n  _count?: {\n    likes: number;\n    comments: number;\n  };\n}\n\nexport interface GroupPostComment {\n  id: string;\n  postId: string;\n  authorId: string;\n  author: GroupUser;\n  parentId: string | null;\n  content: string;\n  likesCount: number;\n  createdAt: string;\n  updatedAt: string;\n  replies?: GroupPostComment[];\n}\n\nexport interface GroupMessage {\n  id: string;\n  groupId: string;\n  senderId: string;\n  sender: GroupUser;\n  content: string;\n  contentType: string;\n  mediaUrl: string | null;\n  mediaType: string | null;\n  fileName: string | null;\n  fileSize: number | null;\n  replyToId: string | null;\n  replyTo: GroupMessage | null;\n  isDeleted: boolean;\n  createdAt: string;\n  updatedAt: string;\n  reactions: GroupMessageReaction[];\n}\n\nexport interface GroupMessageReaction {\n  id: string;\n  messageId: string;\n  userId: string;\n  user: GroupUser;\n  emoji: string;\n  createdAt: string;\n}\n\nexport interface PaginatedResponse<T> {\n  pagination: {\n    page: number;\n    limit: number;\n    total: number;\n    totalPages: number;\n  };\n}\n\nexport interface GroupsResponse extends PaginatedResponse<Group> {\n  groups: Group[];\n}\n\nexport interface GroupMembersResponse extends PaginatedResponse<GroupMember> {\n  members: GroupMember[];\n}\n\nexport interface GroupPostsResponse extends PaginatedResponse<GroupPost> {\n  posts: GroupPost[];\n}\n\nexport interface GroupCategory {\n  name: string;\n  count: number;\n}\n\n// ============================================\n// Group CRUD\n// ============================================\n\nexport async function createGroup(data: {\n  name: string;\n  description?: string;\n  privacy?: GroupPrivacy;\n  category?: string;\n  tags?: string[];\n  rules?: string[];\n  coverImage?: string;\n  iconImage?: string;\n}): Promise<Group> {\n  return apiClient.post('/groups', data);\n}\n\nexport async function getGroup(identifier: string): Promise<Group> {\n  return apiClient.get(`/groups/${identifier}`);\n}\n\nexport async function updateGroup(\n  groupId: string,\n  data: Partial<{\n    name: string;\n    description: string;\n    privacy: GroupPrivacy;\n    category: string;\n    tags: string[];\n    rules: string[];\n    coverImage: string;\n    iconImage: string;\n    allowMemberPosts: boolean;\n    requirePostApproval: boolean;\n  }>\n): Promise<Group> {\n  return apiClient.put(`/groups/${groupId}`, data);\n}\n\nexport async function deleteGroup(groupId: string): Promise<{ success: boolean }> {\n  return apiClient.delete(`/groups/${groupId}`);\n}\n\n// ============================================\n// Group Discovery\n// ============================================\n\nexport async function listGroups(options?: {\n  search?: string;\n  category?: string;\n  privacy?: GroupPrivacy;\n  page?: number;\n  limit?: number;\n}): Promise<GroupsResponse> {\n  const params = new URLSearchParams();\n  if (options?.search) params.append('search', options.search);\n  if (options?.category) params.append('category', options.category);\n  if (options?.privacy) params.append('privacy', options.privacy);\n  if (options?.page) params.append('page', String(options.page));\n  if (options?.limit) params.append('limit', String(options.limit));\n\n  return apiClient.get(`/groups?${params.toString()}`);\n}\n\nexport async function getMyGroups(page = 1, limit = 20): Promise<GroupsResponse> {\n  return apiClient.get(`/groups/my?page=${page}&limit=${limit}`);\n}\n\nexport async function discoverGroups(page = 1, limit = 20): Promise<GroupsResponse> {\n  return apiClient.get(`/groups/discover?page=${page}&limit=${limit}`);\n}\n\nexport async function getCategories(): Promise<GroupCategory[]> {\n  return apiClient.get('/groups/categories');\n}\n\n// ============================================\n// Membership\n// ============================================\n\nexport async function joinGroup(\n  groupId: string,\n  message?: string\n): Promise<{ status: 'joined' | 'pending'; message: string }> {\n  return apiClient.post(`/groups/${groupId}/join`, { message });\n}\n\nexport async function leaveGroup(groupId: string): Promise<{ success: boolean }> {\n  return apiClient.post(`/groups/${groupId}/leave`);\n}\n\nexport async function getGroupMembers(\n  groupId: string,\n  options?: {\n    role?: GroupMemberRole;\n    search?: string;\n    page?: number;\n    limit?: number;\n  }\n): Promise<GroupMembersResponse> {\n  const params = new URLSearchParams();\n  if (options?.role) params.append('role', options.role);\n  if (options?.search) params.append('search', options.search);\n  if (options?.page) params.append('page', String(options.page));\n  if (options?.limit) params.append('limit', String(options.limit));\n\n  return apiClient.get(`/groups/${groupId}/members?${params.toString()}`);\n}\n\nexport async function updateMemberRole(\n  groupId: string,\n  userId: string,\n  role: GroupMemberRole\n): Promise<{ success: boolean }> {\n  return apiClient.put(`/groups/${groupId}/members/${userId}`, { role });\n}\n\nexport async function removeMember(\n  groupId: string,\n  userId: string\n): Promise<{ success: boolean }> {\n  return apiClient.delete(`/groups/${groupId}/members/${userId}`);\n}\n\n// ============================================\n// Join Requests\n// ============================================\n\nexport async function getJoinRequests(\n  groupId: string,\n  status?: GroupJoinRequestStatus\n): Promise<GroupJoinRequest[]> {\n  const params = status ? `?status=${status}` : '';\n  return apiClient.get(`/groups/${groupId}/requests${params}`);\n}\n\nexport async function handleJoinRequest(\n  groupId: string,\n  requestId: string,\n  action: 'approve' | 'reject'\n): Promise<{ success: boolean }> {\n  return apiClient.post(`/groups/${groupId}/requests/${requestId}`, { action });\n}\n\n// ============================================\n// Group Invites\n// ============================================\n\nexport async function inviteToGroup(\n  groupId: string,\n  userId: string,\n  message?: string\n): Promise<{ success: boolean; message: string }> {\n  return apiClient.post(`/groups/${groupId}/invites`, { userId, message });\n}\n\nexport async function getGroupInvites(\n  groupId: string,\n  status?: GroupInviteStatus\n): Promise<{ invites: GroupInvite[] }> {\n  const params = status ? `?status=${status}` : '';\n  return apiClient.get(`/groups/${groupId}/invites${params}`);\n}\n\nexport async function getUserPendingInvites(): Promise<{ invites: GroupInvite[] }> {\n  return apiClient.get('/groups/invites/pending');\n}\n\nexport async function respondToInvite(\n  inviteId: string,\n  action: 'accept' | 'decline'\n): Promise<{ success: boolean; message: string; groupSlug?: string }> {\n  return apiClient.post(`/groups/invites/${inviteId}`, { action });\n}\n\nexport async function cancelInvite(\n  groupId: string,\n  inviteId: string\n): Promise<{ success: boolean }> {\n  return apiClient.delete(`/groups/${groupId}/invites/${inviteId}`);\n}\n\n// ============================================\n// Group Posts\n// ============================================\n\nexport async function createGroupPost(\n  groupId: string,\n  data: {\n    content?: string;\n    mediaUrls?: string[];\n    mediaType?: string;\n  }\n): Promise<GroupPost> {\n  return apiClient.post(`/groups/${groupId}/posts`, data);\n}\n\nexport async function getGroupPosts(\n  groupId: string,\n  options?: {\n    page?: number;\n    limit?: number;\n    pinnedFirst?: boolean;\n  }\n): Promise<GroupPostsResponse> {\n  const params = new URLSearchParams();\n  if (options?.page) params.append('page', String(options.page));\n  if (options?.limit) params.append('limit', String(options.limit));\n  if (options?.pinnedFirst !== undefined) params.append('pinnedFirst', String(options.pinnedFirst));\n\n  return apiClient.get(`/groups/${groupId}/posts?${params.toString()}`);\n}\n\nexport async function toggleGroupPostLike(\n  groupId: string,\n  postId: string,\n  reactionType = 'like'\n): Promise<{ liked: boolean }> {\n  return apiClient.post(`/groups/${groupId}/posts/${postId}/like`, { reactionType });\n}\n\nexport async function pinGroupPost(\n  groupId: string,\n  postId: string,\n  isPinned: boolean\n): Promise<GroupPost> {\n  return apiClient.put(`/groups/${groupId}/posts/${postId}/pin`, { isPinned });\n}\n\nexport async function deleteGroupPost(\n  groupId: string,\n  postId: string\n): Promise<{ success: boolean }> {\n  return apiClient.delete(`/groups/${groupId}/posts/${postId}`);\n}\n\n// ============================================\n// Group Chat\n// ============================================\n\nexport async function getGroupMessages(\n  groupId: string,\n  options?: {\n    before?: string;\n    limit?: number;\n  }\n): Promise<GroupMessage[]> {\n  const params = new URLSearchParams();\n  if (options?.before) params.append('before', options.before);\n  if (options?.limit) params.append('limit', String(options.limit));\n\n  return apiClient.get(`/groups/${groupId}/messages?${params.toString()}`);\n}\n\nexport async function sendGroupMessage(\n  groupId: string,\n  data: {\n    content: string;\n    contentType?: string;\n    mediaUrl?: string;\n    mediaType?: string;\n    fileName?: string;\n    fileSize?: number;\n    replyToId?: string;\n  }\n): Promise<GroupMessage> {\n  return apiClient.post(`/groups/${groupId}/messages`, data);\n}\n\nexport async function addGroupMessageReaction(\n  groupId: string,\n  messageId: string,\n  emoji: string\n): Promise<{ action: 'added' | 'updated' | 'removed' }> {\n  return apiClient.post(`/groups/${groupId}/messages/${messageId}/reactions`, { emoji });\n}\n\nexport async function deleteGroupMessage(\n  groupId: string,\n  messageId: string\n): Promise<{ success: boolean }> {\n  return apiClient.delete(`/groups/${groupId}/messages/${messageId}`);\n}\n\n// ============================================\n// Group Image Uploads\n// ============================================\n\n/**\n * Upload group icon/profile image\n */\nexport async function uploadGroupIcon(groupId: string, file: File): Promise<{ iconUrl: string }> {\n  const formData = new FormData();\n  formData.append('image', file);\n  return apiClient.post(`/groups/${groupId}/upload/icon`, formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  });\n}\n\n/**\n * Upload group cover/banner image\n */\nexport async function uploadGroupCover(groupId: string, file: File): Promise<{ coverUrl: string }> {\n  const formData = new FormData();\n  formData.append('image', file);\n  return apiClient.post(`/groups/${groupId}/upload/cover`, formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  });\n}\n","'use client';\n\nimport { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { createGroup, GroupPrivacy } from '@/lib/api/groups';\n\ninterface CreateGroupModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onSuccess: () => void;\n}\n\nconst CATEGORIES = [\n  'Technology',\n  'Career',\n  'Education',\n  'Business',\n  'Design',\n  'Marketing',\n  'Finance',\n  'Health',\n  'Sports',\n  'Entertainment',\n  'Other',\n];\n\nexport default function CreateGroupModal({ isOpen, onClose, onSuccess }: CreateGroupModalProps) {\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [privacy, setPrivacy] = useState<GroupPrivacy>('PUBLIC');\n  const [category, setCategory] = useState('');\n  const [rules, setRules] = useState<string[]>(['']);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleAddRule = () => {\n    setRules([...rules, '']);\n  };\n\n  const handleRemoveRule = (index: number) => {\n    setRules(rules.filter((_, i) => i !== index));\n  };\n\n  const handleRuleChange = (index: number, value: string) => {\n    const newRules = [...rules];\n    newRules[index] = value;\n    setRules(newRules);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n\n    if (!name.trim() || name.trim().length < 3) {\n      setError('Group name must be at least 3 characters');\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      await createGroup({\n        name: name.trim(),\n        description: description.trim() || undefined,\n        privacy,\n        category: category || undefined,\n        rules: rules.filter(r => r.trim()),\n      });\n\n      // Reset form\n      setName('');\n      setDescription('');\n      setPrivacy('PUBLIC');\n      setCategory('');\n      setRules(['']);\n\n      onSuccess();\n      onClose();\n    } catch (err: any) {\n      setError(err.response?.data?.error || 'Failed to create group');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\"\n        onClick={onClose}\n      >\n        <motion.div\n          initial={{ scale: 0.95, opacity: 0 }}\n          animate={{ scale: 1, opacity: 1 }}\n          exit={{ scale: 0.95, opacity: 0 }}\n          className=\"w-full max-w-lg bg-white dark:bg-gray-800 rounded-2xl shadow-xl max-h-[90vh] overflow-y-auto\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Header */}\n          <div className=\"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 flex items-center justify-between\">\n            <h2 className=\"text-xl font-semibold text-gray-900 dark:text-white\">\n              Create Group\n            </h2>\n            <button\n              onClick={onClose}\n              className=\"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          {/* Form */}\n          <form onSubmit={handleSubmit} className=\"p-6 space-y-5\">\n            {error && (\n              <div className=\"p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-lg\">\n                {error}\n              </div>\n            )}\n\n            {/* Name */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Group Name <span className=\"text-red-500\">*</span>\n              </label>\n              <input\n                type=\"text\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                placeholder=\"Enter group name\"\n                className=\"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500\"\n                maxLength={100}\n              />\n            </div>\n\n            {/* Description */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Description\n              </label>\n              <textarea\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                placeholder=\"What is this group about?\"\n                rows={3}\n                className=\"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 resize-none\"\n                maxLength={500}\n              />\n            </div>\n\n            {/* Privacy */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Privacy\n              </label>\n              <div className=\"grid grid-cols-3 gap-3\">\n                {[\n                  { value: 'PUBLIC', label: 'Public', desc: 'Anyone can join' },\n                  { value: 'PRIVATE', label: 'Private', desc: 'Request to join' },\n                  { value: 'SECRET', label: 'Secret', desc: 'Invite only' },\n                ].map((option) => (\n                  <button\n                    key={option.value}\n                    type=\"button\"\n                    onClick={() => setPrivacy(option.value as GroupPrivacy)}\n                    className={`p-3 rounded-lg border-2 text-left transition-colors ${\n                      privacy === option.value\n                        ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                        : 'border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600'\n                    }`}\n                  >\n                    <span className={`block text-sm font-medium ${\n                      privacy === option.value ? 'text-blue-600 dark:text-blue-400' : 'text-gray-900 dark:text-white'\n                    }`}>\n                      {option.label}\n                    </span>\n                    <span className=\"block text-xs text-gray-500 dark:text-gray-400 mt-0.5\">\n                      {option.desc}\n                    </span>\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* Category */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                Category\n              </label>\n              <select\n                value={category}\n                onChange={(e) => setCategory(e.target.value)}\n                className=\"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white\"\n              >\n                <option value=\"\">Select a category</option>\n                {CATEGORIES.map((cat) => (\n                  <option key={cat} value={cat}>{cat}</option>\n                ))}\n              </select>\n            </div>\n\n            {/* Rules */}\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n                Group Rules\n              </label>\n              <div className=\"space-y-2\">\n                {rules.map((rule, index) => (\n                  <div key={index} className=\"flex items-center gap-2\">\n                    <span className=\"text-sm text-gray-500 dark:text-gray-400 w-6\">{index + 1}.</span>\n                    <input\n                      type=\"text\"\n                      value={rule}\n                      onChange={(e) => handleRuleChange(index, e.target.value)}\n                      placeholder=\"Enter a rule\"\n                      className=\"flex-1 px-3 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-900 dark:text-white placeholder-gray-500 text-sm\"\n                    />\n                    {rules.length > 1 && (\n                      <button\n                        type=\"button\"\n                        onClick={() => handleRemoveRule(index)}\n                        className=\"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors\"\n                      >\n                        <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                        </svg>\n                      </button>\n                    )}\n                  </div>\n                ))}\n                {rules.length < 10 && (\n                  <button\n                    type=\"button\"\n                    onClick={handleAddRule}\n                    className=\"flex items-center gap-1 text-sm text-blue-600 dark:text-blue-400 hover:underline\"\n                  >\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4v16m8-8H4\" />\n                    </svg>\n                    Add Rule\n                  </button>\n                )}\n              </div>\n            </div>\n\n            {/* Submit */}\n            <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\n              <button\n                type=\"submit\"\n                disabled={isSubmitting || !name.trim()}\n                className=\"w-full px-4 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                {isSubmitting ? (\n                  <span className=\"flex items-center justify-center gap-2\">\n                    <svg className=\"w-5 h-5 animate-spin\" fill=\"none\" viewBox=\"0 0 24 24\">\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\" />\n                    </svg>\n                    Creating...\n                  </span>\n                ) : (\n                  'Create Group'\n                )}\n              </button>\n            </div>\n          </form>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n","'use client';\n\nimport { useState, useRef, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport * as Dialog from '@radix-ui/react-dialog';\nimport {\n  X,\n  Upload,\n  Image as ImageIcon,\n  Loader2,\n  Crop,\n} from 'lucide-react';\nimport { Button } from '@/components/ui/Button';\nimport { uploadGroupIcon, uploadGroupCover } from '@/lib/api/groups';\nimport ImageCropper from '@/components/profile/ImageCropper';\n\ninterface GroupImageUploadModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  type: 'icon' | 'cover';\n  groupId: string;\n  currentImageUrl?: string | null;\n  onImageUpdated: (imageUrl: string) => void;\n}\n\nexport function GroupImageUploadModal({\n  isOpen,\n  onClose,\n  type,\n  groupId,\n  currentImageUrl,\n  onImageUpdated,\n}: GroupImageUploadModalProps) {\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [croppedFile, setCroppedFile] = useState<File | null>(null);\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n  const [rawImageUrl, setRawImageUrl] = useState<string | null>(null);\n  const [showCropper, setShowCropper] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [dragActive, setDragActive] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const isIcon = type === 'icon';\n  const title = isIcon ? 'Update Group Icon' : 'Update Group Cover';\n  const aspectRatio = isIcon ? 'aspect-square' : 'aspect-[4/1]';\n  const cropAspectRatio = isIcon ? 1 : 4; // 1:1 for icon, 4:1 for cover\n  const maxSize = isIcon ? 5 : 10; // MB\n\n  const handleFileSelect = useCallback((file: File) => {\n    // Validate file type\n    if (!file.type.startsWith('image/')) {\n      setError('Please select an image file');\n      return;\n    }\n\n    // Validate file size\n    const sizeMB = file.size / (1024 * 1024);\n    if (sizeMB > maxSize) {\n      setError(`Image must be less than ${maxSize}MB`);\n      return;\n    }\n\n    setError(null);\n    setSelectedFile(file);\n\n    // Create preview for cropper\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      setRawImageUrl(e.target?.result as string);\n      setShowCropper(true);\n    };\n    reader.readAsDataURL(file);\n  }, [maxSize]);\n\n  const handleCropComplete = useCallback((croppedBlob: Blob) => {\n    // Convert blob to file\n    const croppedFile = new File(\n      [croppedBlob],\n      selectedFile?.name || 'cropped-image.jpg',\n      { type: 'image/jpeg' }\n    );\n    \n    setCroppedFile(croppedFile);\n    \n    // Create preview URL from cropped blob\n    const url = URL.createObjectURL(croppedBlob);\n    setPreviewUrl(url);\n    setShowCropper(false);\n  }, [selectedFile]);\n\n  const handleCropCancel = useCallback(() => {\n    setShowCropper(false);\n    setRawImageUrl(null);\n    setSelectedFile(null);\n  }, []);\n\n  const handleReCrop = useCallback(() => {\n    if (rawImageUrl) {\n      setShowCropper(true);\n    }\n  }, [rawImageUrl]);\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setDragActive(false);\n\n    const file = e.dataTransfer.files[0];\n    if (file) {\n      handleFileSelect(file);\n    }\n  }, [handleFileSelect]);\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setDragActive(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setDragActive(false);\n  }, []);\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      handleFileSelect(file);\n    }\n  };\n\n  const handleUpload = async () => {\n    const fileToUpload = croppedFile || selectedFile;\n    if (!fileToUpload) return;\n\n    setUploading(true);\n    setError(null);\n\n    try {\n      let imageUrl: string;\n      \n      if (isIcon) {\n        const result = await uploadGroupIcon(groupId, fileToUpload);\n        imageUrl = result.iconUrl;\n      } else {\n        const result = await uploadGroupCover(groupId, fileToUpload);\n        imageUrl = result.coverUrl;\n      }\n\n      onImageUpdated(imageUrl);\n      handleClose();\n    } catch (err: any) {\n      console.error('Upload error:', err);\n      setError(err.response?.data?.error || err.message || 'Failed to upload image');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const handleClose = () => {\n    setSelectedFile(null);\n    setCroppedFile(null);\n    setPreviewUrl(null);\n    setRawImageUrl(null);\n    setShowCropper(false);\n    setError(null);\n    setDragActive(false);\n    onClose();\n  };\n\n  const clearSelection = () => {\n    setSelectedFile(null);\n    setCroppedFile(null);\n    setPreviewUrl(null);\n    setRawImageUrl(null);\n    setError(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  return (\n    <>\n      {/* Image Cropper */}\n      <AnimatePresence>\n        {showCropper && rawImageUrl && (\n          <ImageCropper\n            imageSrc={rawImageUrl}\n            aspectRatio={cropAspectRatio}\n            onCropComplete={handleCropComplete}\n            onCancel={handleCropCancel}\n            cropShape={isIcon ? 'rectangle' : 'rectangle'}\n          />\n        )}\n      </AnimatePresence>\n\n      <Dialog.Root open={isOpen && !showCropper} onOpenChange={handleClose}>\n        <Dialog.Portal>\n          <AnimatePresence>\n            {isOpen && !showCropper && (\n              <>\n                <Dialog.Overlay asChild>\n                  <motion.div\n                    initial={{ opacity: 0 }}\n                    animate={{ opacity: 1 }}\n                    exit={{ opacity: 0 }}\n                    className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50\"\n                  />\n                </Dialog.Overlay>\n\n                <Dialog.Content asChild>\n                  <motion.div\n                    initial={{ opacity: 0, scale: 0.95, y: 20 }}\n                    animate={{ opacity: 1, scale: 1, y: 0 }}\n                    exit={{ opacity: 0, scale: 0.95, y: 20 }}\n                    className=\"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-lg bg-white dark:bg-gray-900 rounded-2xl shadow-2xl z-50 overflow-hidden\"\n                  >\n                    {/* Header */}\n                    <div className=\"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700\">\n                      <Dialog.Title className=\"text-lg font-semibold text-gray-900 dark:text-white\">\n                        {title}\n                      </Dialog.Title>\n                      <Dialog.Close asChild>\n                        <button\n                          className=\"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\n                          aria-label=\"Close\"\n                        >\n                          <X className=\"w-5 h-5\" />\n                        </button>\n                      </Dialog.Close>\n                    </div>\n\n                    {/* Content */}\n                    <div className=\"p-6\">\n                      {/* Error Message */}\n                      {error && (\n                        <div className=\"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-sm rounded-lg\">\n                          {error}\n                        </div>\n                      )}\n\n                      {/* Preview or Upload Area */}\n                      {previewUrl ? (\n                        <div className=\"space-y-4\">\n                          {/* Preview */}\n                          <div className={`relative ${aspectRatio} w-full bg-gray-100 dark:bg-gray-800 rounded-xl overflow-hidden`}>\n                            <img\n                              src={previewUrl}\n                              alt=\"Preview\"\n                              className=\"w-full h-full object-cover\"\n                            />\n                          </div>\n\n                          {/* Actions */}\n                          <div className=\"flex gap-3\">\n                            <Button\n                              variant=\"outline\"\n                              onClick={handleReCrop}\n                              className=\"flex-1\"\n                            >\n                              <Crop className=\"w-4 h-4 mr-2\" />\n                              Re-crop\n                            </Button>\n                            <Button\n                              variant=\"outline\"\n                              onClick={clearSelection}\n                              className=\"flex-1\"\n                            >\n                              Choose Different\n                            </Button>\n                          </div>\n                        </div>\n                      ) : (\n                        /* Upload Area */\n                        <div\n                          onDrop={handleDrop}\n                          onDragOver={handleDragOver}\n                          onDragLeave={handleDragLeave}\n                          className={`relative border-2 border-dashed rounded-xl p-8 text-center transition-colors ${\n                            dragActive\n                              ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                              : 'border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500'\n                          }`}\n                        >\n                          <input\n                            ref={fileInputRef}\n                            type=\"file\"\n                            accept=\"image/*\"\n                            onChange={handleInputChange}\n                            className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\n                          />\n\n                          <div className=\"flex flex-col items-center gap-4\">\n                            <div className={`p-4 rounded-full ${\n                              dragActive\n                                ? 'bg-blue-100 dark:bg-blue-900/40'\n                                : 'bg-gray-100 dark:bg-gray-800'\n                            }`}>\n                              {dragActive ? (\n                                <Upload className=\"w-8 h-8 text-blue-500\" />\n                              ) : (\n                                <ImageIcon className=\"w-8 h-8 text-gray-400\" />\n                              )}\n                            </div>\n\n                            <div>\n                              <p className=\"text-gray-700 dark:text-gray-300 font-medium\">\n                                {dragActive ? 'Drop image here' : 'Drag and drop an image'}\n                              </p>\n                              <p className=\"text-sm text-gray-500 dark:text-gray-400 mt-1\">\n                                or click to browse\n                              </p>\n                            </div>\n\n                            <p className=\"text-xs text-gray-400 dark:text-gray-500\">\n                              {isIcon\n                                ? 'Square image recommended ‚Ä¢ Max 5MB'\n                                : 'Wide image recommended (4:1 ratio) ‚Ä¢ Max 10MB'}\n                            </p>\n                          </div>\n                        </div>\n                      )}\n\n                      {/* Current Image */}\n                      {currentImageUrl && !previewUrl && (\n                        <div className=\"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700\">\n                          <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-2\">\n                            Current {isIcon ? 'icon' : 'cover'}:\n                          </p>\n                          <div className={`relative ${aspectRatio} w-full max-w-[200px] bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden`}>\n                            <img\n                              src={currentImageUrl}\n                              alt=\"Current\"\n                              className=\"w-full h-full object-cover\"\n                            />\n                          </div>\n                        </div>\n                      )}\n                    </div>\n\n                    {/* Footer */}\n                    <div className=\"flex justify-end gap-3 p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50\">\n                      <Button\n                        variant=\"ghost\"\n                        onClick={handleClose}\n                        disabled={uploading}\n                      >\n                        Cancel\n                      </Button>\n                      <Button\n                        onClick={handleUpload}\n                        disabled={!previewUrl || uploading}\n                        className=\"min-w-[100px]\"\n                      >\n                        {uploading ? (\n                          <>\n                            <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                            Uploading...\n                          </>\n                        ) : (\n                          'Save'\n                        )}\n                      </Button>\n                    </div>\n                  </motion.div>\n                </Dialog.Content>\n              </>\n            )}\n          </AnimatePresence>\n        </Dialog.Portal>\n      </Dialog.Root>\n    </>\n  );\n}\n\nexport default GroupImageUploadModal;\n"],"names":[],"mappings":"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"}
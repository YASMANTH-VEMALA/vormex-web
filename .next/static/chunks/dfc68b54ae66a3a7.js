(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},94095,66626,e=>{"use strict";var t=e.i(932),a=e.i(21482),r=e.i(86161);function i(e){let i,l,c,o=(0,t.c)(9),g=void 0===e?24:e;o[0]!==g?(i={queryKey:["reels-trending",g],queryFn:async()=>await r.reelsApi.getTrending({hours:g,limit:20}),getNextPageParam:n,initialPageParam:void 0,staleTime:3e5},o[0]=g,o[1]=i):i=o[1];let h=(0,a.useInfiniteQuery)(i);o[2]!==h.data?.pages?(l=h.data?.pages.flatMap(s)??[],o[2]=h.data?.pages,o[3]=l):l=o[3];let u=l;return o[4]!==h.isError||o[5]!==h.isLoading||o[6]!==h.refetch||o[7]!==u?(c={reels:u,isLoading:h.isLoading,isError:h.isError,refetch:h.refetch},o[4]=h.isError,o[5]=h.isLoading,o[6]=h.refetch,o[7]=u,o[8]=c):c=o[8],c}function s(e){return e.reels}function n(){}function l(e){let i,s,n,l,g,h=(0,t.c)(17);h[0]!==e?(i=["reels-hashtag",e],s=async t=>{let{pageParam:a}=t;return await r.reelsApi.getByHashtag(e,{cursor:a,limit:20})},h[0]=e,h[1]=i,h[2]=s):(i=h[1],s=h[2]);let u=!!e;h[3]!==i||h[4]!==s||h[5]!==u?(n={queryKey:i,queryFn:s,getNextPageParam:o,initialPageParam:void 0,staleTime:3e5,enabled:u},h[3]=i,h[4]=s,h[5]=u,h[6]=n):n=h[6];let d=(0,a.useInfiniteQuery)(n);h[7]!==d.data?.pages?(l=d.data?.pages.flatMap(c)??[],h[7]=d.data?.pages,h[8]=l):l=h[8];let f=l;return h[9]!==d.fetchNextPage||h[10]!==d.hasNextPage||h[11]!==d.isError||h[12]!==d.isFetchingNextPage||h[13]!==d.isLoading||h[14]!==d.refetch||h[15]!==f?(g={reels:f,isLoading:d.isLoading,isError:d.isError,hasNextPage:d.hasNextPage,isFetchingNextPage:d.isFetchingNextPage,fetchNextPage:d.fetchNextPage,refetch:d.refetch},h[9]=d.fetchNextPage,h[10]=d.hasNextPage,h[11]=d.isError,h[12]=d.isFetchingNextPage,h[13]=d.isLoading,h[14]=d.refetch,h[15]=f,h[16]=g):g=h[16],g}function c(e){return e.reels}function o(e){return e.nextCursor}function g(e){let i,s,n,l,c,o=(0,t.c)(17);o[0]!==e?(i=["reels-audio",e],s=async t=>{let{pageParam:a}=t;return await r.reelsApi.getByAudio(e,{cursor:a,limit:20})},o[0]=e,o[1]=i,o[2]=s):(i=o[1],s=o[2]);let g=!!e;o[3]!==i||o[4]!==s||o[5]!==g?(n={queryKey:i,queryFn:s,getNextPageParam:u,initialPageParam:void 0,staleTime:3e5,enabled:g},o[3]=i,o[4]=s,o[5]=g,o[6]=n):n=o[6];let d=(0,a.useInfiniteQuery)(n);o[7]!==d.data?.pages?(l=d.data?.pages.flatMap(h)??[],o[7]=d.data?.pages,o[8]=l):l=o[8];let f=l;return o[9]!==d.fetchNextPage||o[10]!==d.hasNextPage||o[11]!==d.isError||o[12]!==d.isFetchingNextPage||o[13]!==d.isLoading||o[14]!==d.refetch||o[15]!==f?(c={reels:f,isLoading:d.isLoading,isError:d.isError,hasNextPage:d.hasNextPage,isFetchingNextPage:d.isFetchingNextPage,fetchNextPage:d.fetchNextPage,refetch:d.refetch},o[9]=d.fetchNextPage,o[10]=d.hasNextPage,o[11]=d.isError,o[12]=d.isFetchingNextPage,o[13]=d.isLoading,o[14]=d.refetch,o[15]=f,o[16]=c):c=o[16],c}function h(e){return e.reels}function u(e){return e.nextCursor}e.s(["useAudioReels",()=>g,"useHashtagReels",()=>l,"useTrendingReels",()=>i],66626),e.i(71645),e.i(50471),e.i(13751),e.s([],94095)},15840,e=>{"use strict";var t=e.i(43476),a=e.i(932),r=e.i(71645),i=e.i(18566),s=e.i(71689),n=e.i(31278);e.i(94095);var l=e.i(66626);e.i(51501);var c=e.i(42956);function o(){let e,o,h,u,d,f,x,m,N,p=(0,a.c)(28),P=(0,i.useRouter)(),[y,b]=(0,r.useState)(0),[w,j]=(0,r.useState)(!0),{reels:v,isLoading:L,isError:T}=(0,l.useTrendingReels)(24);p[0]!==y?(e=e=>{let t=e.currentTarget,a=Math.round(t.scrollTop/t.clientHeight);a!==y&&b(a)},p[0]=y,p[1]=e):e=p[1];let k=e;if(L){let e;return p[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-black",children:(0,t.jsx)(n.Loader2,{className:"w-12 h-12 text-white animate-spin"})}),p[2]=e):e=p[2],e}if(T){let e;return p[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-black text-white gap-4",children:[(0,t.jsx)("p",{children:"Failed to load trending reels"}),(0,t.jsx)("button",{onClick:g,className:"px-4 py-2 bg-white text-black rounded-full font-medium",children:"Retry"})]}),p[3]=e):e=p[3],e}if(0===v.length){let e,a;return p[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("p",{className:"text-xl",children:"No trending reels"}),p[4]=e):e=p[4],p[5]!==P?(a=(0,t.jsxs)("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-black text-white gap-4",children:[e,(0,t.jsx)("button",{onClick:()=>P.push("/reels"),className:"px-6 py-2 bg-white text-black rounded-full font-medium",children:"Go to Reels"})]}),p[5]=P,p[6]=a):a=p[6],a}if(p[7]!==P?(o=()=>P.back(),p[7]=P,p[8]=o):o=p[8],p[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsx)(s.ArrowLeft,{className:"w-5 h-5 text-white"}),p[9]=h):h=p[9],p[10]!==o?(u=(0,t.jsx)("button",{onClick:o,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors",children:h}),p[10]=o,p[11]=u):u=p[11],p[12]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("h1",{className:"text-white text-xl font-bold",children:"Trending Reels"}),p[12]=d):d=p[12],p[13]!==u?(f=(0,t.jsx)("div",{className:"absolute top-0 left-0 right-0 z-20 pt-4 px-4 pb-2 bg-gradient-to-b from-black/80 to-transparent",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[u,d]})}),p[13]=u,p[14]=f):f=p[14],p[15]!==y||p[16]!==w||p[17]!==v){let e;p[19]!==y||p[20]!==w?(e=(e,a)=>(0,t.jsx)("div",{className:"h-screen w-full snap-start snap-always",children:(0,t.jsx)(c.ReelCard,{reel:e,isActive:a===y,isMuted:w,onMuteToggle:()=>j(!w)})},e.id),p[19]=y,p[20]=w,p[21]=e):e=p[21],x=v.map(e),p[15]=y,p[16]=w,p[17]=v,p[18]=x}else x=p[18];return p[22]!==k||p[23]!==x?(m=(0,t.jsx)("div",{className:"h-screen w-full snap-y snap-mandatory overflow-y-scroll scrollbar-hide",onScroll:k,children:x}),p[22]=k,p[23]=x,p[24]=m):m=p[24],p[25]!==f||p[26]!==m?(N=(0,t.jsxs)("div",{className:"relative h-screen w-full bg-black",children:[f,m]}),p[25]=f,p[26]=m,p[27]=N):N=p[27],N}function g(){return window.location.reload()}e.s(["default",()=>o])}]);
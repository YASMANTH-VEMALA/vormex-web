{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelPlayer.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useEffect, useState, useCallback } from 'react';\nimport Hls from 'hls.js';\nimport { Loader2, Volume2, VolumeX, Play, Pause } from 'lucide-react';\n\ninterface ReelPlayerProps {\n  hlsUrl: string | null;\n  mp4Url: string;\n  thumbnailUrl?: string | null;\n  isActive: boolean;\n  isMuted: boolean;\n  onProgress?: (progress: number, watchTimeMs: number) => void;\n  onComplete?: () => void;\n  onTap?: () => void;\n  onDoubleTap?: () => void;\n  onMuteToggle?: () => void;\n}\n\nexport function ReelPlayer({\n  hlsUrl,\n  mp4Url,\n  thumbnailUrl,\n  isActive,\n  isMuted,\n  onProgress,\n  onComplete,\n  onTap,\n  onDoubleTap,\n  onMuteToggle,\n}: ReelPlayerProps) {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const hlsRef = useRef<Hls | null>(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [showControls, setShowControls] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState(false);\n  const lastTap = useRef(0);\n  const watchTimeRef = useRef(0);\n  const controlsTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    const initHls = () => {\n      if (hlsUrl && Hls.isSupported()) {\n        const hls = new Hls({\n          enableWorker: true,\n          lowLatencyMode: true,\n          backBufferLength: 90,\n          maxBufferLength: 30,\n          maxMaxBufferLength: 60,\n          startLevel: -1,\n          capLevelToPlayerSize: true,\n        });\n\n        hls.loadSource(hlsUrl);\n        hls.attachMedia(video);\n\n        hls.on(Hls.Events.MANIFEST_PARSED, () => {\n          setIsLoaded(true);\n          if (isActive) {\n            video.play().catch(() => {});\n          }\n        });\n\n        hls.on(Hls.Events.ERROR, (_, data) => {\n          if (data.fatal) {\n            console.error('HLS error:', data);\n            setError(true);\n            video.src = mp4Url;\n            video.load();\n          }\n        });\n\n        hlsRef.current = hls;\n      } else if (hlsUrl && video.canPlayType('application/vnd.apple.mpegurl')) {\n        video.src = hlsUrl;\n        video.addEventListener('loadedmetadata', () => {\n          setIsLoaded(true);\n          if (isActive) {\n            video.play().catch(() => {});\n          }\n        });\n      } else {\n        video.src = mp4Url;\n        video.addEventListener('loadedmetadata', () => {\n          setIsLoaded(true);\n          if (isActive) {\n            video.play().catch(() => {});\n          }\n        });\n      }\n    };\n\n    initHls();\n\n    return () => {\n      hlsRef.current?.destroy();\n      hlsRef.current = null;\n    };\n  }, [hlsUrl, mp4Url]);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video || !isLoaded) return;\n\n    if (isActive) {\n      video.play().then(() => setIsPlaying(true)).catch(() => {});\n    } else {\n      video.pause();\n      video.currentTime = 0;\n      setIsPlaying(false);\n    }\n  }, [isActive, isLoaded]);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (video) {\n      video.muted = isMuted;\n    }\n  }, [isMuted]);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    const handleTimeUpdate = () => {\n      const currentProgress = video.duration > 0 ? video.currentTime / video.duration : 0;\n      watchTimeRef.current = video.currentTime * 1000;\n      setProgress(currentProgress);\n      onProgress?.(currentProgress, watchTimeRef.current);\n    };\n\n    const handleEnded = () => {\n      onComplete?.();\n      video.currentTime = 0;\n      video.play().catch(() => {});\n    };\n\n    const handlePlay = () => setIsPlaying(true);\n    const handlePause = () => setIsPlaying(false);\n\n    video.addEventListener('timeupdate', handleTimeUpdate);\n    video.addEventListener('ended', handleEnded);\n    video.addEventListener('play', handlePlay);\n    video.addEventListener('pause', handlePause);\n\n    return () => {\n      video.removeEventListener('timeupdate', handleTimeUpdate);\n      video.removeEventListener('ended', handleEnded);\n      video.removeEventListener('play', handlePlay);\n      video.removeEventListener('pause', handlePause);\n    };\n  }, [onProgress, onComplete]);\n\n  const handleTap = useCallback((e: React.MouseEvent | React.TouchEvent) => {\n    e.stopPropagation();\n    const now = Date.now();\n    \n    if (now - lastTap.current < 300) {\n      onDoubleTap?.();\n      lastTap.current = 0;\n    } else {\n      lastTap.current = now;\n      setTimeout(() => {\n        if (lastTap.current !== 0 && Date.now() - lastTap.current >= 300) {\n          onTap?.();\n          // Tap to pause/play\n          const video = videoRef.current;\n          if (video && isLoaded) {\n            if (video.paused) {\n              video.play().then(() => setIsPlaying(true)).catch(() => {});\n            } else {\n              video.pause();\n              setIsPlaying(false);\n            }\n          }\n          lastTap.current = 0;\n        }\n      }, 300);\n    }\n\n    setShowControls(true);\n    if (controlsTimeoutRef.current) {\n      clearTimeout(controlsTimeoutRef.current);\n    }\n    controlsTimeoutRef.current = setTimeout(() => {\n      setShowControls(false);\n    }, 2000);\n  }, [onTap, onDoubleTap, isLoaded]);\n\n  const togglePlayPause = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    const video = videoRef.current;\n    if (!video) return;\n\n    if (isPlaying) {\n      video.pause();\n    } else {\n      video.play().catch(() => {});\n    }\n  }, [isPlaying]);\n\n  const handleMuteClick = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n    const video = videoRef.current;\n    if (video) {\n      video.muted = !video.muted;\n    }\n    onMuteToggle?.();\n  }, [onMuteToggle]);\n\n  return (\n    <div\n      className=\"absolute inset-0 w-full h-full bg-black overflow-hidden flex items-center justify-center\"\n      onClick={handleTap}\n    >\n      {!isLoaded && thumbnailUrl && (\n        <img\n          src={thumbnailUrl}\n          alt=\"\"\n          className=\"absolute inset-0 w-full h-full object-contain\"\n        />\n      )}\n\n      {!isLoaded && (\n        <div className=\"absolute inset-0 flex items-center justify-center bg-black/50\">\n          <Loader2 className=\"w-12 h-12 text-white animate-spin\" />\n        </div>\n      )}\n\n      <video\n        ref={videoRef}\n        className=\"w-full h-full object-contain\"\n        playsInline\n        loop\n        muted={isMuted}\n        poster={thumbnailUrl || undefined}\n        preload=\"metadata\"\n      />\n\n      <div className=\"absolute top-0 left-0 right-0 h-1 bg-white/20\">\n        <div\n          className=\"h-full bg-white transition-all duration-100\"\n          style={{ width: `${progress * 100}%` }}\n        />\n      </div>\n\n      {showControls && isLoaded && (\n        <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n          <button\n            onClick={togglePlayPause}\n            className=\"w-16 h-16 rounded-full bg-black/50 flex items-center justify-center pointer-events-auto transition-opacity\"\n          >\n            {isPlaying ? (\n              <Pause className=\"w-8 h-8 text-white\" fill=\"white\" />\n            ) : (\n              <Play className=\"w-8 h-8 text-white ml-1\" fill=\"white\" />\n            )}\n          </button>\n        </div>\n      )}\n\n      <button\n        type=\"button\"\n        onClick={handleMuteClick}\n        className=\"absolute top-4 right-4 z-10 w-10 h-10 rounded-full bg-black/50 flex items-center justify-center touch-manipulation\"\n      >\n        {isMuted ? (\n          <VolumeX className=\"w-5 h-5 text-white\" />\n        ) : (\n          <Volume2 className=\"w-5 h-5 text-white\" />\n        )}\n      </button>\n\n      {error && (\n        <div className=\"absolute bottom-20 left-4 right-4 text-center text-white/70 text-sm\">\n          Video playback error. Using fallback quality.\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["c","_c","useRef","useEffect","useState","useCallback","Hls","Loader2","Volume2","VolumeX","Play","Pause","ReelPlayerProps","hlsUrl","mp4Url","thumbnailUrl","isActive","isMuted","onProgress","progress","watchTimeMs","onComplete","onTap","onDoubleTap","onMuteToggle","ReelPlayer","t0","$","$i","Symbol","for","videoRef","hlsRef","isLoaded","setIsLoaded","isPlaying","setIsPlaying","showControls","setShowControls","setProgress","error","setError","lastTap","watchTimeRef","controlsTimeoutRef","t1","ReelPlayer[useEffect()]","video","current","initHls","ReelPlayer[useEffect() > initHls]","isSupported","hls","enableWorker","lowLatencyMode","backBufferLength","maxBufferLength","maxMaxBufferLength","startLevel","capLevelToPlayerSize","loadSource","attachMedia","on","Events","MANIFEST_PARSED","ReelPlayer[useEffect() > initHls > hls.on()]","play","catch","_ReelPlayerUseEffectInitHlsHlsOnAnonymous","ERROR","_","data","fatal","console","src","load","canPlayType","addEventListener","ReelPlayer[useEffect() > initHls > video.addEventListener()]","_ReelPlayerUseEffectInitHlsVideoAddEventListenerAnonymous","_ReelPlayerUseEffectInitHlsVideoAddEventListenerAnonymous2","destroy","t2","t3","t4","video_0","then","ReelPlayer[useEffect() > (anonymous)()]","_ReelPlayerUseEffectAnonymous","pause","currentTime","t5","t6","video_1","muted","t7","t8","video_2","handleTimeUpdate","ReelPlayer[useEffect() > handleTimeUpdate]","currentProgress","duration","handleEnded","ReelPlayer[useEffect() > handleEnded]","_ReelPlayerUseEffectHandleEndedAnonymous","handlePlay","ReelPlayer[useEffect() > handlePlay]","handlePause","ReelPlayer[useEffect() > handlePause]","removeEventListener","t9","e","stopPropagation","now","Date","setTimeout","ReelPlayer[handleTap > setTimeout()]","video_3","paused","ReelPlayer[handleTap > setTimeout() > (anonymous)()]","_ReelPlayerHandleTapSetTimeoutAnonymous","clearTimeout","handleTap","t10","e_0","video_4","_ReelPlayerTogglePlayPauseAnonymous","togglePlayPause","t11","e_1","preventDefault","video_5","handleMuteClick","t12","t13","t14","undefined","t15","t16","t17","width","t18","t19","t20","t21","t22"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 567, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/api/reels.ts"],"sourcesContent":["import apiClient from './client';\n\nexport interface ReelAuthor {\n  id: string;\n  username: string;\n  name: string;\n  profileImage: string | null;\n  headline?: string | null;\n  isFollowing?: boolean;\n}\n\nexport interface ReelAudio {\n  id: string;\n  title: string;\n  artist: string | null;\n  albumArt: string | null;\n}\n\nexport interface Reel {\n  id: string;\n  author: ReelAuthor;\n  videoId: string;\n  videoUrl: string;\n  hlsUrl: string | null;\n  thumbnailUrl: string | null;\n  previewGifUrl: string | null;\n  title: string | null;\n  caption: string | null;\n  durationSeconds: number;\n  width: number;\n  height: number;\n  aspectRatio: string;\n  audio: ReelAudio | null;\n  hashtags: string[];\n  mentions: string[];\n  skills: string[];\n  topics: string[];\n  category: string | null;\n  locationName: string | null;\n  isResponse: boolean;\n  responseType: string | null;\n  originalReelId: string | null;\n  pollQuestion: string | null;\n  pollOptions: { id: number; text: string; votes: number }[] | null;\n  pollEndsAt: string | null;\n  userVotedOption: number | null;\n  quizQuestion: string | null;\n  quizOptions: { id: number; text: string }[] | null;\n  codeSnippet: string | null;\n  codeLanguage: string | null;\n  codeFileName: string | null;\n  repoUrl: string | null;\n  ctaType: string | null;\n  ctaText: string | null;\n  ctaUrl: string | null;\n  visibility: string;\n  allowComments: boolean;\n  allowDuets: boolean;\n  allowStitch: boolean;\n  allowDownload: boolean;\n  allowSharing: boolean;\n  status: string;\n  viewsCount: number;\n  likesCount: number;\n  commentsCount: number;\n  sharesCount: number;\n  savesCount: number;\n  isLiked: boolean;\n  isSaved: boolean;\n  publishedAt: string | null;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface ReelsFeedResponse {\n  reels: Reel[];\n  nextCursor: string | null;\n  hasMore: boolean;\n}\n\nexport interface ReelComment {\n  id: string;\n  reelId: string;\n  parentId: string | null;\n  author: ReelAuthor;\n  content: string;\n  mentions: string[];\n  likesCount: number;\n  repliesCount: number;\n  isLiked: boolean;\n  isPinned: boolean;\n  isAuthorHeart: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface CommentsResponse {\n  comments: ReelComment[];\n  nextCursor: string | null;\n  hasMore: boolean;\n}\n\nexport interface UploadUrlResponse {\n  videoId: string;\n  uploadUrl: string;\n  tusUrl: string;\n}\n\nexport interface PreloadDataResponse {\n  hlsUrl: string;\n  videoUrl: string;\n  thumbnailUrl: string;\n  durationSeconds: number;\n}\n\nexport const reelsApi = {\n  getFeed: (params?: { cursor?: string; limit?: number; mode?: 'foryou' | 'following' }) =>\n    apiClient.get<ReelsFeedResponse>('/reels/feed', { params }),\n\n  getFollowingFeed: (params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>('/reels/feed/following', { params }),\n\n  getTrending: (params?: { hours?: number; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>('/reels/trending', { params }),\n\n  getReel: (reelId: string) =>\n    apiClient.get<Reel>(`/reels/${reelId}`),\n\n  getDrafts: (params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>('/reels/drafts', { params }),\n\n  getReelAudio: (reelId: string) =>\n    apiClient.get<{\n      hasAudio: boolean;\n      audio?: {\n        id: string;\n        title: string;\n        artist: string | null;\n        albumArt: string | null;\n        audioUrl: string;\n        durationMs: number;\n        genre: string | null;\n        usageCount: number;\n        sourceReelId: string;\n        originalCreator: { id: string; username: string; name: string } | null;\n      };\n      message?: string;\n    }>(`/reels/${reelId}/audio`),\n\n  publishDraft: (reelId: string, data?: { scheduledAt?: string }) =>\n    apiClient.post<Reel>(`/reels/${reelId}/publish`, data || {}),\n\n  getPreloadData: (reelId: string) =>\n    apiClient.get<PreloadDataResponse>(`/reels/${reelId}/preload`),\n\n  getUploadUrl: () =>\n    apiClient.post<UploadUrlResponse>('/reels/upload-url'),\n\n  createReel: (data: FormData) =>\n    apiClient.post<Reel>('/reels', data),\n\n  onUploadComplete: (videoId: string, metadata: Record<string, unknown>) =>\n    apiClient.post<Reel>('/reels/upload-complete', { videoId, ...metadata }),\n\n  updateReel: (reelId: string, data: Partial<Reel>) =>\n    apiClient.put<Reel>(`/reels/${reelId}`, data),\n\n  deleteReel: (reelId: string) =>\n    apiClient.delete(`/reels/${reelId}`),\n\n  toggleLike: (reelId: string) =>\n    apiClient.post<{ liked: boolean; likesCount: number }>(`/reels/${reelId}/like`),\n\n  toggleSave: (reelId: string) =>\n    apiClient.post<{ saved: boolean; savesCount: number }>(`/reels/${reelId}/save`),\n\n  share: (reelId: string, data: { shareType: string; platform?: string; recipientId?: string }) =>\n    apiClient.post<{ success: boolean; sharesCount: number }>(`/reels/${reelId}/share`, data),\n\n  shareInChat: (reelId: string, data: { recipientId: string; message?: string }) =>\n    apiClient.post<{ success: boolean; message: { id: string; conversationId: string }; sharesCount: number }>(\n      `/reels/${reelId}/share/chat`,\n      data\n    ),\n\n  trackView: (reelId: string, data: { watchTimeMs: number; completed: boolean; source: string }) =>\n    apiClient.post(`/reels/${reelId}/view`, data),\n\n  getComments: (reelId: string, params?: { cursor?: string; limit?: number; parentId?: string }) =>\n    apiClient.get<CommentsResponse>(`/reels/${reelId}/comments`, { params }),\n\n  createComment: (reelId: string, data: { content: string; parentId?: string; mentions?: string[] }) =>\n    apiClient.post<ReelComment>(`/reels/${reelId}/comments`, data),\n\n  toggleCommentLike: (reelId: string, commentId: string) =>\n    apiClient.post<{ liked: boolean; likesCount: number }>(`/reels/${reelId}/comments/${commentId}/like`),\n\n  deleteComment: (reelId: string, commentId: string) =>\n    apiClient.delete(`/reels/${reelId}/comments/${commentId}`),\n\n  heartComment: (reelId: string, commentId: string) =>\n    apiClient.post<{ isAuthorHeart: boolean }>(`/reels/${reelId}/comments/${commentId}/heart`),\n\n  votePoll: (reelId: string, optionId: number) =>\n    apiClient.post<{ success: boolean; pollOptions: { id: number; text: string; votes: number }[]; userVotedOption: number }>(\n      `/reels/${reelId}/poll/vote`,\n      { optionId }\n    ),\n\n  answerQuiz: (reelId: string, optionId: number) =>\n    apiClient.post<{ correct: boolean; correctAnswer: number }>(`/reels/${reelId}/quiz/answer`, { optionId }),\n\n  getByHashtag: (hashtag: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse & { hashtag: string }>(`/reels/hashtag/${hashtag}`, { params }),\n\n  getByAudio: (audioId: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse & { audioId: string }>(`/reels/audio/${audioId}`, { params }),\n\n  getUserReels: (userId: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>(`/reels/user/${userId}`, { params }),\n\n  getUserLikedReels: (userId: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>(`/reels/user/${userId}/liked`, { params }),\n\n  getUserSavedReels: (userId: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>(`/reels/user/${userId}/saved`, { params }),\n\n  getResponses: (reelId: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>(`/reels/${reelId}/responses`, { params }),\n\n  getCreatorAnalytics: (params?: { days?: number }) =>\n    apiClient.get('/reels/analytics/creator', { params }),\n\n  getReelAnalytics: (reelId: string) =>\n    apiClient.get(`/reels/analytics/reel/${reelId}`),\n\n  report: (reelId: string, data: { reason: string; description?: string }) =>\n    apiClient.post(`/reels/${reelId}/report`, data),\n};\n\nexport interface Audio {\n  id: string;\n  title: string;\n  artist: string | null;\n  albumName: string | null;\n  albumArt: string | null;\n  audioUrl: string;\n  durationMs: number;\n  genre: string | null;\n  mood: string | null;\n  tempo: number | null;\n  isRoyaltyFree: boolean;\n  source: string | null;\n  usageCount: number;\n  savesCount: number;\n  isSaved: boolean;\n  createdAt: string;\n}\n\nexport interface AudioResponse {\n  audio: Audio[];\n  nextCursor?: string | null;\n  hasMore?: boolean;\n}\n\nexport const audioApi = {\n  getTrending: (params?: { limit?: number }) =>\n    apiClient.get<AudioResponse>('/audio/trending', { params }),\n\n  search: (query: string, params?: { limit?: number; cursor?: string }) =>\n    apiClient.get<AudioResponse>('/audio/search', { params: { q: query, ...params } }),\n\n  getCategories: () =>\n    apiClient.get<{ categories: { name: string; count: number }[] }>('/audio/categories'),\n\n  getMoods: () =>\n    apiClient.get<{ moods: { name: string; count: number }[] }>('/audio/moods'),\n\n  getByGenre: (genre: string, params?: { limit?: number; cursor?: string }) =>\n    apiClient.get<AudioResponse & { genre: string }>(`/audio/genre/${genre}`, { params }),\n\n  getAudio: (audioId: string) =>\n    apiClient.get<Audio>(`/audio/${audioId}`),\n\n  getAudioReels: (audioId: string, params?: { limit?: number; cursor?: string }) =>\n    apiClient.get(`/audio/${audioId}/reels`, { params }),\n\n  toggleSave: (audioId: string) =>\n    apiClient.post<{ saved: boolean; savesCount: number }>(`/audio/${audioId}/save`),\n\n  getSaved: (params?: { limit?: number; cursor?: string }) =>\n    apiClient.get<AudioResponse>('/audio/saved', { params }),\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 673, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelActions.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useRef, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Heart, MessageCircle, Share2, Bookmark, MoreHorizontal, Music2, Copy, Scissors } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { reelsApi, Reel } from '@/lib/api/reels';\n\ninterface ReelActionsProps {\n  reel: Reel;\n  onCommentClick: () => void;\n  onShareClick: () => void;\n  onLikeUpdate?: (liked: boolean, count: number) => void;\n  onSaveUpdate?: (saved: boolean, count: number) => void;\n}\n\nexport function ReelActions({\n  reel,\n  onCommentClick,\n  onShareClick,\n  onLikeUpdate,\n  onSaveUpdate,\n}: ReelActionsProps) {\n  const router = useRouter();\n  const [isLiked, setIsLiked] = useState(reel.isLiked);\n  const [likesCount, setLikesCount] = useState(reel.likesCount);\n  const [isSaved, setIsSaved] = useState(reel.isSaved);\n  const [savesCount, setSavesCount] = useState(reel.savesCount);\n  const [isLikeAnimating, setIsLikeAnimating] = useState(false);\n  const [showMoreMenu, setShowMoreMenu] = useState(false);\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (menuRef.current && !menuRef.current.contains(e.target as Node)) {\n        setShowMoreMenu(false);\n      }\n    };\n    document.addEventListener('click', handleClickOutside);\n    return () => document.removeEventListener('click', handleClickOutside);\n  }, []);\n\n  const handleLike = useCallback(async () => {\n    const newLiked = !isLiked;\n    const newCount = newLiked ? likesCount + 1 : likesCount - 1;\n    \n    setIsLiked(newLiked);\n    setLikesCount(newCount);\n    \n    if (newLiked) {\n      setIsLikeAnimating(true);\n      setTimeout(() => setIsLikeAnimating(false), 400);\n    }\n\n    try {\n      const response = await reelsApi.toggleLike(reel.id) as { liked: boolean; likesCount: number };\n      setIsLiked(response.liked);\n      setLikesCount(response.likesCount);\n      onLikeUpdate?.(response.liked, response.likesCount);\n    } catch (error) {\n      setIsLiked(!newLiked);\n      setLikesCount(likesCount);\n    }\n  }, [isLiked, likesCount, reel.id, onLikeUpdate]);\n\n  const handleSave = useCallback(async () => {\n    const newSaved = !isSaved;\n    const newCount = newSaved ? savesCount + 1 : savesCount - 1;\n    \n    setIsSaved(newSaved);\n    setSavesCount(newCount);\n\n    try {\n      const response = await reelsApi.toggleSave(reel.id) as { saved: boolean; savesCount: number };\n      setIsSaved(response.saved);\n      setSavesCount(response.savesCount);\n      onSaveUpdate?.(response.saved, response.savesCount);\n    } catch (error) {\n      setIsSaved(!newSaved);\n      setSavesCount(savesCount);\n    }\n  }, [isSaved, savesCount, reel.id, onSaveUpdate]);\n\n  const formatCount = (count: number): string => {\n    if (count >= 1000000) {\n      return `${(count / 1000000).toFixed(1)}M`;\n    }\n    if (count >= 1000) {\n      return `${(count / 1000).toFixed(1)}K`;\n    }\n    return count.toString();\n  };\n\n  return (\n    <div className=\"flex flex-col items-center gap-5\">\n      <button\n        onClick={handleLike}\n        className=\"flex flex-col items-center gap-1 group\"\n      >\n        <div className={cn(\n          \"w-12 h-12 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center transition-transform\",\n          isLikeAnimating && \"animate-bounce-once\"\n        )}>\n          <Heart\n            className={cn(\n              \"w-7 h-7 transition-all\",\n              isLiked ? \"text-red-500 fill-red-500 scale-110\" : \"text-white\"\n            )}\n          />\n        </div>\n        <span className=\"text-white text-xs font-medium\">\n          {formatCount(likesCount)}\n        </span>\n      </button>\n\n      <button\n        onClick={onCommentClick}\n        className=\"flex flex-col items-center gap-1 group\"\n      >\n        <div className=\"w-12 h-12 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center group-active:scale-95 transition-transform\">\n          <MessageCircle className=\"w-7 h-7 text-white\" />\n        </div>\n        <span className=\"text-white text-xs font-medium\">\n          {formatCount(reel.commentsCount)}\n        </span>\n      </button>\n\n      <button\n        onClick={onShareClick}\n        className=\"flex flex-col items-center gap-1 group\"\n      >\n        <div className=\"w-12 h-12 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center group-active:scale-95 transition-transform\">\n          <Share2 className=\"w-7 h-7 text-white\" />\n        </div>\n        <span className=\"text-white text-xs font-medium\">\n          {formatCount(reel.sharesCount)}\n        </span>\n      </button>\n\n      <button\n        onClick={handleSave}\n        className=\"flex flex-col items-center gap-1 group\"\n      >\n        <div className=\"w-12 h-12 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center group-active:scale-95 transition-transform\">\n          <Bookmark\n            className={cn(\n              \"w-7 h-7 transition-all\",\n              isSaved ? \"text-yellow-400 fill-yellow-400\" : \"text-white\"\n            )}\n          />\n        </div>\n        <span className=\"text-white text-xs font-medium\">\n          {formatCount(savesCount)}\n        </span>\n      </button>\n\n      {reel.audio && (\n        <button className=\"w-10 h-10 rounded-full overflow-hidden border-2 border-white animate-spin-slow\">\n          <img\n            src={reel.audio.albumArt || '/audio-placeholder.png'}\n            alt={reel.audio.title}\n            className=\"w-full h-full object-cover\"\n          />\n        </button>\n      )}\n\n      <div className=\"relative\" ref={menuRef}>\n        <button\n          onClick={() => setShowMoreMenu(!showMoreMenu)}\n          className=\"flex flex-col items-center gap-1 group\"\n        >\n          <div className=\"w-10 h-10 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center group-active:scale-95 transition-transform\">\n            <MoreHorizontal className=\"w-5 h-5 text-white\" />\n          </div>\n        </button>\n\n        {showMoreMenu && (\n          <div className=\"absolute bottom-full right-0 mb-2 w-48 bg-neutral-900 rounded-xl shadow-xl border border-white/10 py-2 z-50\">\n            {reel.allowDuets && (\n              <button\n                onClick={() => {\n                  router.push(`/reels/create?duet=${reel.id}`);\n                  setShowMoreMenu(false);\n                }}\n                className=\"w-full flex items-center gap-2 px-4 py-2 hover:bg-white/10 text-left text-sm\"\n              >\n                <Copy className=\"w-4 h-4\" />\n                Duet\n              </button>\n            )}\n            {reel.allowStitch && (\n              <button\n                onClick={() => {\n                  router.push(`/reels/create?stitch=${reel.id}`);\n                  setShowMoreMenu(false);\n                }}\n                className=\"w-full flex items-center gap-2 px-4 py-2 hover:bg-white/10 text-left text-sm\"\n              >\n                <Scissors className=\"w-4 h-4\" />\n                Stitch\n              </button>\n            )}\n            {reel.audio && (\n              <button\n                onClick={() => {\n                  router.push(`/reels/create?audio=${reel.audio!.id}`);\n                  setShowMoreMenu(false);\n                }}\n                className=\"w-full flex items-center gap-2 px-4 py-2 hover:bg-white/10 text-left text-sm\"\n              >\n                <Music2 className=\"w-4 h-4\" />\n                Use this audio\n              </button>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["useState","useCallback","useRef","useEffect","useRouter","Heart","MessageCircle","Share2","Bookmark","MoreHorizontal","Music2","Copy","Scissors","cn","reelsApi","Reel","ReelActionsProps","reel","onCommentClick","onShareClick","onLikeUpdate","liked","count","onSaveUpdate","saved","ReelActions","router","isLiked","setIsLiked","likesCount","setLikesCount","isSaved","setIsSaved","savesCount","setSavesCount","isLikeAnimating","setIsLikeAnimating","showMoreMenu","setShowMoreMenu","menuRef","HTMLDivElement","handleClickOutside","e","MouseEvent","current","contains","target","Node","document","addEventListener","removeEventListener","handleLike","newLiked","newCount","setTimeout","response","toggleLike","id","error","handleSave","newSaved","toggleSave","formatCount","toFixed","toString","commentsCount","sharesCount","audio","albumArt","title","allowDuets","push","allowStitch"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1055, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelInfo.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { Music, MapPin, ChevronDown, ChevronUp, Code, ExternalLink } from 'lucide-react';\nimport { Reel } from '@/lib/api/reels';\n\ninterface ReelInfoProps {\n  reel: Reel;\n  onAudioClick?: () => void;\n  onHashtagClick?: (hashtag: string) => void;\n}\n\nexport function ReelInfo({ reel, onAudioClick, onHashtagClick }: ReelInfoProps) {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const maxLength = 100;\n  const shouldTruncate = reel.caption && reel.caption.length > maxLength;\n\n  const displayCaption = shouldTruncate && !isExpanded\n    ? reel.caption?.slice(0, maxLength) + '...'\n    : reel.caption;\n\n  const renderHashtags = (text: string | null) => {\n    if (!text) return null;\n    \n    const parts = text.split(/(#\\w+)/g);\n    return parts.map((part, index) => {\n      if (part.startsWith('#')) {\n        const tag = part.slice(1);\n        return (\n          <button\n            key={index}\n            onClick={(e) => {\n              e.stopPropagation();\n              onHashtagClick?.(tag);\n            }}\n            className=\"text-white font-semibold hover:underline\"\n          >\n            {part}\n          </button>\n        );\n      }\n      return <span key={index}>{part}</span>;\n    });\n  };\n\n  const renderMentions = (text: string | null) => {\n    if (!text) return null;\n    \n    const parts = text.split(/(@\\w+)/g);\n    return parts.map((part, index) => {\n      if (part.startsWith('@')) {\n        const username = part.slice(1);\n        return (\n          <Link\n            key={index}\n            href={`/profile/${username}`}\n            onClick={(e) => e.stopPropagation()}\n            className=\"text-blue-400 font-semibold hover:underline\"\n          >\n            {part}\n          </Link>\n        );\n      }\n      return renderHashtags(part);\n    });\n  };\n\n  return (\n    <div className=\"flex flex-col gap-3 max-w-[calc(100%-80px)]\">\n      <Link\n        href={`/profile/${reel.author.id}`}\n        onClick={(e) => e.stopPropagation()}\n        className=\"flex items-center gap-3\"\n      >\n        <div className=\"w-10 h-10 rounded-full overflow-hidden border-2 border-white\">\n          <img\n            src={reel.author.profileImage || '/default-avatar.png'}\n            alt={reel.author.name}\n            className=\"w-full h-full object-cover\"\n          />\n        </div>\n        <div className=\"flex flex-col\">\n          <span className=\"text-white font-semibold text-sm\">\n            {reel.author.username}\n          </span>\n          {reel.author.headline && (\n            <span className=\"text-white/70 text-xs line-clamp-1\">\n              {reel.author.headline}\n            </span>\n          )}\n        </div>\n        <button\n          onClick={(e) => e.stopPropagation()}\n          className=\"ml-2 px-4 py-1 bg-white text-black text-xs font-semibold rounded-full hover:bg-white/90 transition-colors\"\n        >\n          Follow\n        </button>\n      </Link>\n\n      {reel.title && (\n        <h3 className=\"text-white font-semibold text-base\">\n          {reel.title}\n        </h3>\n      )}\n\n      {reel.caption && (\n        <div className=\"text-white text-sm leading-relaxed\">\n          {renderMentions(displayCaption)}\n          {shouldTruncate && (\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                setIsExpanded(!isExpanded);\n              }}\n              className=\"ml-1 text-white/70 hover:text-white inline-flex items-center gap-0.5\"\n            >\n              {isExpanded ? (\n                <>less <ChevronUp className=\"w-3 h-3\" /></>\n              ) : (\n                <>more <ChevronDown className=\"w-3 h-3\" /></>\n              )}\n            </button>\n          )}\n        </div>\n      )}\n\n      {reel.hashtags && reel.hashtags.length > 0 && (\n        <div className=\"flex flex-wrap gap-2\">\n          {reel.hashtags.map((tag) => (\n            <button\n              key={tag}\n              onClick={(e) => {\n                e.stopPropagation();\n                onHashtagClick?.(tag);\n              }}\n              className=\"text-white/90 text-sm hover:text-white\"\n            >\n              #{tag}\n            </button>\n          ))}\n        </div>\n      )}\n\n      {reel.codeSnippet && (\n        <div className=\"flex items-center gap-2 text-white/80 text-sm\">\n          <Code className=\"w-4 h-4\" />\n          <span>{reel.codeLanguage || 'Code'}</span>\n          {reel.codeFileName && (\n            <span className=\"text-white/60\"> {reel.codeFileName}</span>\n          )}\n          {reel.repoUrl && (\n            <a\n              href={reel.repoUrl}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              onClick={(e) => e.stopPropagation()}\n              className=\"ml-1 hover:text-white\"\n            >\n              <ExternalLink className=\"w-3 h-3\" />\n            </a>\n          )}\n        </div>\n      )}\n\n      {reel.locationName && (\n        <div className=\"flex items-center gap-1 text-white/70 text-sm\">\n          <MapPin className=\"w-4 h-4\" />\n          <span>{reel.locationName}</span>\n        </div>\n      )}\n\n      {reel.audio && (\n        <button\n          onClick={(e) => {\n            e.stopPropagation();\n            onAudioClick?.();\n          }}\n          className=\"flex items-center gap-2 text-white/90 text-sm hover:text-white overflow-hidden\"\n        >\n          <div className=\"flex items-center gap-2 animate-marquee\">\n            <Music className=\"w-4 h-4 flex-shrink-0\" />\n            <span className=\"whitespace-nowrap\">\n              {reel.audio.title}\n              {reel.audio.artist && `  ${reel.audio.artist}`}\n            </span>\n          </div>\n        </button>\n      )}\n\n      {reel.ctaType && reel.ctaText && reel.ctaUrl && (\n        <a\n          href={reel.ctaUrl}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          onClick={(e) => e.stopPropagation()}\n          className=\"inline-flex items-center gap-2 px-4 py-2 bg-white text-black text-sm font-semibold rounded-full hover:bg-white/90 transition-colors w-fit\"\n        >\n          {reel.ctaText}\n          <ExternalLink className=\"w-4 h-4\" />\n        </a>\n      )}\n    </div>\n  );\n}\n"],"names":["c","_c","useState","Link","Music","MapPin","ChevronDown","ChevronUp","Code","ExternalLink","Reel","ReelInfoProps","reel","onAudioClick","onHashtagClick","hashtag","ReelInfo","t0","$","$i","Symbol","for","isExpanded","setIsExpanded","shouldTruncate","caption","length","t1","slice","displayCaption","t2","renderHashtags","text","parts","split","map","ReelInfo[renderHashtags > parts.map()]","part","index","startsWith","tag","e","stopPropagation","text_0","parts_0","ReelInfo[renderMentions > parts_0.map()]","part_0","index_0","username","_ReelInfoRenderMentionsParts_0MapLinkOnClick","renderMentions","t3","author","id","t4","profileImage","t5","name","t6","t7","headline","t8","t9","_ReelInfoButtonOnClick","t10","_ReelInfoLinkOnClick","t11","title","t12","e_3","t13","hashtags","tag_0","e_4","t14","codeFileName","codeLanguage","codeSnippet","repoUrl","_ReelInfoAOnClick","t15","locationName","t16","audio","e_6","artist","t17","ctaText","ctaType","ctaUrl","_ReelInfoAOnClick2","t18","e_7","e_5","e_2","e_1","e_0"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1617, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/MentionInput.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useCallback, useEffect, KeyboardEvent } from 'react';\nimport Image from 'next/image';\nimport { User } from 'lucide-react';\nimport apiClient from '@/lib/api/client';\n\ninterface MentionUser {\n  id: string;\n  username: string;\n  name: string;\n  profileImage: string | null;\n  headline?: string;\n}\n\ninterface MentionInputProps {\n  value: string;\n  onChange: (value: string, mentions: string[]) => void;\n  placeholder?: string;\n  className?: string;\n  autoFocus?: boolean;\n  onSubmit?: () => void;\n  maxLength?: number;\n}\n\nexport function MentionInput({\n  value,\n  onChange,\n  placeholder = 'Write something...',\n  className = '',\n  autoFocus = false,\n  onSubmit,\n  maxLength,\n}: MentionInputProps) {\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [suggestions, setSuggestions] = useState<MentionUser[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const [mentionQuery, setMentionQuery] = useState('');\n  const [mentionStart, setMentionStart] = useState(-1);\n  const debounceRef = useRef<NodeJS.Timeout | null>(null);\n\n  const extractMentions = useCallback((text: string): string[] => {\n    const mentionRegex = /@(\\w+)/g;\n    const mentions: string[] = [];\n    let match;\n    while ((match = mentionRegex.exec(text)) !== null) {\n      mentions.push(match[1]);\n    }\n    return [...new Set(mentions)];\n  }, []);\n\n  const searchUsers = useCallback(async (query: string) => {\n    if (query.length < 1) {\n      setSuggestions([]);\n      setShowSuggestions(false);\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      const response = await apiClient.get('/users/search', {\n        params: { q: query, limit: 6 },\n      });\n      const users = response.data.users || response.data || [];\n      setSuggestions(users);\n      setShowSuggestions(users.length > 0);\n      setSelectedIndex(0);\n    } catch (error) {\n      console.error('Failed to search users:', error);\n      setSuggestions([]);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const handleInput = useCallback((e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    const newValue = e.target.value;\n    const cursorPos = e.target.selectionStart || 0;\n    \n    // Check if we're in a mention context\n    const textBeforeCursor = newValue.slice(0, cursorPos);\n    const mentionMatch = textBeforeCursor.match(/@(\\w*)$/);\n    \n    if (mentionMatch) {\n      const query = mentionMatch[1];\n      setMentionQuery(query);\n      setMentionStart(cursorPos - query.length - 1);\n      \n      if (debounceRef.current) {\n        clearTimeout(debounceRef.current);\n      }\n      debounceRef.current = setTimeout(() => {\n        searchUsers(query);\n      }, 200);\n    } else {\n      setShowSuggestions(false);\n      setMentionQuery('');\n      setMentionStart(-1);\n    }\n\n    const mentions = extractMentions(newValue);\n    onChange(newValue, mentions);\n  }, [onChange, searchUsers, extractMentions]);\n\n  const insertMention = useCallback((user: MentionUser) => {\n    if (mentionStart === -1) return;\n\n    const beforeMention = value.slice(0, mentionStart);\n    const afterMention = value.slice(mentionStart + mentionQuery.length + 1);\n    const newValue = `${beforeMention}@${user.username} ${afterMention}`;\n    \n    const mentions = extractMentions(newValue);\n    onChange(newValue, mentions);\n    \n    setShowSuggestions(false);\n    setMentionQuery('');\n    setMentionStart(-1);\n\n    // Focus and set cursor position\n    setTimeout(() => {\n      if (textareaRef.current) {\n        const newCursorPos = mentionStart + user.username.length + 2;\n        textareaRef.current.focus();\n        textareaRef.current.setSelectionRange(newCursorPos, newCursorPos);\n      }\n    }, 0);\n  }, [value, mentionStart, mentionQuery, onChange, extractMentions]);\n\n  const handleKeyDown = useCallback((e: KeyboardEvent<HTMLTextAreaElement>) => {\n    if (!showSuggestions) {\n      if (e.key === 'Enter' && !e.shiftKey && onSubmit) {\n        e.preventDefault();\n        onSubmit();\n      }\n      return;\n    }\n\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        setSelectedIndex(prev => (prev + 1) % suggestions.length);\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        setSelectedIndex(prev => (prev - 1 + suggestions.length) % suggestions.length);\n        break;\n      case 'Enter':\n      case 'Tab':\n        e.preventDefault();\n        if (suggestions[selectedIndex]) {\n          insertMention(suggestions[selectedIndex]);\n        }\n        break;\n      case 'Escape':\n        e.preventDefault();\n        setShowSuggestions(false);\n        break;\n    }\n  }, [showSuggestions, suggestions, selectedIndex, insertMention, onSubmit]);\n\n  useEffect(() => {\n    if (autoFocus && textareaRef.current) {\n      textareaRef.current.focus();\n    }\n  }, [autoFocus]);\n\n  useEffect(() => {\n    return () => {\n      if (debounceRef.current) {\n        clearTimeout(debounceRef.current);\n      }\n    };\n  }, []);\n\n  return (\n    <div className=\"relative\">\n      <textarea\n        ref={textareaRef}\n        value={value}\n        onChange={handleInput}\n        onKeyDown={handleKeyDown}\n        placeholder={placeholder}\n        maxLength={maxLength}\n        rows={1}\n        className={`w-full resize-none bg-transparent text-white placeholder-white/40 focus:outline-none ${className}`}\n        style={{ minHeight: '24px' }}\n      />\n\n      {showSuggestions && (\n        <div className=\"absolute bottom-full left-0 right-0 mb-2 bg-neutral-800 rounded-xl overflow-hidden shadow-xl border border-white/10 z-50\">\n          {isLoading ? (\n            <div className=\"p-3 text-center text-white/60 text-sm\">\n              Searching...\n            </div>\n          ) : (\n            <div className=\"max-h-64 overflow-y-auto\">\n              {suggestions.map((user, index) => (\n                <button\n                  key={user.id}\n                  onClick={() => insertMention(user)}\n                  className={`w-full flex items-center gap-3 p-3 transition-colors ${\n                    index === selectedIndex ? 'bg-white/10' : 'hover:bg-white/5'\n                  }`}\n                >\n                  <div className=\"w-10 h-10 rounded-full overflow-hidden bg-neutral-700 flex-shrink-0\">\n                    {user.profileImage ? (\n                      <Image\n                        src={user.profileImage}\n                        alt={user.name}\n                        width={40}\n                        height={40}\n                        className=\"w-full h-full object-cover\"\n                      />\n                    ) : (\n                      <div className=\"w-full h-full flex items-center justify-center\">\n                        <User className=\"w-5 h-5 text-neutral-500\" />\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"flex-1 min-w-0 text-left\">\n                    <p className=\"text-white font-medium truncate\">{user.name}</p>\n                    <p className=\"text-white/60 text-sm truncate\">@{user.username}</p>\n                  </div>\n                </button>\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["useState","useRef","useCallback","useEffect","KeyboardEvent","Image","User","apiClient","MentionUser","id","username","name","profileImage","headline","MentionInputProps","value","onChange","mentions","placeholder","className","autoFocus","onSubmit","maxLength","MentionInput","textareaRef","HTMLTextAreaElement","showSuggestions","setShowSuggestions","suggestions","setSuggestions","isLoading","setIsLoading","selectedIndex","setSelectedIndex","mentionQuery","setMentionQuery","mentionStart","setMentionStart","debounceRef","NodeJS","Timeout","extractMentions","text","mentionRegex","match","exec","push","Set","searchUsers","query","length","response","get","params","q","limit","users","data","error","console","handleInput","e","React","ChangeEvent","newValue","target","cursorPos","selectionStart","textBeforeCursor","slice","mentionMatch","current","clearTimeout","setTimeout","insertMention","user","beforeMention","afterMention","newCursorPos","focus","setSelectionRange","handleKeyDown","key","shiftKey","preventDefault","prev","minHeight","map","index"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1934, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelComments.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { X, Heart, Send, Loader2, ChevronDown, Pin } from 'lucide-react';\nimport Link from 'next/link';\nimport { cn } from '@/lib/utils';\nimport { reelsApi, ReelComment } from '@/lib/api/reels';\nimport { MentionInput } from './MentionInput';\n\ninterface ReelCommentsProps {\n  reelId: string;\n  isOpen: boolean;\n  onClose: () => void;\n  authorId: string;\n}\n\nexport function ReelComments({ reelId, isOpen, onClose, authorId }: ReelCommentsProps) {\n  const [comments, setComments] = useState<ReelComment[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n  const [nextCursor, setNextCursor] = useState<string | null>(null);\n  const [newComment, setNewComment] = useState('');\n  const [commentMentions, setCommentMentions] = useState<string[]>([]);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [replyTo, setReplyTo] = useState<ReelComment | null>(null);\n  const [expandedReplies, setExpandedReplies] = useState<Set<string>>(new Set());\n  const [repliesData, setRepliesData] = useState<Record<string, ReelComment[]>>({});\n  const inputRef = useRef<HTMLInputElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const fetchComments = useCallback(async (cursor?: string) => {\n    try {\n      setIsLoading(true);\n      const response = await reelsApi.getComments(reelId, { cursor, limit: 20 }) as {\n        comments: ReelComment[];\n        nextCursor: string | null;\n        hasMore: boolean;\n      };\n      \n      if (cursor) {\n        setComments((prev) => [...prev, ...response.comments]);\n      } else {\n        setComments(response.comments);\n      }\n      setNextCursor(response.nextCursor);\n      setHasMore(response.hasMore);\n    } catch (error) {\n      console.error('Failed to fetch comments:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [reelId]);\n\n  useEffect(() => {\n    if (isOpen) {\n      fetchComments();\n    }\n  }, [isOpen, fetchComments]);\n\n  const fetchReplies = useCallback(async (parentId: string) => {\n    try {\n      const response = await reelsApi.getComments(reelId, { parentId, limit: 10 }) as {\n        comments: ReelComment[];\n        nextCursor: string | null;\n        hasMore: boolean;\n      };\n      setRepliesData((prev) => ({\n        ...prev,\n        [parentId]: response.comments,\n      }));\n    } catch (error) {\n      console.error('Failed to fetch replies:', error);\n    }\n  }, [reelId]);\n\n  const handleSubmit = useCallback(async (e?: React.FormEvent) => {\n    e?.preventDefault();\n    if (!newComment.trim() || isSubmitting) return;\n\n    try {\n      setIsSubmitting(true);\n      const response = await reelsApi.createComment(reelId, {\n        content: newComment.trim(),\n        parentId: replyTo?.id,\n        mentions: commentMentions,\n      }) as ReelComment;\n\n      if (replyTo) {\n        setRepliesData((prev) => ({\n          ...prev,\n          [replyTo.id]: [response, ...(prev[replyTo.id] || [])],\n        }));\n        setComments((prev) =>\n          prev.map((c) =>\n            c.id === replyTo.id\n              ? { ...c, repliesCount: c.repliesCount + 1 }\n              : c\n          )\n        );\n      } else {\n        setComments((prev) => [response, ...prev]);\n      }\n\n      setNewComment('');\n      setCommentMentions([]);\n      setReplyTo(null);\n    } catch (error) {\n      console.error('Failed to create comment:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  }, [reelId, newComment, commentMentions, replyTo, isSubmitting]);\n\n  const handleCommentChange = useCallback((value: string, mentions: string[]) => {\n    setNewComment(value);\n    setCommentMentions(mentions);\n  }, []);\n\n  const handleLike = useCallback(async (commentId: string) => {\n    try {\n      const response = await reelsApi.toggleCommentLike(reelId, commentId) as {\n        liked: boolean;\n        likesCount: number;\n      };\n      \n      setComments((prev) =>\n        prev.map((c) =>\n          c.id === commentId\n            ? { ...c, isLiked: response.liked, likesCount: response.likesCount }\n            : c\n        )\n      );\n\n      Object.keys(repliesData).forEach((parentId) => {\n        setRepliesData((prev) => ({\n          ...prev,\n          [parentId]: prev[parentId].map((c) =>\n            c.id === commentId\n              ? { ...c, isLiked: response.liked, likesCount: response.likesCount }\n              : c\n          ),\n        }));\n      });\n    } catch (error) {\n      console.error('Failed to toggle like:', error);\n    }\n  }, [reelId, repliesData]);\n\n  const handleReply = useCallback((comment: ReelComment) => {\n    setReplyTo(comment);\n    inputRef.current?.focus();\n  }, []);\n\n  const toggleReplies = useCallback((commentId: string) => {\n    const newExpanded = new Set(expandedReplies);\n    if (newExpanded.has(commentId)) {\n      newExpanded.delete(commentId);\n    } else {\n      newExpanded.add(commentId);\n      if (!repliesData[commentId]) {\n        fetchReplies(commentId);\n      }\n    }\n    setExpandedReplies(newExpanded);\n  }, [expandedReplies, repliesData, fetchReplies]);\n\n  const formatTime = (dateString: string) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n    const minutes = Math.floor(diff / 60000);\n    const hours = Math.floor(diff / 3600000);\n    const days = Math.floor(diff / 86400000);\n\n    if (minutes < 1) return 'now';\n    if (minutes < 60) return `${minutes}m`;\n    if (hours < 24) return `${hours}h`;\n    if (days < 7) return `${days}d`;\n    return date.toLocaleDateString();\n  };\n\n  const renderComment = (comment: ReelComment, isReply = false) => (\n    <div key={comment.id} className={cn(\"flex gap-3\", isReply && \"ml-12\")}>\n      <Link href={`/profile/${comment.author.id}`}>\n        <img\n          src={comment.author.profileImage || '/default-avatar.png'}\n          alt={comment.author.name}\n          className=\"w-8 h-8 rounded-full flex-shrink-0\"\n        />\n      </Link>\n      \n      <div className=\"flex-1 min-w-0\">\n        <div className=\"flex items-center gap-2 flex-wrap\">\n          <Link\n            href={`/profile/${comment.author.id}`}\n            className=\"font-semibold text-sm hover:underline\"\n          >\n            {comment.author.username}\n          </Link>\n          {comment.author.id === authorId && (\n            <span className=\"text-xs bg-blue-500 text-white px-1.5 py-0.5 rounded\">\n              Creator\n            </span>\n          )}\n          {comment.isPinned && (\n            <Pin className=\"w-3 h-3 text-gray-400\" />\n          )}\n          <span className=\"text-gray-500 text-xs\">\n            {formatTime(comment.createdAt)}\n          </span>\n        </div>\n        \n        <p className=\"text-sm mt-1 break-words\">{comment.content}</p>\n        \n        <div className=\"flex items-center gap-4 mt-2\">\n          <button\n            onClick={() => handleLike(comment.id)}\n            className=\"flex items-center gap-1 text-xs text-gray-500 hover:text-gray-700\"\n          >\n            <Heart\n              className={cn(\n                \"w-4 h-4\",\n                comment.isLiked && \"fill-red-500 text-red-500\"\n              )}\n            />\n            {comment.likesCount > 0 && comment.likesCount}\n          </button>\n          \n          <button\n            onClick={() => handleReply(comment)}\n            className=\"text-xs text-gray-500 hover:text-gray-700\"\n          >\n            Reply\n          </button>\n          \n          {comment.isAuthorHeart && (\n            <span className=\"text-xs text-red-500 flex items-center gap-1\">\n              <Heart className=\"w-3 h-3 fill-red-500\" /> by creator\n            </span>\n          )}\n        </div>\n        \n        {!isReply && comment.repliesCount > 0 && (\n          <button\n            onClick={() => toggleReplies(comment.id)}\n            className=\"flex items-center gap-1 text-xs text-blue-500 mt-2 hover:underline\"\n          >\n            <ChevronDown\n              className={cn(\n                \"w-4 h-4 transition-transform\",\n                expandedReplies.has(comment.id) && \"rotate-180\"\n              )}\n            />\n            {expandedReplies.has(comment.id)\n              ? 'Hide replies'\n              : `View ${comment.repliesCount} ${comment.repliesCount === 1 ? 'reply' : 'replies'}`\n            }\n          </button>\n        )}\n        \n        {expandedReplies.has(comment.id) && repliesData[comment.id] && (\n          <div className=\"mt-3 space-y-4\">\n            {repliesData[comment.id].map((reply) => renderComment(reply, true))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-end justify-center\">\n      <div\n        className=\"absolute inset-0 bg-black/50\"\n        onClick={onClose}\n      />\n      \n      <div className=\"relative w-full max-w-lg h-[70vh] bg-white dark:bg-gray-900 rounded-t-3xl flex flex-col animate-slide-up\">\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700\">\n          <h2 className=\"text-lg font-semibold\">Comments</h2>\n          <button\n            onClick={onClose}\n            className=\"w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 flex items-center justify-center\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n        \n        <div\n          ref={containerRef}\n          className=\"flex-1 overflow-y-auto p-4 space-y-6\"\n        >\n          {isLoading && comments.length === 0 ? (\n            <div className=\"flex items-center justify-center h-32\">\n              <Loader2 className=\"w-8 h-8 animate-spin text-gray-400\" />\n            </div>\n          ) : comments.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center h-32 text-gray-500\">\n              <p>No comments yet</p>\n              <p className=\"text-sm\">Be the first to comment!</p>\n            </div>\n          ) : (\n            <>\n              {comments.map((comment) => renderComment(comment))}\n              \n              {hasMore && (\n                <button\n                  onClick={() => fetchComments(nextCursor || undefined)}\n                  disabled={isLoading}\n                  className=\"w-full py-2 text-sm text-blue-500 hover:underline disabled:opacity-50\"\n                >\n                  {isLoading ? (\n                    <Loader2 className=\"w-4 h-4 animate-spin mx-auto\" />\n                  ) : (\n                    'Load more comments'\n                  )}\n                </button>\n              )}\n            </>\n          )}\n        </div>\n        \n        <div className=\"border-t border-gray-200 dark:border-gray-700 p-4\">\n          {replyTo && (\n            <div className=\"flex items-center justify-between text-sm text-gray-500 mb-2 bg-gray-100 dark:bg-gray-800 p-2 rounded-lg\">\n              <span>Replying to @{replyTo.author.username}</span>\n              <button\n                onClick={() => setReplyTo(null)}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <X className=\"w-4 h-4\" />\n              </button>\n            </div>\n          )}\n          \n          <form onSubmit={handleSubmit} className=\"flex items-center gap-3\">\n            <div className=\"flex-1 bg-gray-100 dark:bg-gray-800 rounded-full px-4 py-2\">\n              <MentionInput\n                value={newComment}\n                onChange={handleCommentChange}\n                placeholder={replyTo ? `Reply to @${replyTo.author.username}...` : \"Add a comment...\"}\n                className=\"text-sm text-gray-900 dark:text-white\"\n                onSubmit={() => handleSubmit()}\n                autoFocus={!!replyTo}\n              />\n            </div>\n            <button\n              type=\"submit\"\n              disabled={!newComment.trim() || isSubmitting}\n              className=\"w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isSubmitting ? (\n                <Loader2 className=\"w-5 h-5 animate-spin\" />\n              ) : (\n                <Send className=\"w-5 h-5\" />\n              )}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["useState","useEffect","useCallback","useRef","X","Heart","Send","Loader2","ChevronDown","Pin","Link","cn","reelsApi","ReelComment","MentionInput","ReelCommentsProps","reelId","isOpen","onClose","authorId","ReelComments","comments","setComments","isLoading","setIsLoading","hasMore","setHasMore","nextCursor","setNextCursor","newComment","setNewComment","commentMentions","setCommentMentions","isSubmitting","setIsSubmitting","replyTo","setReplyTo","expandedReplies","setExpandedReplies","Set","repliesData","setRepliesData","Record","inputRef","HTMLInputElement","containerRef","HTMLDivElement","fetchComments","cursor","response","getComments","limit","prev","error","console","fetchReplies","parentId","handleSubmit","e","React","FormEvent","preventDefault","trim","createComment","content","id","mentions","map","c","repliesCount","handleCommentChange","value","handleLike","commentId","toggleCommentLike","liked","likesCount","isLiked","Object","keys","forEach","handleReply","comment","current","focus","toggleReplies","newExpanded","has","delete","add","formatTime","dateString","date","Date","now","diff","getTime","minutes","Math","floor","hours","days","toLocaleDateString","renderComment","isReply","author","profileImage","name","username","isPinned","createdAt","isAuthorHeart","reply","length","undefined"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2557, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/api/posts.ts"],"sourcesContent":["// Posts API - Complete API client for Posts & Feed endpoints\n\nimport apiClient from './client';\nimport type {\n  Post,\n  FeedResponse,\n  Comment,\n  CommentsResponse,\n  MentionUser,\n  MentionNotification,\n} from '@/types/post';\n\n// ============================================\n// Feed Endpoints\n// ============================================\n\n/**\n * Get home feed with cursor-based pagination\n * @param cursor - Optional cursor for pagination\n * @param limit - Number of posts per page (default: 20)\n */\nexport async function getFeed(cursor?: string, limit: number = 20): Promise<FeedResponse> {\n  const params: Record<string, any> = { limit };\n  if (cursor) params.cursor = cursor;\n  return apiClient.get('/posts/feed', { params });\n}\n\n/**\n * Get a single post by ID\n * @param postId - Post ID\n */\nexport async function getPost(postId: string): Promise<Post> {\n  return apiClient.get(`/posts/${postId}`);\n}\n\n// ============================================\n// Post CRUD Endpoints\n// ============================================\n\n/**\n * Create a new post (supports all post types)\n * Uses FormData for file uploads\n */\nexport async function createPost(formData: FormData): Promise<Post> {\n  // Content-Type is automatically handled by the request interceptor for FormData\n  return apiClient.post('/posts', formData);\n}\n\n/**\n * Delete a post\n * @param postId - Post ID to delete\n */\nexport async function deletePost(postId: string): Promise<{ success: boolean }> {\n  return apiClient.delete(`/posts/${postId}`);\n}\n\n/**\n * Update a post (content and visibility only)\n * @param postId - Post ID to update\n * @param data - Updated content and/or visibility\n */\nexport async function updatePost(\n  postId: string,\n  data: { content?: string; visibility?: string }\n): Promise<Post> {\n  return apiClient.put(`/posts/${postId}`, data);\n}\n\n// ============================================\n// Engagement Endpoints\n// ============================================\n\n/**\n * Toggle like on a post\n * @param postId - Post ID\n */\nexport async function toggleLike(postId: string): Promise<{ liked: boolean; likesCount: number }> {\n  return apiClient.post(`/posts/${postId}/like`);\n}\n\n/**\n * Vote on a poll\n * @param postId - Post ID\n * @param optionId - Poll option ID\n */\nexport async function votePoll(postId: string, optionId: string): Promise<{ success: boolean; pollOptions: any[] }> {\n  return apiClient.post(`/posts/${postId}/poll/vote`, { optionId });\n}\n\n/**\n * Share post to user(s)\n * @param postId - Post ID\n * @param userId - Target user ID to share with\n */\nexport async function sharePostToUser(postId: string, userId: string): Promise<{ message: string }> {\n  return apiClient.post(`/posts/${postId}/share`, { userId });\n}\n\n/**\n * Track post impression (view)\n * @param postId - Post ID\n * @param locationData - Optional location data\n */\nexport async function trackImpression(\n  postId: string,\n  locationData?: { lat: number; lng: number; city?: string; country?: string }\n): Promise<{ success: boolean }> {\n  return apiClient.post(`/posts/${postId}/impression`, locationData);\n}\n\n// ============================================\n// Comments Endpoints\n// ============================================\n\n/**\n * Get comments for a post\n * @param postId - Post ID\n * @param parentId - Optional parent comment ID for replies\n * @param page - Page number\n * @param limit - Comments per page\n */\nexport async function getComments(\n  postId: string,\n  parentId?: string,\n  page: number = 1,\n  limit: number = 20\n): Promise<CommentsResponse> {\n  const params: Record<string, any> = { page, limit };\n  if (parentId) params.parentId = parentId;\n  return apiClient.get(`/posts/${postId}/comments`, { params });\n}\n\n/**\n * Create a comment on a post\n * Note: This is handled via WebSocket for real-time updates\n * This is a fallback HTTP endpoint\n */\nexport async function createComment(\n  postId: string,\n  content: string,\n  parentId?: string,\n  mentions?: string[]\n): Promise<Comment> {\n  return apiClient.post(`/posts/${postId}/comments`, {\n    content,\n    parentId,\n    mentions,\n  });\n}\n\n/**\n * Toggle like on a comment\n * Note: This is handled via WebSocket for real-time updates\n */\nexport async function toggleCommentLike(\n  postId: string,\n  commentId: string\n): Promise<{ liked: boolean; likesCount: number }> {\n  return apiClient.post(`/posts/${postId}/comments/${commentId}/like`);\n}\n\n// ============================================\n// Mention Endpoints\n// ============================================\n\n/**\n * Search users for @mention autocomplete\n * @param query - Search query\n */\nexport async function searchUsersForMention(query: string): Promise<MentionUser[]> {\n  const res = await apiClient.get('/mentions/search', { params: { q: query } });\n  return (res as { users?: MentionUser[] }).users ?? [];\n}\n\n/**\n * Get unread mentions\n */\nexport async function getUnreadMentions(): Promise<MentionNotification[]> {\n  return apiClient.get('/mentions/unread');\n}\n\n/**\n * Get unread mention count\n */\nexport async function getUnreadMentionCount(): Promise<{ count: number }> {\n  return apiClient.get('/mentions/count');\n}\n\n/**\n * Mark mentions as read\n * @param mentionIds - Array of mention IDs to mark as read\n */\nexport async function markMentionsAsRead(mentionIds: string[]): Promise<{ success: boolean }> {\n  return apiClient.post('/mentions/read', { mentionIds });\n}\n\n// ============================================\n// Upload Endpoints\n// ============================================\n\n/**\n * Upload avatar image\n * @param file - Image file\n */\nexport async function uploadAvatar(file: File): Promise<{ avatarUrl: string }> {\n  const formData = new FormData();\n  formData.append('image', file);\n  return apiClient.post('/upload/avatar', formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  });\n}\n\n/**\n * Upload banner image\n * @param file - Image file\n */\nexport async function uploadBanner(file: File): Promise<{ bannerUrl: string }> {\n  const formData = new FormData();\n  formData.append('image', file);\n  return apiClient.post('/upload/banner', formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  });\n}\n\n/**\n * Upload certificate/document image\n * @param file - Image file\n */\nexport async function uploadCertificate(file: File): Promise<{ certificateUrl: string }> {\n  const formData = new FormData();\n  formData.append('image', file);\n  return apiClient.post('/upload/certificate', formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  });\n}\n\n/**\n * Upload project image\n * @param file - Image file\n */\nexport async function uploadProjectImage(file: File): Promise<{ imageUrl: string }> {\n  const formData = new FormData();\n  formData.append('image', file);\n  return apiClient.post('/upload/project', formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  });\n}\n\n/**\n * Delete an uploaded file\n * @param fileUrl - URL of file to delete\n * @param type - Type of file (avatar, banner, post)\n */\nexport async function deleteUpload(fileUrl: string, type: 'avatar' | 'banner' | 'post'): Promise<{ success: boolean }> {\n  return apiClient.delete('/upload', { data: { fileUrl, type } });\n}\n\n// ============================================\n// Location Endpoints\n// ============================================\n\n/**\n * Update user location\n */\nexport async function updateLocation(\n  lat: number,\n  lng: number,\n  accuracy?: number,\n  activity?: string\n): Promise<any> {\n  return apiClient.post('/location/update', { lat, lng, accuracy, activity });\n}\n\n/**\n * Get current user's location\n */\nexport async function getMyLocation(): Promise<any> {\n  return apiClient.get('/location/me');\n}\n\n/**\n * Get nearby users\n * @param radius - Search radius in km (default: 50)\n * @param limit - Max users to return (default: 20)\n */\nexport async function getNearbyUsers(radius?: number, limit?: number): Promise<any[]> {\n  const params: Record<string, any> = {};\n  if (radius) params.radius = radius;\n  if (limit) params.limit = limit;\n  return apiClient.get('/location/nearby', { params });\n}\n\n/**\n * Update location settings\n */\nexport async function updateLocationSettings(settings: {\n  locationPermission?: boolean;\n  shareLocationPublic?: boolean;\n}): Promise<{ message: string }> {\n  return apiClient.put('/location/settings', settings);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2762, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelShareSheet.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport Image from 'next/image';\nimport { \n  X, \n  Search, \n  Send, \n  Copy, \n  Check,\n  Link2,\n  MessageCircle,\n  Loader2,\n  User\n} from 'lucide-react';\nimport { Reel } from '@/lib/api/reels';\nimport apiClient from '@/lib/api/client';\nimport { searchUsersForMention } from '@/lib/api/posts';\n\ninterface ReelShareSheetProps {\n  reel: Reel;\n  isOpen: boolean;\n  onClose: () => void;\n}\n\ninterface Conversation {\n  id: string;\n  otherParticipant: {\n    id: string;\n    username: string;\n    name: string;\n    profileImage: string | null;\n  };\n  lastMessage?: {\n    content: string;\n  };\n}\n\nexport function ReelShareSheet({ reel, isOpen, onClose }: ReelShareSheetProps) {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [conversations, setConversations] = useState<Conversation[]>([]);\n  const [searchUsers, setSearchUsers] = useState<Array<{ id: string; name: string; username: string; profileImage?: string | null }>>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isSearching, setIsSearching] = useState(false);\n  const [sendingTo, setSendingTo] = useState<string | null>(null);\n  const [sentTo, setSentTo] = useState<Set<string>>(new Set());\n  const [copied, setCopied] = useState(false);\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    if (isOpen) {\n      fetchConversations();\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n      setSearchQuery('');\n      setSentTo(new Set());\n      setMessage('');\n    }\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n\n  const fetchConversations = async () => {\n    try {\n      setIsLoading(true);\n      const response = await apiClient.get('/chat/conversations');\n      setConversations(response?.conversations || []);\n    } catch (error) {\n      console.error('Failed to fetch conversations:', error);\n      setConversations([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const shareToUser = async (userId: string) => {\n    try {\n      setSendingTo(userId);\n      await apiClient.post(`/reels/${reel.id}/share/chat`, {\n        recipientId: userId,\n        message: message || undefined,\n      });\n      setSentTo(prev => new Set(prev).add(userId));\n      setMessage('');\n    } catch (error) {\n      console.error('Failed to share reel:', error);\n    } finally {\n      setSendingTo(null);\n    }\n  };\n\n  const copyLink = useCallback(async () => {\n    try {\n      const url = `${window.location.origin}/reels/${reel.id}`;\n      await navigator.clipboard.writeText(url);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n      \n      // Track share\n      await apiClient.post(`/reels/${reel.id}/share`, {\n        shareType: 'copy_link',\n      });\n    } catch (error) {\n      console.error('Failed to copy link:', error);\n    }\n  }, [reel.id]);\n\n  const filteredConversations = conversations.filter(conv => {\n    if (!searchQuery) return true;\n    const query = searchQuery.toLowerCase();\n    return (\n      conv.otherParticipant.name?.toLowerCase().includes(query) ||\n      conv.otherParticipant.username?.toLowerCase().includes(query)\n    );\n  });\n\n  useEffect(() => {\n    if (!searchQuery || searchQuery.length < 2) {\n      setSearchUsers([]);\n      return;\n    }\n    const timer = setTimeout(async () => {\n      setIsSearching(true);\n      try {\n        const users = await searchUsersForMention(searchQuery);\n        setSearchUsers(users || []);\n      } catch {\n        setSearchUsers([]);\n      } finally {\n        setIsSearching(false);\n      }\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [searchQuery]);\n\n  const conversationIds = new Set(conversations.map(c => c.otherParticipant.id));\n  const usersToShow = searchUsers.filter(u => !conversationIds.has(u.id));\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-[100] flex items-end justify-center\">\n      <div \n        className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n      \n      <div className=\"relative w-full max-w-lg bg-neutral-900 rounded-t-3xl max-h-[90dvh] flex flex-col animate-slide-up\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 border-b border-white/10\">\n          <h2 className=\"text-lg font-semibold text-white\">Share Reel</h2>\n          <button\n            onClick={onClose}\n            className=\"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors\"\n          >\n            <X className=\"w-5 h-5 text-white\" />\n          </button>\n        </div>\n\n        {/* Reel Preview */}\n        <div className=\"p-4 border-b border-white/10\">\n          <div className=\"flex gap-3\">\n            <div className=\"w-16 h-24 bg-neutral-800 rounded-lg overflow-hidden flex-shrink-0\">\n              {reel.thumbnailUrl ? (\n                <Image\n                  src={reel.thumbnailUrl}\n                  alt=\"\"\n                  width={64}\n                  height={96}\n                  className=\"w-full h-full object-cover\"\n                />\n              ) : (\n                <div className=\"w-full h-full flex items-center justify-center\">\n                  <MessageCircle className=\"w-6 h-6 text-neutral-600\" />\n                </div>\n              )}\n            </div>\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-white font-medium line-clamp-2\">\n                {reel.title || reel.caption || 'Check out this reel!'}\n              </p>\n              <p className=\"text-white/60 text-sm mt-1\">\n                by @{reel.author.username}\n              </p>\n            </div>\n          </div>\n          \n          {/* Optional message */}\n          <input\n            type=\"text\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            placeholder=\"Add a message...\"\n            className=\"w-full mt-3 px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/40 focus:outline-none focus:border-white/30\"\n          />\n        </div>\n\n        {/* Quick Actions */}\n        <div className=\"p-4 border-b border-white/10\">\n          <div className=\"flex gap-4\">\n            <button\n              onClick={copyLink}\n              className=\"flex flex-col items-center gap-2 flex-1\"\n            >\n              <div className={`w-14 h-14 rounded-full flex items-center justify-center transition-colors ${\n                copied ? 'bg-green-500/20' : 'bg-white/10 hover:bg-white/20'\n              }`}>\n                {copied ? (\n                  <Check className=\"w-6 h-6 text-green-500\" />\n                ) : (\n                  <Link2 className=\"w-6 h-6 text-white\" />\n                )}\n              </div>\n              <span className=\"text-white/80 text-xs\">\n                {copied ? 'Copied!' : 'Copy Link'}\n              </span>\n            </button>\n          </div>\n        </div>\n\n        {/* Search with dropdown results */}\n        <div className=\"p-4 border-b border-white/10 relative shrink-0\">\n          <div className=\"relative\">\n            <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40\" />\n            <input\n              type=\"text\"\n              value={searchQuery}\n              onChange={(e) => setSearchQuery(e.target.value)}\n              placeholder=\"Search people to share with...\"\n              className=\"w-full pl-10 pr-4 py-2.5 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/40 focus:outline-none focus:border-white/30\"\n            />\n          </div>\n          {searchQuery.length >= 2 && (\n            <div className=\"absolute left-4 right-4 top-full mt-2 max-h-64 overflow-y-auto bg-neutral-800 rounded-xl border border-white/10 shadow-xl z-[110]\">\n              {isSearching ? (\n                <div className=\"p-4 flex justify-center\">\n                  <Loader2 className=\"w-6 h-6 text-white/60 animate-spin\" />\n                </div>\n              ) : usersToShow.length === 0 ? (\n                <div className=\"p-4 text-white/60 text-sm text-center\">No people found</div>\n              ) : (\n                usersToShow.map((user) => {\n                  const isSent = sentTo.has(user.id);\n                  const isSending = sendingTo === user.id;\n                  return (\n                    <div\n                      key={`search-${user.id}`}\n                      className=\"flex items-center gap-3 p-3 hover:bg-white/5 transition-colors\"\n                    >\n                      <div className=\"w-10 h-10 rounded-full overflow-hidden bg-neutral-700 flex-shrink-0\">\n                        {user.profileImage ? (\n                          <Image src={user.profileImage} alt=\"\" width={40} height={40} className=\"w-full h-full object-cover\" />\n                        ) : (\n                          <div className=\"w-full h-full flex items-center justify-center\">\n                            <User className=\"w-5 h-5 text-neutral-500\" />\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-white font-medium text-sm truncate\">{user.name}</p>\n                        <p className=\"text-white/60 text-xs truncate\">@{user.username}</p>\n                      </div>\n                      <button\n                        onClick={() => shareToUser(user.id)}\n                        disabled={isSending || isSent}\n                        className={`px-3 py-1.5 rounded-full text-xs font-medium ${\n                          isSent ? 'bg-green-500/20 text-green-500' : 'bg-white text-black hover:bg-white/90'\n                        } disabled:opacity-50`}\n                      >\n                        {isSending ? <Loader2 className=\"w-3 h-3 animate-spin\" /> : isSent ? 'Sent' : 'Send'}\n                      </button>\n                    </div>\n                  );\n                })\n              )}\n            </div>\n          )}\n        </div>\n\n        {/* Conversations List */}\n        <div className=\"flex-1 overflow-y-auto p-4 pb-24 min-h-0\">\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <Loader2 className=\"w-8 h-8 text-white/60 animate-spin\" />\n            </div>\n          ) : filteredConversations.length === 0 ? (\n            <div className=\"text-center py-8 text-white/60\">\n              No recent conversations\n            </div>\n          ) : (\n            <div className=\"space-y-2\">\n              {filteredConversations.map((conv) => {\n                const isSent = sentTo.has(conv.otherParticipant.id);\n                const isSending = sendingTo === conv.otherParticipant.id;\n                \n                return (\n                  <div\n                    key={conv.id}\n                    className=\"flex items-center gap-3 p-3 rounded-xl hover:bg-white/5 transition-colors\"\n                  >\n                    <div className=\"w-12 h-12 rounded-full overflow-hidden bg-neutral-800 flex-shrink-0\">\n                      {conv.otherParticipant.profileImage ? (\n                        <Image\n                          src={conv.otherParticipant.profileImage}\n                          alt={conv.otherParticipant.name}\n                          width={48}\n                          height={48}\n                          className=\"w-full h-full object-cover\"\n                        />\n                      ) : (\n                        <div className=\"w-full h-full flex items-center justify-center\">\n                          <User className=\"w-6 h-6 text-neutral-600\" />\n                        </div>\n                      )}\n                    </div>\n                    \n                    <div className=\"flex-1 min-w-0\">\n                      <p className=\"text-white font-medium truncate\">\n                        {conv.otherParticipant.name}\n                      </p>\n                      <p className=\"text-white/60 text-sm truncate\">\n                        @{conv.otherParticipant.username}\n                      </p>\n                    </div>\n                    \n                    <button\n                      onClick={() => shareToUser(conv.otherParticipant.id)}\n                      disabled={isSending || isSent}\n                      className={`px-4 py-2 rounded-full font-medium text-sm transition-colors ${\n                        isSent\n                          ? 'bg-green-500/20 text-green-500'\n                          : 'bg-white text-black hover:bg-white/90'\n                      } disabled:opacity-50`}\n                    >\n                      {isSending ? (\n                        <Loader2 className=\"w-4 h-4 animate-spin\" />\n                      ) : isSent ? (\n                        <span className=\"flex items-center gap-1\">\n                          <Check className=\"w-4 h-4\" />\n                          Sent\n                        </span>\n                      ) : (\n                        <span className=\"flex items-center gap-1\">\n                          <Send className=\"w-4 h-4\" />\n                          Send\n                        </span>\n                      )}\n                    </button>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n        </div>\n      </div>\n\n      <style jsx>{`\n        @keyframes slide-up {\n          from {\n            transform: translateY(100%);\n          }\n          to {\n            transform: translateY(0);\n          }\n        }\n        .animate-slide-up {\n          animation: slide-up 0.3s ease-out;\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":["useState","useEffect","useCallback","Image","X","Search","Send","Copy","Check","Link2","MessageCircle","Loader2","User","Reel","apiClient","searchUsersForMention","ReelShareSheetProps","reel","isOpen","onClose","Conversation","id","otherParticipant","username","name","profileImage","lastMessage","content","ReelShareSheet","searchQuery","setSearchQuery","conversations","setConversations","searchUsers","setSearchUsers","Array","isLoading","setIsLoading","isSearching","setIsSearching","sendingTo","setSendingTo","sentTo","setSentTo","Set","copied","setCopied","message","setMessage","fetchConversations","document","body","style","overflow","response","get","error","console","shareToUser","userId","post","recipientId","undefined","prev","add","copyLink","url","window","location","origin","navigator","clipboard","writeText","setTimeout","shareType","filteredConversations","filter","conv","query","toLowerCase","includes","length","timer","users","clearTimeout","conversationIds","map","c","usersToShow","u","has","thumbnailUrl","title","caption","author","e","target","value","user","isSent","isSending"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3420, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelPoll.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport { cn } from '@/lib/utils';\nimport { reelsApi } from '@/lib/api/reels';\n\ninterface PollOption {\n  id: number;\n  text: string;\n  votes: number;\n}\n\ninterface ReelPollProps {\n  reelId: string;\n  question: string;\n  options: PollOption[];\n  userVotedOption: number | null;\n  endsAt: string | null;\n}\n\nexport function ReelPoll({\n  reelId,\n  question,\n  options: initialOptions,\n  userVotedOption: initialVote,\n  endsAt,\n}: ReelPollProps) {\n  const [options, setOptions] = useState(initialOptions);\n  const [votedOption, setVotedOption] = useState(initialVote);\n  const [isVoting, setIsVoting] = useState(false);\n\n  const totalVotes = options.reduce((sum, opt) => sum + opt.votes, 0);\n  const isEnded = endsAt ? new Date(endsAt) < new Date() : false;\n  const hasVoted = votedOption !== null;\n\n  const handleVote = useCallback(async (optionId: number) => {\n    if (hasVoted || isVoting || isEnded) return;\n\n    try {\n      setIsVoting(true);\n      const response = await reelsApi.votePoll(reelId, optionId) as {\n        success: boolean;\n        pollOptions: PollOption[];\n        userVotedOption: number;\n      };\n      \n      setOptions(response.pollOptions);\n      setVotedOption(response.userVotedOption);\n    } catch (error) {\n      console.error('Failed to vote:', error);\n    } finally {\n      setIsVoting(false);\n    }\n  }, [reelId, hasVoted, isVoting, isEnded]);\n\n  const getPercentage = (votes: number) => {\n    if (totalVotes === 0) return 0;\n    return Math.round((votes / totalVotes) * 100);\n  };\n\n  const formatTimeLeft = () => {\n    if (!endsAt) return null;\n    const end = new Date(endsAt);\n    const now = new Date();\n    const diff = end.getTime() - now.getTime();\n    \n    if (diff <= 0) return 'Ended';\n    \n    const hours = Math.floor(diff / 3600000);\n    const minutes = Math.floor((diff % 3600000) / 60000);\n    \n    if (hours > 24) {\n      return `${Math.floor(hours / 24)}d left`;\n    }\n    if (hours > 0) {\n      return `${hours}h ${minutes}m left`;\n    }\n    return `${minutes}m left`;\n  };\n\n  return (\n    <div className=\"bg-black/60 backdrop-blur-md rounded-2xl p-4 space-y-3\">\n      <h3 className=\"text-white font-semibold text-lg\">{question}</h3>\n      \n      <div className=\"space-y-2\">\n        {options.map((option) => {\n          const percentage = getPercentage(option.votes);\n          const isSelected = votedOption === option.id;\n          \n          return (\n            <button\n              key={option.id}\n              onClick={() => handleVote(option.id)}\n              disabled={hasVoted || isVoting || isEnded}\n              className={cn(\n                \"relative w-full p-3 rounded-xl text-left transition-all overflow-hidden\",\n                hasVoted || isEnded\n                  ? \"bg-white/10\"\n                  : \"bg-white/20 hover:bg-white/30 active:scale-[0.98]\",\n                isSelected && \"ring-2 ring-white\"\n              )}\n            >\n              {(hasVoted || isEnded) && (\n                <div\n                  className={cn(\n                    \"absolute inset-0 transition-all\",\n                    isSelected ? \"bg-blue-500/40\" : \"bg-white/10\"\n                  )}\n                  style={{ width: `${percentage}%` }}\n                />\n              )}\n              \n              <div className=\"relative flex items-center justify-between\">\n                <span className=\"text-white font-medium\">{option.text}</span>\n                {(hasVoted || isEnded) && (\n                  <span className=\"text-white/80 font-semibold\">\n                    {percentage}%\n                  </span>\n                )}\n              </div>\n            </button>\n          );\n        })}\n      </div>\n      \n      <div className=\"flex items-center justify-between text-white/60 text-sm\">\n        <span>{totalVotes} {totalVotes === 1 ? 'vote' : 'votes'}</span>\n        {endsAt && <span>{formatTimeLeft()}</span>}\n      </div>\n    </div>\n  );\n}\n"],"names":["useState","useCallback","cn","reelsApi","PollOption","id","text","votes","ReelPollProps","reelId","question","options","userVotedOption","endsAt","ReelPoll","initialOptions","initialVote","setOptions","votedOption","setVotedOption","isVoting","setIsVoting","totalVotes","reduce","sum","opt","isEnded","Date","hasVoted","handleVote","optionId","response","votePoll","success","pollOptions","error","console","getPercentage","Math","round","formatTimeLeft","end","now","diff","getTime","hours","floor","minutes","map","option","percentage","isSelected","width"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3598, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelQuiz.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport { Check, X } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { reelsApi } from '@/lib/api/reels';\n\ninterface QuizOption {\n  id: number;\n  text: string;\n}\n\ninterface ReelQuizProps {\n  reelId: string;\n  question: string;\n  options: QuizOption[];\n}\n\nexport function ReelQuiz({ reelId, question, options }: ReelQuizProps) {\n  const [selectedOption, setSelectedOption] = useState<number | null>(null);\n  const [correctAnswer, setCorrectAnswer] = useState<number | null>(null);\n  const [isAnswered, setIsAnswered] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleAnswer = useCallback(async (optionId: number) => {\n    if (isAnswered || isSubmitting) return;\n\n    try {\n      setIsSubmitting(true);\n      setSelectedOption(optionId);\n      \n      const response = await reelsApi.answerQuiz(reelId, optionId) as {\n        correct: boolean;\n        correctAnswer: number;\n      };\n      \n      setCorrectAnswer(response.correctAnswer);\n      setIsAnswered(true);\n    } catch (error) {\n      console.error('Failed to answer quiz:', error);\n      setSelectedOption(null);\n    } finally {\n      setIsSubmitting(false);\n    }\n  }, [reelId, isAnswered, isSubmitting]);\n\n  return (\n    <div className=\"bg-black/60 backdrop-blur-md rounded-2xl p-4 space-y-3\">\n      <h3 className=\"text-white font-semibold text-lg\">{question}</h3>\n      \n      <div className=\"space-y-2\">\n        {options.map((option) => {\n          const isSelected = selectedOption === option.id;\n          const isCorrect = correctAnswer === option.id;\n          const isWrong = isAnswered && isSelected && !isCorrect;\n          \n          return (\n            <button\n              key={option.id}\n              onClick={() => handleAnswer(option.id)}\n              disabled={isAnswered || isSubmitting}\n              className={cn(\n                \"relative w-full p-3 rounded-xl text-left transition-all\",\n                isAnswered\n                  ? isCorrect\n                    ? \"bg-green-500/40 ring-2 ring-green-500\"\n                    : isWrong\n                      ? \"bg-red-500/40 ring-2 ring-red-500\"\n                      : \"bg-white/10\"\n                  : \"bg-white/20 hover:bg-white/30 active:scale-[0.98]\",\n                isSubmitting && isSelected && \"animate-pulse\"\n              )}\n            >\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-white font-medium\">{option.text}</span>\n                {isAnswered && isCorrect && (\n                  <Check className=\"w-5 h-5 text-green-400\" />\n                )}\n                {isWrong && (\n                  <X className=\"w-5 h-5 text-red-400\" />\n                )}\n              </div>\n            </button>\n          );\n        })}\n      </div>\n      \n      {isAnswered && (\n        <div className={cn(\n          \"text-center py-2 rounded-lg font-medium\",\n          selectedOption === correctAnswer\n            ? \"bg-green-500/20 text-green-400\"\n            : \"bg-red-500/20 text-red-400\"\n        )}>\n          {selectedOption === correctAnswer ? 'Correct! ' : 'Wrong answer '}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["useState","useCallback","Check","X","cn","reelsApi","QuizOption","id","text","ReelQuizProps","reelId","question","options","ReelQuiz","selectedOption","setSelectedOption","correctAnswer","setCorrectAnswer","isAnswered","setIsAnswered","isSubmitting","setIsSubmitting","handleAnswer","optionId","response","answerQuiz","correct","error","console","map","option","isSelected","isCorrect","isWrong"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3731, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelCodeSnippet.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Copy, Check, FileCode } from 'lucide-react';\n\ninterface ReelCodeSnippetProps {\n  code: string;\n  language?: string | null;\n  fileName?: string | null;\n}\n\nexport function ReelCodeSnippet({ code, language, fileName }: ReelCodeSnippetProps) {\n  const [copied, setCopied] = useState(false);\n\n  const handleCopy = async (e: React.MouseEvent) => {\n    e.stopPropagation();\n    try {\n      await navigator.clipboard.writeText(code);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (error) {\n      console.error('Failed to copy:', error);\n    }\n  };\n\n  const getLanguageColor = (lang: string | null | undefined): string => {\n    const colors: Record<string, string> = {\n      javascript: 'text-yellow-400',\n      typescript: 'text-blue-400',\n      python: 'text-green-400',\n      java: 'text-red-400',\n      kotlin: 'text-purple-400',\n      swift: 'text-orange-400',\n      rust: 'text-orange-500',\n      go: 'text-cyan-400',\n      cpp: 'text-blue-500',\n      c: 'text-blue-600',\n      csharp: 'text-purple-500',\n      ruby: 'text-red-500',\n      php: 'text-indigo-400',\n      html: 'text-orange-400',\n      css: 'text-blue-400',\n      sql: 'text-yellow-500',\n      shell: 'text-green-500',\n      bash: 'text-green-500',\n    };\n    return lang ? colors[lang.toLowerCase()] || 'text-gray-400' : 'text-gray-400';\n  };\n\n  return (\n    <div className=\"bg-black/80 backdrop-blur-md rounded-xl overflow-hidden\">\n      <div className=\"flex items-center justify-between px-4 py-2 bg-white/5 border-b border-white/10\">\n        <div className=\"flex items-center gap-2\">\n          <FileCode className={`w-4 h-4 ${getLanguageColor(language)}`} />\n          {fileName && (\n            <span className=\"text-white/70 text-sm font-mono\">{fileName}</span>\n          )}\n          {language && !fileName && (\n            <span className=\"text-white/70 text-sm\">{language}</span>\n          )}\n        </div>\n        \n        <button\n          onClick={handleCopy}\n          className=\"flex items-center gap-1 text-white/60 hover:text-white text-sm transition-colors\"\n        >\n          {copied ? (\n            <>\n              <Check className=\"w-4 h-4\" />\n              Copied!\n            </>\n          ) : (\n            <>\n              <Copy className=\"w-4 h-4\" />\n              Copy\n            </>\n          )}\n        </button>\n      </div>\n      \n      <pre className=\"p-4 overflow-x-auto\">\n        <code className=\"text-sm font-mono text-white/90 whitespace-pre-wrap break-words\">\n          {code}\n        </code>\n      </pre>\n    </div>\n  );\n}\n"],"names":["c","_c","useState","Copy","Check","FileCode","ReelCodeSnippetProps","code","language","fileName","ReelCodeSnippet","t0","$","$i","Symbol","for","copied","setCopied","t1","e","stopPropagation","navigator","clipboard","writeText","setTimeout","ReelCodeSnippet[handleCopy > setTimeout()]","t2","error","console","handleCopy","getLanguageColor","_ReelCodeSnippetGetLanguageColor","t3","t4","t5","t6","t7","t8","t9","t10","t11","t12","lang","colors","javascript","typescript","python","java","kotlin","swift","rust","go","cpp","csharp","ruby","php","html","css","sql","shell","bash","toLowerCase"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,IAAI,EAAEC,KAAK,EAAEC,QAAQ,QAAQ,cAAc;;;;;AAHpD,YAAY;;;;AAWL,yBAAAM,EAAA;;IAAA,MAAAC,CAAA,OAAAX,gLAAA,EAAA;IAAA,IAAAW,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAyB,MAAA,EAAAL,IAAA,EAAAC,QAAA,EAAAC,QAAAA,EAAA,GAAAE,EAAkD;IAChF,MAAA,CAAAK,MAAA,EAAAC,SAAA,CAAA,GAA4Bf,6KAAQ,EAAC,KAAK,CAAC;IAAC,IAAAgB,EAAA;IAAA,IAAAN,CAAA,CAAA,EAAA,KAAAL,IAAA,EAAA;QAEzBW,EAAA,GAAA,CAAA;YAAA,+BAAA,OAAAC,CAAA;gBACjBA,CAAC,CAAAC,eAAgB,CAAC,CAAC;;gBACnB,IAAA;oBACE,MAAMC,SAAS,CAAAC,SAAU,CAAAC,SAAU,CAAChB,IAAI,CAAC;oBACzCU,SAAS,CAAC,IAAI,CAAC;oBACfO,UAAU,CAAC;wBAAA,8CAAAC,CAAA,GAAMR,SAAS,CAAC,KAAK;oBAAC,CAAA,CAAA,6CAAA,EAAE,IAAI,CAAC;gBAAA,EAAA,OAAAS,EAAA,EAAA;oBACjCC,KAAA,CAAAA,KAAA,CAAAA,CAAA,CAAAA,EAAK;oBACZC,OAAO,CAAAD,KAAM,CAAC,iBAAiB,EAAEA,KAAK,CAAC;gBAAA;YACxC;SAAA,CAAA,CAAA,8BACF;QAAAf,CAAA,CAAA,EAAA,GAAAL,IAAA;QAAAK,CAAA,CAAA,EAAA,GAAAM,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAN,CAAA,CAAA,EAAA;IAAA;IATD,MAAAiB,UAAA,GAAmBX,EASlB;IAED,MAAAY,gBAAA,GAAyBC,gCAsBxB;IAAC,IAAAL,EAAA;IAAA,IAAAd,CAAA,CAAA,EAAA,KAAAJ,QAAA,EAAA;QAMsCkB,EAAA,GAAAI,gBAAgB,CAACtB,QAAQ,CAAC;QAAAI,CAAA,CAAA,EAAA,GAAAJ,QAAA;QAAAI,CAAA,CAAA,EAAA,GAAAc,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAd,CAAA,CAAA,EAAA;IAAA;IAArC,MAAAoB,EAAA,GAAA,CAAA,QAAA,EAAWN,EAA0B,EAAE;IAAA,IAAAO,EAAA;IAAA,IAAArB,CAAA,CAAA,EAAA,KAAAoB,EAAA,EAAA;QAA5DC,EAAA,iBAAA,6LAAC,6NAAQ;YAAY,SAAuC,CAAvC,CAAAD,EAAsC,CAAC,GAAI;;;;;;QAAApB,CAAA,CAAA,EAAA,GAAAoB,EAAA;QAAApB,CAAA,CAAA,EAAA,GAAAqB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAArB,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAsB,EAAA;IAAA,IAAAtB,CAAA,CAAA,EAAA,KAAAH,QAAA,EAAA;QAC/DyB,EAAA,GAAAzB,QAEA,kBADC,6LAAA,IAAmE;YAAnD,SAAiC,EAAjC,iCAAiC,CAAEA;sBAAAA,QAAO,CAAE,EAA5D,IAAmE,CACpE;;;;;;QAAAG,CAAA,CAAA,EAAA,GAAAH,QAAA;QAAAG,CAAA,CAAA,EAAA,GAAAsB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAtB,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAuB,EAAA;IAAA,IAAAvB,CAAA,CAAA,EAAA,KAAAH,QAAA,IAAAG,CAAA,CAAA,GAAA,KAAAJ,QAAA,EAAA;QACA2B,EAAA,GAAA3B,QAAqB,IAArB,CAAaC,QAEb,kBADC,6LAAA,IAAyD;YAAzC,SAAuB,EAAvB,uBAAuB,CAAED;sBAAAA,QAAO,CAAE,EAAlD,IAAyD,CAC1D;;;;;;QAAAI,CAAA,CAAA,EAAA,GAAAH,QAAA;QAAAG,CAAA,CAAA,GAAA,GAAAJ,QAAA;QAAAI,CAAA,CAAA,GAAA,GAAAuB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAvB,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAwB,EAAA;IAAA,IAAAxB,CAAA,CAAA,GAAA,KAAAqB,EAAA,IAAArB,CAAA,CAAA,GAAA,KAAAsB,EAAA,IAAAtB,CAAA,CAAA,GAAA,KAAAuB,EAAA,EAAA;QAPHC,EAAA,iBAAA,6LAAA,GAQM;YARS,SAAyB,EAAzB,yBAAyB,CACtC;;gBAAAH,EAA+D,CAC9D;gBAAAC,EAED,CACC;gBAAAC,EAED,CACF,EARA,GAQM;;;;;;;QAAAvB,CAAA,CAAA,GAAA,GAAAqB,EAAA;QAAArB,CAAA,CAAA,GAAA,GAAAsB,EAAA;QAAAtB,CAAA,CAAA,GAAA,GAAAuB,EAAA;QAAAvB,CAAA,CAAA,GAAA,GAAAwB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAxB,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAyB,EAAA;IAAA,IAAAzB,CAAA,CAAA,GAAA,KAAAI,MAAA,EAAA;QAMHqB,EAAA,GAAArB,MAAM,iBAAN;;8BAEG,6LAAC,gNAAK;oBAAW,SAAS,EAAT,SAAS;;;;;;gBAAG,OAE/B,GAMD;;yCAVA;;8BAOG,6LAAC,6MAAI;oBAAW,SAAS,EAAT,SAAS;;;;;;gBAAG,IAE9B,GACD;;;QAAAJ,CAAA,CAAA,GAAA,GAAAI,MAAA;QAAAJ,CAAA,CAAA,GAAA,GAAAyB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAzB,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA0B,EAAA;IAAA,IAAA1B,CAAA,CAAA,GAAA,KAAAiB,UAAA,IAAAjB,CAAA,CAAA,GAAA,KAAAyB,EAAA,EAAA;QAdHC,EAAA,iBAAA,6LAAA,MAeS;YAdET,OAAU,CAAVA,CAAAA,UAAS,CAAC;YACT,SAAkF,EAAlF,kFAAkF,CAE3F;sBAAAQ,EAUD,CACF,EAfA,MAeS;;;;;;QAAAzB,CAAA,CAAA,GAAA,GAAAiB,UAAA;QAAAjB,CAAA,CAAA,GAAA,GAAAyB,EAAA;QAAAzB,CAAA,CAAA,GAAA,GAAA0B,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA1B,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA2B,GAAA;IAAA,IAAA3B,CAAA,CAAA,GAAA,KAAAwB,EAAA,IAAAxB,CAAA,CAAA,GAAA,KAAA0B,EAAA,EAAA;QA1BXC,GAAA,iBAAA,6LAAA,GA2BM;YA3BS,SAAiF,EAAjF,iFAAiF,CAC9F;;gBAAAH,EAQK,CAEL;gBAAAE,EAeQ,CACV,EA3BA,GA2BM;;;;;;;QAAA1B,CAAA,CAAA,GAAA,GAAAwB,EAAA;QAAAxB,CAAA,CAAA,GAAA,GAAA0B,EAAA;QAAA1B,CAAA,CAAA,GAAA,GAAA2B,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA3B,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA4B,GAAA;IAAA,IAAA5B,CAAA,CAAA,GAAA,KAAAL,IAAA,EAAA;QAENiC,GAAA,iBAAA,6LAAA,GAIM;YAJS,SAAqB,EAArB,qBAAqB;oCAClC,6LAAA,IAEO;gBAFS,SAAiE,EAAjE,iEAAiE,CAC9EjC;0BAAAA,IAAG,CACN,EAFA,IAEO,CACT,EAJA,GAIM;;;;;;;;;;;QAAAK,CAAA,CAAA,GAAA,GAAAL,IAAA;QAAAK,CAAA,CAAA,GAAA,GAAA4B,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA5B,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA6B,GAAA;IAAA,IAAA7B,CAAA,CAAA,GAAA,KAAA2B,GAAA,IAAA3B,CAAA,CAAA,GAAA,KAAA4B,GAAA,EAAA;QAlCRC,GAAA,iBAAA,6LAAA,GAmCM;YAnCS,SAAyD,EAAzD,yDAAyD,CACtE;;gBAAAF,GA2BK,CAEL;gBAAAC,GAIK,CACP,EAnCA,GAmCM;;;;;;;QAAA5B,CAAA,CAAA,GAAA,GAAA2B,GAAA;QAAA3B,CAAA,CAAA,GAAA,GAAA4B,GAAA;QAAA5B,CAAA,CAAA,GAAA,GAAA6B,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA7B,CAAA,CAAA,GAAA;IAAA;IAAA,OAnCN6B,GAmCM;AAAA;;KA1EH/B;AAAA,SAAAqB,iCAAAW,IAAA;IAeH,MAAAC,MAAA,GAAuC;QAAAC,UAAA,EACzB,iBAAiB;QAAAC,UAAA,EACjB,eAAe;QAAAC,MAAA,EACnB,gBAAgB;QAAAC,IAAA,EAClB,cAAc;QAAAC,MAAA,EACZ,iBAAiB;QAAAC,KAAA,EAClB,iBAAiB;QAAAC,IAAA,EAClB,iBAAiB;QAAAC,EAAA,EACnB,eAAe;QAAAC,GAAA,EACd,eAAe;QAAApD,CAAA,EACjB,eAAe;QAAAqD,MAAA,EACV,iBAAiB;QAAAC,IAAA,EACnB,cAAc;QAAAC,GAAA,EACf,iBAAiB;QAAAC,IAAA,EAChB,iBAAiB;QAAAC,GAAA,EAClB,eAAe;QAAAC,GAAA,EACf,iBAAiB;QAAAC,KAAA,EACf,gBAAgB;QAAAC,IAAA,EACjB;IACR,CAAC;IAAC,OACKlB,IAAI,GAAGC,MAAM,CAACD,IAAI,CAAAmB,WAAY,CAAC,CAAC,CAAoB,IAA7C,eAA+D,GAAtE,eAAsE;AAAA","ignoreList":[]}},
    {"offset": {"line": 4001, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelCard.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useRef, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Heart } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { ReelPlayer } from './ReelPlayer';\nimport { ReelActions } from './ReelActions';\nimport { ReelInfo } from './ReelInfo';\nimport { ReelComments } from './ReelComments';\nimport { ReelShareSheet } from './ReelShareSheet';\nimport { ReelPoll } from './ReelPoll';\nimport { ReelQuiz } from './ReelQuiz';\nimport { ReelCodeSnippet } from './ReelCodeSnippet';\nimport { reelsApi, Reel } from '@/lib/api/reels';\n\ninterface ReelCardProps {\n  reel: Reel;\n  isActive: boolean;\n  isMuted: boolean;\n  onMuteToggle: () => void;\n}\n\nexport function ReelCard({ reel, isActive, isMuted, onMuteToggle }: ReelCardProps) {\n  const router = useRouter();\n  const [showComments, setShowComments] = useState(false);\n  const [showShare, setShowShare] = useState(false);\n  const [showHeart, setShowHeart] = useState(false);\n  const [localReel, setLocalReel] = useState(reel);\n  const viewTracked = useRef(false);\n  const watchStartTime = useRef<number | null>(null);\n\n  useEffect(() => {\n    setLocalReel(reel);\n  }, [reel]);\n\n  useEffect(() => {\n    if (isActive && !viewTracked.current) {\n      watchStartTime.current = Date.now();\n    } else if (!isActive && viewTracked.current) {\n      viewTracked.current = false;\n      watchStartTime.current = null;\n    }\n  }, [isActive]);\n\n  const handleProgress = useCallback((progress: number, watchTimeMs: number) => {\n    if (!viewTracked.current && watchTimeMs >= 3000) {\n      viewTracked.current = true;\n      reelsApi.trackView(reel.id, {\n        watchTimeMs,\n        completed: false,\n        source: 'feed',\n      }).catch(console.error);\n    }\n  }, [reel.id]);\n\n  const handleComplete = useCallback(() => {\n    if (watchStartTime.current) {\n      const totalWatchTime = Date.now() - watchStartTime.current;\n      reelsApi.trackView(reel.id, {\n        watchTimeMs: totalWatchTime,\n        completed: true,\n        source: 'feed',\n      }).catch(console.error);\n    }\n  }, [reel.id]);\n\n  const handleTap = useCallback(() => {\n  }, []);\n\n  const handleDoubleTap = useCallback(async () => {\n    if (!localReel.isLiked) {\n      setShowHeart(true);\n      setTimeout(() => setShowHeart(false), 800);\n\n      try {\n        const response = await reelsApi.toggleLike(reel.id) as { liked: boolean; likesCount: number };\n        setLocalReel((prev) => ({\n          ...prev,\n          isLiked: response.liked,\n          likesCount: response.likesCount,\n        }));\n      } catch (error) {\n        console.error('Failed to like:', error);\n      }\n    }\n  }, [reel.id, localReel.isLiked]);\n\n  const handleCommentClick = useCallback(() => {\n    setShowComments(true);\n  }, []);\n\n  const handleShareClick = useCallback(() => {\n    setShowShare(true);\n  }, []);\n\n  const handleHashtagClick = useCallback((hashtag: string) => {\n    router.push(`/reels/hashtag/${hashtag}`);\n  }, [router]);\n\n  const handleAudioClick = useCallback(() => {\n    if (reel.audio) {\n      router.push(`/reels/audio/${reel.audio.id}`);\n    }\n  }, [router, reel.audio]);\n\n  const handleLikeUpdate = useCallback((liked: boolean, count: number) => {\n    setLocalReel((prev) => ({\n      ...prev,\n      isLiked: liked,\n      likesCount: count,\n    }));\n  }, []);\n\n  const handleSaveUpdate = useCallback((saved: boolean, count: number) => {\n    setLocalReel((prev) => ({\n      ...prev,\n      isSaved: saved,\n      savesCount: count,\n    }));\n  }, []);\n\n  return (\n    <div className=\"relative h-full w-full bg-black\">\n      <ReelPlayer\n        hlsUrl={reel.hlsUrl}\n        mp4Url={reel.videoUrl}\n        thumbnailUrl={reel.thumbnailUrl}\n        isActive={isActive}\n        isMuted={isMuted}\n        onProgress={handleProgress}\n        onComplete={handleComplete}\n        onTap={handleTap}\n        onDoubleTap={handleDoubleTap}\n        onMuteToggle={onMuteToggle}\n      />\n\n      {showHeart && (\n        <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n          <Heart\n            className=\"w-24 h-24 text-red-500 fill-red-500 animate-heart-burst\"\n          />\n        </div>\n      )}\n\n      <div className=\"absolute bottom-0 left-0 right-0 p-4 pb-24 bg-gradient-to-t from-black/80 via-black/40 to-transparent\">\n        <div className=\"flex items-end justify-between gap-4\">\n          <ReelInfo\n            reel={localReel}\n            onHashtagClick={handleHashtagClick}\n            onAudioClick={handleAudioClick}\n          />\n\n          <ReelActions\n            reel={localReel}\n            onCommentClick={handleCommentClick}\n            onShareClick={handleShareClick}\n            onLikeUpdate={handleLikeUpdate}\n            onSaveUpdate={handleSaveUpdate}\n          />\n        </div>\n      </div>\n\n      {localReel.pollQuestion && localReel.pollOptions && (\n        <div className=\"absolute top-1/2 left-4 right-20 -translate-y-1/2\">\n          <ReelPoll\n            reelId={reel.id}\n            question={localReel.pollQuestion}\n            options={localReel.pollOptions}\n            userVotedOption={localReel.userVotedOption}\n            endsAt={localReel.pollEndsAt}\n          />\n        </div>\n      )}\n\n      {localReel.quizQuestion && localReel.quizOptions && (\n        <div className=\"absolute top-1/2 left-4 right-20 -translate-y-1/2\">\n          <ReelQuiz\n            reelId={reel.id}\n            question={localReel.quizQuestion}\n            options={localReel.quizOptions}\n          />\n        </div>\n      )}\n\n      {localReel.codeSnippet && (\n        <div className=\"absolute top-20 left-4 right-20 max-h-[40vh] overflow-auto\">\n          <ReelCodeSnippet\n            code={localReel.codeSnippet}\n            language={localReel.codeLanguage}\n            fileName={localReel.codeFileName}\n          />\n        </div>\n      )}\n\n      <ReelComments\n        reelId={reel.id}\n        isOpen={showComments}\n        onClose={() => setShowComments(false)}\n        authorId={reel.author.id}\n      />\n\n      <ReelShareSheet\n        reel={localReel}\n        isOpen={showShare}\n        onClose={() => setShowShare(false)}\n      />\n    </div>\n  );\n}\n"],"names":["c","_c","useState","useCallback","useRef","useEffect","useRouter","Heart","cn","ReelPlayer","ReelActions","ReelInfo","ReelComments","ReelShareSheet","ReelPoll","ReelQuiz","ReelCodeSnippet","reelsApi","Reel","ReelCardProps","reel","isActive","isMuted","onMuteToggle","ReelCard","t0","$","$i","Symbol","for","router","showComments","setShowComments","showShare","setShowShare","showHeart","setShowHeart","localReel","setLocalReel","viewTracked","watchStartTime","t1","t2","ReelCard[useEffect()]","t3","t4","current","Date","now","t5","id","ReelCard[handleProgress]","progress","watchTimeMs","trackView","completed","source","catch","console","error","handleProgress","t6","ReelCard[handleComplete]","totalWatchTime","handleComplete","handleTap","_ReelCardHandleTap","t7","isLiked","ReelCard[handleDoubleTap]","setTimeout","ReelCard[handleDoubleTap > setTimeout()]","response","toggleLike","liked","likesCount","prev","t8","handleDoubleTap","ReelCard[handleCommentClick]","handleCommentClick","t9","ReelCard[handleShareClick]","handleShareClick","t10","hashtag","push","handleHashtagClick","t11","audio","ReelCard[handleAudioClick]","handleAudioClick","t12","ReelCard[handleLikeUpdate]","count","prev_0","handleLikeUpdate","t13","ReelCard[handleSaveUpdate]","saved","count_0","prev_1","isSaved","savesCount","handleSaveUpdate","t14","hlsUrl","thumbnailUrl","videoUrl","t15","t16","t17","t18","t19","pollEndsAt","pollOptions","pollQuestion","userVotedOption","t20","quizOptions","quizQuestion","t21","codeFileName","codeLanguage","codeSnippet","t22","ReelCard[<ReelComments>.onClose]","t23","author","t24","ReelCard[<ReelShareSheet>.onClose]","t25","t26"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 4556, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelsFeed.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useRef, useState, useCallback } from 'react';\nimport { useInfiniteQuery } from '@tanstack/react-query';\nimport { Loader2 } from 'lucide-react';\nimport { ReelCard } from './ReelCard';\nimport { reelsApi, Reel, ReelsFeedResponse } from '@/lib/api/reels';\n\ninterface ReelsFeedProps {\n  mode?: 'foryou' | 'following';\n  initialReels?: Reel[];\n}\n\nexport function ReelsFeed({ mode = 'foryou', initialReels }: ReelsFeedProps) {\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [isMuted, setIsMuted] = useState(true);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const observerRefs = useRef<Map<string, IntersectionObserver>>(new Map());\n\n  const {\n    data,\n    fetchNextPage,\n    hasNextPage,\n    isFetchingNextPage,\n    isLoading,\n    isError,\n  } = useInfiniteQuery({\n    queryKey: ['reels-feed', mode],\n    queryFn: async ({ pageParam }) => {\n      const response = await reelsApi.getFeed({ cursor: pageParam, limit: 10, mode });\n      return response as ReelsFeedResponse;\n    },\n    getNextPageParam: (lastPage) => lastPage.nextCursor,\n    initialPageParam: undefined as string | undefined,\n    staleTime: 1000 * 60 * 5,\n    initialData: initialReels\n      ? {\n          pages: [{ reels: initialReels, nextCursor: null, hasMore: false }],\n          pageParams: [undefined],\n        }\n      : undefined,\n  });\n\n  const reels = data?.pages.flatMap((p) => p.reels) ?? [];\n\n  useEffect(() => {\n    const preloadReels = reels.slice(activeIndex + 1, activeIndex + 4);\n    preloadReels.forEach((reel) => {\n      if (reel.hlsUrl) {\n        fetch(reel.hlsUrl).catch(() => {});\n      }\n      if (reel.thumbnailUrl) {\n        const img = new Image();\n        img.src = reel.thumbnailUrl;\n      }\n    });\n  }, [activeIndex, reels]);\n\n  const handleScroll = useCallback(() => {\n    const container = containerRef.current;\n    if (!container) return;\n\n    const scrollTop = container.scrollTop;\n    const itemHeight = container.clientHeight;\n    const newIndex = Math.round(scrollTop / itemHeight);\n\n    if (newIndex !== activeIndex) {\n      setActiveIndex(newIndex);\n\n      if (newIndex >= reels.length - 3 && hasNextPage && !isFetchingNextPage) {\n        fetchNextPage();\n      }\n    }\n  }, [activeIndex, reels.length, hasNextPage, isFetchingNextPage, fetchNextPage]);\n\n  useEffect(() => {\n    const container = containerRef.current;\n    if (!container) return;\n\n    container.addEventListener('scroll', handleScroll, { passive: true });\n    return () => container.removeEventListener('scroll', handleScroll);\n  }, [handleScroll]);\n\n  const handleFirstInteraction = useCallback(() => {\n    if (isMuted) {\n      setIsMuted(false);\n    }\n  }, [isMuted]);\n\n  const handleMuteToggle = useCallback(() => {\n    setIsMuted((prev) => !prev);\n  }, []);\n\n  if (isLoading) {\n    return (\n      <div className=\"h-screen w-full flex items-center justify-center bg-black\">\n        <Loader2 className=\"w-12 h-12 text-white animate-spin\" />\n      </div>\n    );\n  }\n\n  if (isError) {\n    return (\n      <div className=\"h-screen w-full flex flex-col items-center justify-center bg-black text-white gap-4\">\n        <p>Failed to load reels</p>\n        <button\n          onClick={() => window.location.reload()}\n          className=\"px-4 py-2 bg-white text-black rounded-full font-medium\"\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  if (reels.length === 0) {\n    return (\n      <div className=\"h-screen w-full flex flex-col items-center justify-center bg-black text-white gap-4\">\n        <p className=\"text-xl\">No reels yet</p>\n        <p className=\"text-gray-400\">Be the first to create one!</p>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"h-screen w-full snap-y snap-mandatory overflow-y-scroll scrollbar-hide\"\n      onClick={handleFirstInteraction}\n    >\n      {reels.map((reel, index) => (\n        <div\n          key={reel.id}\n          className=\"h-screen w-full snap-start snap-always\"\n        >\n          <ReelCard\n            reel={reel}\n            isActive={index === activeIndex}\n            isMuted={isMuted}\n            onMuteToggle={handleMuteToggle}\n          />\n        </div>\n      ))}\n\n      {isFetchingNextPage && (\n        <div className=\"h-screen w-full flex items-center justify-center bg-black\">\n          <Loader2 className=\"w-12 h-12 text-white animate-spin\" />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["c","_c","useEffect","useRef","useState","useCallback","useInfiniteQuery","Loader2","ReelCard","reelsApi","Reel","ReelsFeedResponse","ReelsFeedProps","mode","initialReels","ReelsFeed","t0","$","$i","Symbol","for","t1","undefined","activeIndex","setActiveIndex","isMuted","setIsMuted","containerRef","t2","Map","t3","t4","t5","pageParam","response","getFeed","cursor","limit","pages","reels","nextCursor","hasMore","pageParams","t6","queryKey","queryFn","getNextPageParam","_temp","initialPageParam","staleTime","initialData","data","fetchNextPage","hasNextPage","isFetchingNextPage","isLoading","isError","t7","flatMap","_ReelsFeedAnonymous","t8","t9","ReelsFeed[useEffect()]","preloadReels","slice","forEach","_ReelsFeedUseEffectPreloadReelsForEach","t10","length","ReelsFeed[handleScroll]","container","current","scrollTop","itemHeight","clientHeight","newIndex","Math","round","handleScroll","t11","t12","container_0","addEventListener","passive","removeEventListener","t13","ReelsFeed[handleFirstInteraction]","handleFirstInteraction","t14","ReelsFeed[handleMuteToggle]","_ReelsFeedHandleMuteToggleSetIsMuted","handleMuteToggle","t15","_ReelsFeedButtonOnClick","t16","ReelsFeed[reels.map()]","reel_0","index","reel","id","map","t17","window","location","reload","prev","hlsUrl","fetch","catch","_ReelsFeedUseEffectPreloadReelsForEachAnonymous","thumbnailUrl","img","Image","src","p","lastPage"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 4981, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelCreate.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useCallback, useEffect } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport {\n  Upload,\n  X,\n  Loader2,\n  Hash,\n  Music,\n  MapPin,\n  Code,\n  Eye,\n  MessageCircle,\n  Users,\n  Download,\n  Share2,\n  ChevronDown,\n  Save,\n  Calendar,\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { reelsApi } from '@/lib/api/reels';\n\ninterface ReelCreateProps {\n  onClose?: () => void;\n  initialOriginalReelId?: string;\n  initialResponseType?: 'duet' | 'stitch';\n  initialAudioId?: string;\n}\n\nexport function ReelCreate({ onClose, initialOriginalReelId, initialResponseType, initialAudioId }: ReelCreateProps) {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const thumbnailInputRef = useRef<HTMLInputElement>(null);\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [videoPreviewUrl, setVideoPreviewUrl] = useState<string | null>(null);\n  const [selectedThumbnail, setSelectedThumbnail] = useState<File | null>(null);\n  const [thumbnailPreviewUrl, setThumbnailPreviewUrl] = useState<string | null>(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState<string | null>(null);\n\n  const [title, setTitle] = useState('');\n  const [caption, setCaption] = useState('');\n  const [hashtags, setHashtags] = useState<string[]>([]);\n  const [hashtagInput, setHashtagInput] = useState('');\n  const [visibility, setVisibility] = useState<'public' | 'connections' | 'private'>('public');\n  const [allowComments, setAllowComments] = useState(true);\n  const [allowDuets, setAllowDuets] = useState(true);\n  const [allowStitch, setAllowStitch] = useState(true);\n  const [allowDownload, setAllowDownload] = useState(true);\n  const [allowSharing, setAllowSharing] = useState(true);\n\n  const [saveAsDraft, setSaveAsDraft] = useState(false);\n  const [scheduledAt, setScheduledAt] = useState('');\n  const [originalReelId, setOriginalReelId] = useState(initialOriginalReelId || '');\n  const [responseType, setResponseType] = useState<'duet' | 'stitch' | ''>(initialResponseType || '');\n  const [audioId, setAudioId] = useState(initialAudioId || '');\n\n  const [codeSnippet, setCodeSnippet] = useState('');\n  const [codeLanguage, setCodeLanguage] = useState('');\n  const [codeFileName, setCodeFileName] = useState('');\n  const [repoUrl, setRepoUrl] = useState('');\n  const [showCodeSection, setShowCodeSection] = useState(false);\n  const [showAdvanced, setShowAdvanced] = useState(false);\n\n  useEffect(() => {\n    const duet = searchParams.get('duet');\n    const stitch = searchParams.get('stitch');\n    const audio = searchParams.get('audio');\n    if (duet) {\n      setOriginalReelId(duet);\n      setResponseType('duet');\n    }\n    if (stitch) {\n      setOriginalReelId(stitch);\n      setResponseType('stitch');\n    }\n    if (audio) setAudioId(audio);\n  }, [searchParams]);\n\n  const handleFileSelect = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    if (!file.type.startsWith('video/')) {\n      setError('Please select a video file');\n      return;\n    }\n\n    if (file.size > 150 * 1024 * 1024) {\n      setError('Video must be less than 150MB');\n      return;\n    }\n\n    setSelectedFile(file);\n    setVideoPreviewUrl(URL.createObjectURL(file));\n    setError(null);\n    setSelectedThumbnail(null);\n    setThumbnailPreviewUrl((prev) => {\n      if (prev) URL.revokeObjectURL(prev);\n      return null;\n    });\n  }, []);\n\n  const handleThumbnailSelect = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    if (!file.type.startsWith('image/')) {\n      setError('Thumbnail must be an image (JPEG, PNG, WebP)');\n      return;\n    }\n    if (thumbnailPreviewUrl) URL.revokeObjectURL(thumbnailPreviewUrl);\n    setSelectedThumbnail(file);\n    setThumbnailPreviewUrl(URL.createObjectURL(file));\n    setError(null);\n  }, [thumbnailPreviewUrl]);\n\n  const handleAddHashtag = useCallback((e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter' || e.key === ',') {\n      e.preventDefault();\n      const tag = hashtagInput.trim().replace(/^#/, '');\n      if (tag && !hashtags.includes(tag) && hashtags.length < 10) {\n        setHashtags([...hashtags, tag]);\n        setHashtagInput('');\n      }\n    }\n  }, [hashtagInput, hashtags]);\n\n  const handleRemoveHashtag = useCallback((tag: string) => {\n    setHashtags(hashtags.filter((t) => t !== tag));\n  }, [hashtags]);\n\n  const handleUpload = useCallback(async () => {\n    if (!selectedFile) return;\n\n    try {\n      setIsUploading(true);\n      setUploadProgress(10);\n\n      const formData = new FormData();\n      formData.append('video', selectedFile);\n      if (selectedThumbnail) formData.append('thumbnail', selectedThumbnail);\n      formData.append('title', title);\n      formData.append('caption', caption);\n      formData.append('hashtags', JSON.stringify(hashtags));\n      formData.append('visibility', visibility);\n      formData.append('allowComments', String(allowComments));\n      formData.append('allowDuets', String(allowDuets));\n      formData.append('allowStitch', String(allowStitch));\n      formData.append('allowDownload', String(allowDownload));\n      formData.append('allowSharing', String(allowSharing));\n      formData.append('saveAsDraft', String(saveAsDraft));\n      if (scheduledAt) formData.append('scheduledAt', scheduledAt);\n      if (originalReelId) formData.append('originalReelId', originalReelId);\n      if (responseType) formData.append('responseType', responseType);\n      if (audioId) formData.append('audioId', audioId);\n\n      if (codeSnippet) {\n        formData.append('codeSnippet', codeSnippet);\n        formData.append('codeLanguage', codeLanguage);\n        formData.append('codeFileName', codeFileName);\n        formData.append('repoUrl', repoUrl);\n      }\n\n      setUploadProgress(30);\n\n      const reel = await reelsApi.createReel(formData);\n      \n      setUploadProgress(100);\n\n      if (saveAsDraft) {\n        router.push('/reels/drafts');\n      } else {\n        router.push(`/reels/${(reel as { id: string }).id}`);\n      }\n    } catch (err: any) {\n      console.error('Upload failed:', err);\n      const msg = err?.response?.data?.message || err?.response?.data?.error || err?.message;\n      setError(msg || 'Failed to upload video. Please try again.');\n    } finally {\n      setIsUploading(false);\n    }\n  }, [\n    selectedFile,\n    selectedThumbnail,\n    title,\n    caption,\n    hashtags,\n    visibility,\n    allowComments,\n    allowDuets,\n    allowStitch,\n    allowDownload,\n    allowSharing,\n    codeSnippet,\n    codeLanguage,\n    codeFileName,\n    repoUrl,\n    router,\n  ]);\n\n  const handleClose = useCallback(() => {\n    if (videoPreviewUrl) {\n      URL.revokeObjectURL(videoPreviewUrl);\n    }\n    onClose?.();\n  }, [videoPreviewUrl, onClose]);\n\n  return (\n    <div className=\"min-h-screen bg-white dark:bg-gray-900\">\n      <div className=\"max-w-2xl mx-auto p-4\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h1 className=\"text-2xl font-bold\">Create Reel</h1>\n          {onClose && (\n            <button\n              onClick={handleClose}\n              className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full\"\n            >\n              <X className=\"w-6 h-6\" />\n            </button>\n          )}\n        </div>\n\n        {!selectedFile ? (\n          <div\n            onClick={() => fileInputRef.current?.click()}\n            className=\"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-2xl p-12 text-center cursor-pointer hover:border-blue-500 transition-colors\"\n          >\n            <Upload className=\"w-16 h-16 mx-auto text-gray-400 mb-4\" />\n            <p className=\"text-lg font-medium mb-2\">Upload a video</p>\n            <p className=\"text-gray-500 text-sm mb-4\">\n              MP4, WebM, or MOV. Max 150MB. Recommended 9:16 aspect ratio.\n            </p>\n            <button className=\"px-6 py-2 bg-blue-500 text-white rounded-full font-medium hover:bg-blue-600 transition-colors\">\n              Select file\n            </button>\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              accept=\"video/*\"\n              onChange={handleFileSelect}\n              className=\"hidden\"\n            />\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            <div className=\"flex gap-6\">\n              <div className=\"w-48 flex-shrink-0 space-y-3\">\n                <div className=\"aspect-[9/16] bg-black rounded-xl overflow-hidden relative\">\n                  <video\n                    src={videoPreviewUrl || undefined}\n                    className=\"w-full h-full object-cover\"\n                    controls\n                    muted\n                  />\n                  <button\n                    onClick={() => {\n                      setSelectedFile(null);\n                      if (videoPreviewUrl) {\n                        URL.revokeObjectURL(videoPreviewUrl);\n                        setVideoPreviewUrl(null);\n                      }\n                    }}\n                    className=\"absolute top-2 right-2 p-1 bg-black/50 rounded-full\"\n                  >\n                    <X className=\"w-4 h-4 text-white\" />\n                  </button>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Custom thumbnail (optional)</label>\n                  <div\n                    onClick={() => thumbnailInputRef.current?.click()}\n                    className=\"aspect-video bg-neutral-100 dark:bg-neutral-800 rounded-lg overflow-hidden border-2 border-dashed border-neutral-300 dark:border-neutral-600 cursor-pointer hover:border-blue-500 flex items-center justify-center\"\n                  >\n                    {thumbnailPreviewUrl ? (\n                      <img src={thumbnailPreviewUrl} alt=\"Thumbnail\" className=\"w-full h-full object-cover\" />\n                    ) : (\n                      <span className=\"text-neutral-500 text-sm\">Add thumbnail</span>\n                    )}\n                  </div>\n                  <input\n                    ref={thumbnailInputRef}\n                    type=\"file\"\n                    accept=\"image/jpeg,image/png,image/webp\"\n                    onChange={handleThumbnailSelect}\n                    className=\"hidden\"\n                  />\n                  {selectedThumbnail && (\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setSelectedThumbnail(null);\n                        if (thumbnailPreviewUrl) URL.revokeObjectURL(thumbnailPreviewUrl);\n                        setThumbnailPreviewUrl(null);\n                      }}\n                      className=\"mt-1 text-xs text-red-500 hover:underline\"\n                    >\n                      Remove thumbnail\n                    </button>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"flex-1 space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Title (optional)</label>\n                  <input\n                    type=\"text\"\n                    value={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                    placeholder=\"Add a title...\"\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Caption</label>\n                  <textarea\n                    value={caption}\n                    onChange={(e) => setCaption(e.target.value)}\n                    placeholder=\"Write a caption... Use @mentions and #hashtags\"\n                    rows={3}\n                    maxLength={2200}\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none resize-none\"\n                  />\n                  <p className=\"text-right text-sm text-gray-500 mt-1\">\n                    {caption.length}/2200\n                  </p>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">\n                    <Hash className=\"w-4 h-4 inline mr-1\" />\n                    Hashtags\n                  </label>\n                  <div className=\"flex flex-wrap gap-2 mb-2\">\n                    {hashtags.map((tag) => (\n                      <span\n                        key={tag}\n                        className=\"px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400 rounded-full text-sm flex items-center gap-1\"\n                      >\n                        #{tag}\n                        <button onClick={() => handleRemoveHashtag(tag)}>\n                          <X className=\"w-3 h-3\" />\n                        </button>\n                      </span>\n                    ))}\n                  </div>\n                  <input\n                    type=\"text\"\n                    value={hashtagInput}\n                    onChange={(e) => setHashtagInput(e.target.value)}\n                    onKeyDown={handleAddHashtag}\n                    placeholder=\"Add hashtags (press Enter)\"\n                    disabled={hashtags.length >= 10}\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">\n                    <Eye className=\"w-4 h-4 inline mr-1\" />\n                    Visibility\n                  </label>\n                  <select\n                    value={visibility}\n                    onChange={(e) => setVisibility(e.target.value as typeof visibility)}\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                  >\n                    <option value=\"public\">Public - Anyone can view</option>\n                    <option value=\"connections\">Connections - Only connections can view</option>\n                    <option value=\"private\">Private - Only you can view</option>\n                  </select>\n                </div>\n\n                <div className=\"flex flex-col gap-3\">\n                  <label className=\"flex items-center gap-2 cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={saveAsDraft}\n                      onChange={(e) => setSaveAsDraft(e.target.checked)}\n                      className=\"rounded\"\n                    />\n                    <Save className=\"w-4 h-4\" />\n                    <span>Save as draft</span>\n                  </label>\n                  {!saveAsDraft && (\n                    <div>\n                      <label className=\"flex items-center gap-2 text-sm mb-1\">\n                        <Calendar className=\"w-4 h-4\" />\n                        Schedule for later\n                      </label>\n                      <input\n                        type=\"datetime-local\"\n                        value={scheduledAt}\n                        onChange={(e) => setScheduledAt(e.target.value)}\n                        min={new Date().toISOString().slice(0, 16)}\n                        className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                      />\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            <button\n              onClick={() => setShowCodeSection(!showCodeSection)}\n              className=\"flex items-center gap-2 text-sm text-blue-500 hover:text-blue-600\"\n            >\n              <Code className=\"w-4 h-4\" />\n              {showCodeSection ? 'Hide code snippet' : 'Add code snippet (for dev reels)'}\n              <ChevronDown className={cn(\"w-4 h-4 transition-transform\", showCodeSection && \"rotate-180\")} />\n            </button>\n\n            {showCodeSection && (\n              <div className=\"space-y-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Code</label>\n                  <textarea\n                    value={codeSnippet}\n                    onChange={(e) => setCodeSnippet(e.target.value)}\n                    placeholder=\"Paste your code here...\"\n                    rows={6}\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 font-mono text-sm focus:ring-2 focus:ring-blue-500 outline-none resize-none\"\n                  />\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">Language</label>\n                    <input\n                      type=\"text\"\n                      value={codeLanguage}\n                      onChange={(e) => setCodeLanguage(e.target.value)}\n                      placeholder=\"e.g., JavaScript\"\n                      className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">File name</label>\n                    <input\n                      type=\"text\"\n                      value={codeFileName}\n                      onChange={(e) => setCodeFileName(e.target.value)}\n                      placeholder=\"e.g., app.js\"\n                      className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                    />\n                  </div>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Repository URL (optional)</label>\n                  <input\n                    type=\"url\"\n                    value={repoUrl}\n                    onChange={(e) => setRepoUrl(e.target.value)}\n                    placeholder=\"https://github.com/...\"\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                  />\n                </div>\n              </div>\n            )}\n\n            <button\n              onClick={() => setShowAdvanced(!showAdvanced)}\n              className=\"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700\"\n            >\n              Advanced settings\n              <ChevronDown className={cn(\"w-4 h-4 transition-transform\", showAdvanced && \"rotate-180\")} />\n            </button>\n\n            {showAdvanced && (\n              <div className=\"space-y-3 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl\">\n                <label className=\"flex items-center justify-between cursor-pointer\">\n                  <span className=\"flex items-center gap-2\">\n                    <MessageCircle className=\"w-4 h-4\" />\n                    Allow comments\n                  </span>\n                  <input\n                    type=\"checkbox\"\n                    checked={allowComments}\n                    onChange={(e) => setAllowComments(e.target.checked)}\n                    className=\"w-5 h-5 rounded\"\n                  />\n                </label>\n                <label className=\"flex items-center justify-between cursor-pointer\">\n                  <span className=\"flex items-center gap-2\">\n                    <Users className=\"w-4 h-4\" />\n                    Allow duets\n                  </span>\n                  <input\n                    type=\"checkbox\"\n                    checked={allowDuets}\n                    onChange={(e) => setAllowDuets(e.target.checked)}\n                    className=\"w-5 h-5 rounded\"\n                  />\n                </label>\n                <label className=\"flex items-center justify-between cursor-pointer\">\n                  <span className=\"flex items-center gap-2\">\n                    <Users className=\"w-4 h-4\" />\n                    Allow stitch\n                  </span>\n                  <input\n                    type=\"checkbox\"\n                    checked={allowStitch}\n                    onChange={(e) => setAllowStitch(e.target.checked)}\n                    className=\"w-5 h-5 rounded\"\n                  />\n                </label>\n                <label className=\"flex items-center justify-between cursor-pointer\">\n                  <span className=\"flex items-center gap-2\">\n                    <Download className=\"w-4 h-4\" />\n                    Allow download\n                  </span>\n                  <input\n                    type=\"checkbox\"\n                    checked={allowDownload}\n                    onChange={(e) => setAllowDownload(e.target.checked)}\n                    className=\"w-5 h-5 rounded\"\n                  />\n                </label>\n                <label className=\"flex items-center justify-between cursor-pointer\">\n                  <span className=\"flex items-center gap-2\">\n                    <Share2 className=\"w-4 h-4\" />\n                    Allow sharing\n                  </span>\n                  <input\n                    type=\"checkbox\"\n                    checked={allowSharing}\n                    onChange={(e) => setAllowSharing(e.target.checked)}\n                    className=\"w-5 h-5 rounded\"\n                  />\n                </label>\n              </div>\n            )}\n\n            {error && (\n              <div className=\"p-4 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-xl\">\n                {error}\n              </div>\n            )}\n\n            <div className=\"flex gap-4\">\n              <button\n                onClick={handleClose}\n                className=\"flex-1 px-6 py-3 border border-gray-300 dark:border-gray-700 rounded-full font-medium hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleUpload}\n                disabled={isUploading}\n                className=\"flex-1 px-6 py-3 bg-blue-500 text-white rounded-full font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n              >\n                {isUploading ? (\n                  <>\n                    <Loader2 className=\"w-5 h-5 animate-spin\" />\n                    Uploading... {uploadProgress}%\n                  </>\n                ) : (\n                  'Post'\n                )}\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["useState","useRef","useCallback","useEffect","useRouter","useSearchParams","Upload","X","Loader2","Hash","Music","MapPin","Code","Eye","MessageCircle","Users","Download","Share2","ChevronDown","Save","Calendar","cn","reelsApi","ReelCreateProps","onClose","initialOriginalReelId","initialResponseType","initialAudioId","ReelCreate","router","searchParams","fileInputRef","HTMLInputElement","thumbnailInputRef","selectedFile","setSelectedFile","File","videoPreviewUrl","setVideoPreviewUrl","selectedThumbnail","setSelectedThumbnail","thumbnailPreviewUrl","setThumbnailPreviewUrl","isUploading","setIsUploading","uploadProgress","setUploadProgress","error","setError","title","setTitle","caption","setCaption","hashtags","setHashtags","hashtagInput","setHashtagInput","visibility","setVisibility","allowComments","setAllowComments","allowDuets","setAllowDuets","allowStitch","setAllowStitch","allowDownload","setAllowDownload","allowSharing","setAllowSharing","saveAsDraft","setSaveAsDraft","scheduledAt","setScheduledAt","originalReelId","setOriginalReelId","responseType","setResponseType","audioId","setAudioId","codeSnippet","setCodeSnippet","codeLanguage","setCodeLanguage","codeFileName","setCodeFileName","repoUrl","setRepoUrl","showCodeSection","setShowCodeSection","showAdvanced","setShowAdvanced","duet","get","stitch","audio","handleFileSelect","e","React","ChangeEvent","file","target","files","type","startsWith","size","URL","createObjectURL","prev","revokeObjectURL","handleThumbnailSelect","handleAddHashtag","KeyboardEvent","key","preventDefault","tag","trim","replace","includes","length","handleRemoveHashtag","filter","t","handleUpload","formData","FormData","append","JSON","stringify","String","reel","createReel","push","id","err","console","msg","response","data","message","handleClose","current","click","undefined","value","map","checked","Date","toISOString","slice"],"mappings":";;;;;AAEA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AAChE,SAASC,SAAS,EAAEC,eAAe,QAAQ,iBAAiB;;;;;;;AAC5D,SACEC,MAAM,EACNC,CAAC,EACDC,OAAO,EACPC,IAAI,EACJC,KAAK,EACLC,MAAM,EACNC,IAAI,EACJC,GAAG,EACHC,aAAa,EACbC,KAAK,EACLC,QAAQ,EACRC,MAAM,EACNC,WAAW,EACXC,IAAI,EACJC,QAAQ,QACH,cAAc;;;;;;;AACrB,SAASC,EAAE,QAAQ,aAAa;AAChC,SAASC,QAAQ,QAAQ,iBAAiB;;;AAtB1C,YAAY;;;;;;AA+BL,oBAAoB,EAAEE,OAAO,EAAEC,qBAAqB,EAAEC,mBAAmB,EAAEC,cAAAA,EAAiC,EAAE;;IACnH,MAAME,MAAM;IACZ,MAAMC,YAAY;IAClB,MAAMC,YAAY,OAAG9B,uKAAM,CAAC+B,CAAkB,IAAI,CAAC,UAAP,CAAC;IAC7C,MAAMC,iBAAiB,OAAGhC,uKAAM,CAAC+B,CAAkB,IAAI,CAAC,UAAP,CAAC;IAClD,MAAM,CAACE,YAAY,EAAEC,eAAe,CAAC,OAAGnC,yKAAQ,CAACoC,CAAa,GAAT,CAAa,CAAC,CAAX,IAAI,CAAC;IAC7D,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,OAAGtC,yKAAQ,CAAC,CAAe,IAAI,CAAb,AAAc,GAAX,IAAI,CAAC;IACrE,MAAM,CAACuC,iBAAiB,EAAEC,oBAAoB,CAAC,OAAGxC,yKAAQ,CAACoC,CAAa,GAAT,CAAa,CAAC,CAAX,IAAI,CAAC;IACvE,MAAM,CAACK,mBAAmB,EAAEC,sBAAsB,CAAC,OAAG1C,yKAAQ,CAAC,CAAe,IAAI,CAAb,AAAc,GAAX,IAAI,CAAC;IAC7E,MAAM,CAAC2C,WAAW,EAAEC,cAAc,CAAC,OAAG5C,yKAAQ,EAAC,KAAK,CAAC;IACrD,MAAM,CAAC6C,cAAc,EAAEC,iBAAiB,CAAC,OAAG9C,yKAAQ,EAAC,CAAC,CAAC;IACvD,MAAM,CAAC+C,KAAK,EAAEC,QAAQ,CAAC,OAAGhD,yKAAQ,CAAC,CAAe,IAAI,CAAb,AAAc,GAAX,IAAI,CAAC;IAEjD,MAAM,CAACiD,KAAK,EAAEC,QAAQ,CAAC,GAAGlD,6KAAQ,EAAC,EAAE,CAAC;IACtC,MAAM,CAACmD,OAAO,EAAEC,UAAU,CAAC,OAAGpD,yKAAQ,EAAC,EAAE,CAAC;IAC1C,MAAM,CAACqD,QAAQ,EAAEC,WAAW,CAAC,OAAGtD,yKAAQ,CAAC,CAAU,EAAE,CAAC,EAAP,EAAE,CAAC;IAClD,MAAM,CAACuD,YAAY,EAAEC,eAAe,CAAC,OAAGxD,yKAAQ,EAAC,EAAE,CAAC;IACpD,MAAM,CAACyD,UAAU,EAAEC,aAAa,CAAC,OAAG1D,yKAAQ,CAAC,CAAsC,OAA9B,CAAsC,CAAC,CAApC,aAAa,GAAG,SAAS,CAAC;IAClF,MAAM,CAAC2D,aAAa,EAAEC,gBAAgB,CAAC,GAAG5D,6KAAQ,EAAC,IAAI,CAAC;IACxD,MAAM,CAAC6D,UAAU,EAAEC,aAAa,CAAC,GAAG9D,6KAAQ,EAAC,IAAI,CAAC;IAClD,MAAM,CAAC+D,WAAW,EAAEC,cAAc,CAAC,OAAGhE,yKAAQ,EAAC,IAAI,CAAC;IACpD,MAAM,CAACiE,aAAa,EAAEC,gBAAgB,CAAC,OAAGlE,yKAAQ,EAAC,IAAI,CAAC;IACxD,MAAM,CAACmE,YAAY,EAAEC,eAAe,CAAC,OAAGpE,yKAAQ,EAAC,IAAI,CAAC;IAEtD,MAAM,CAACqE,WAAW,EAAEC,cAAc,CAAC,OAAGtE,yKAAQ,EAAC,KAAK,CAAC;IACrD,MAAM,CAACuE,WAAW,EAAEC,cAAc,CAAC,OAAGxE,yKAAQ,EAAC,EAAE,CAAC;IAClD,MAAM,CAACyE,cAAc,EAAEC,iBAAiB,CAAC,OAAG1E,yKAAQ,EAACyB,qBAAqB,IAAI,EAAE,CAAC;IACjF,MAAM,CAACkD,YAAY,EAAEC,eAAe,CAAC,GAAG5E,6KAAQ,CAAC,CAAwB0B,KAAlB,GAAG,QAAQ,GAAG,AAAuB,EAArB,CAAC,CAAwB,EAAE,CAAC;IACnG,MAAM,CAACmD,OAAO,EAAEC,UAAU,CAAC,GAAG9E,6KAAQ,EAAC2B,cAAc,IAAI,EAAE,CAAC;IAE5D,MAAM,CAACoD,WAAW,EAAEC,cAAc,CAAC,OAAGhF,yKAAQ,EAAC,EAAE,CAAC;IAClD,MAAM,CAACiF,YAAY,EAAEC,eAAe,CAAC,OAAGlF,yKAAQ,EAAC,EAAE,CAAC;IACpD,MAAM,CAACmF,YAAY,EAAEC,eAAe,CAAC,OAAGpF,yKAAQ,EAAC,EAAE,CAAC;IACpD,MAAM,CAACqF,OAAO,EAAEC,UAAU,CAAC,OAAGtF,yKAAQ,EAAC,EAAE,CAAC;IAC1C,MAAM,CAACuF,eAAe,EAAEC,kBAAkB,CAAC,OAAGxF,yKAAQ,EAAC,KAAK,CAAC;IAC7D,MAAM,CAACyF,YAAY,EAAEC,eAAe,CAAC,GAAG1F,6KAAQ,EAAC,KAAK,CAAC;QAEvDG,0KAAS;gCAAC,MAAM;YACd,MAAMwF,IAAI,GAAG7D,YAAY,CAAC8D,GAAG,CAAC,MAAM,CAAC;YACrC,MAAMC,MAAM,GAAG/D,YAAY,CAAC8D,GAAG,CAAC,QAAQ,CAAC;YACzC,MAAME,KAAK,GAAGhE,YAAY,CAAC8D,GAAG,CAAC,OAAO,CAAC;YACvC,IAAID,IAAI,EAAE;gBACRjB,iBAAiB,CAACiB,IAAI,CAAC;gBACvBf,eAAe,CAAC,MAAM,CAAC;YACzB;YACA,IAAIiB,MAAM,EAAE;gBACVnB,iBAAiB,CAACmB,MAAM,CAAC;gBACzBjB,eAAe,CAAC,QAAQ,CAAC;YAC3B;YACA,IAAIkB,KAAK,EAAEhB,UAAU,CAACgB,KAAK,CAAC;QAC9B,CAAC;+BAAE;QAAChE,YAAY;KAAC,CAAC;IAElB,MAAMiE,gBAAgB,OAAG7F,4KAAW;oDAAC,CAAC8F,CAAC,EAAEC,KAAK,CAACC,WAAW,CAAClE,gBAAgB,CAAC,KAAK;YAC/E,MAAMmE,IAAI,GAAGH,CAAC,CAACI,MAAM,CAACC,KAAK,EAAA,CAAG,CAAC,CAAC;YAChC,IAAI,CAACF,IAAI,EAAE;YAEX,IAAI,CAACA,IAAI,CAACG,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,EAAE;gBACnCvD,QAAQ,CAAC,4BAA4B,CAAC;gBACtC;YACF;YAEA,IAAImD,IAAI,CAACK,IAAI,GAAG,GAAG,GAAG,IAAI,GAAG,IAAI,EAAE;gBACjCxD,QAAQ,CAAC,+BAA+B,CAAC;gBACzC;YACF;YAEAb,eAAe,CAACgE,IAAI,CAAC;YACrB7D,kBAAkB,CAACmE,GAAG,CAACC,eAAe,CAACP,IAAI,CAAC,CAAC;YAC7CnD,QAAQ,CAAC,IAAI,CAAC;YACdR,oBAAoB,CAAC,IAAI,CAAC;YAC1BE,sBAAsB;6DAAEiE,IAAI,IAAK;oBAC/B,IAAIA,IAAI,EAAEF,GAAG,CAACG,eAAe,CAACD,IAAI,CAAC;oBACnC,OAAO,IAAI;gBACb,CAAC,CAAC;;QACJ,CAAC;mDAAE,EAAE,CAAC;IAEN,MAAME,qBAAqB,OAAG3G,4KAAW;yDAAC,CAAC8F,GAAC,EAAEC,KAAK,CAACC,WAAW,CAAClE,gBAAgB,CAAC,KAAK;YACpF,MAAMmE,MAAI,GAAGH,GAAC,CAACI,MAAM,CAACC,KAAK,EAAA,CAAG,CAAC,CAAC;YAChC,IAAI,CAACF,MAAI,EAAE;YACX,IAAI,CAACA,MAAI,CAACG,IAAI,CAACC,UAAU,CAAC,QAAQ,CAAC,EAAE;gBACnCvD,QAAQ,CAAC,8CAA8C,CAAC;gBACxD;YACF;YACA,IAAIP,mBAAmB,EAAEgE,GAAG,CAACG,eAAe,CAACnE,mBAAmB,CAAC;YACjED,oBAAoB,CAAC2D,MAAI,CAAC;YAC1BzD,sBAAsB,CAAC+D,GAAG,CAACC,eAAe,CAACP,MAAI,CAAC,CAAC;YACjDnD,QAAQ,CAAC,IAAI,CAAC;QAChB,CAAC;wDAAE;QAACP,mBAAmB;KAAC,CAAC;IAEzB,MAAMqE,gBAAgB,GAAG5G,gLAAW;oDAAC,CAAC8F,GAAC,EAAEC,KAAK,CAACc,aAAa,CAAC/E,gBAAgB,CAAC,KAAK;YACjF,IAAIgE,GAAC,CAACgB,GAAG,KAAK,OAAO,IAAIhB,GAAC,CAACgB,GAAG,KAAK,GAAG,EAAE;gBACtChB,GAAC,CAACiB,cAAc,CAAC,CAAC;gBAClB,MAAMC,GAAG,GAAG3D,YAAY,CAAC4D,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;gBACjD,IAAIF,GAAG,IAAI,CAAC7D,QAAQ,CAACgE,QAAQ,CAACH,GAAG,CAAC,IAAI7D,QAAQ,CAACiE,MAAM,GAAG,EAAE,EAAE;oBAC1DhE,WAAW,CAAC,CAAC;2BAAGD,QAAQ;wBAAE6D,GAAG;qBAAC,CAAC;oBAC/B1D,eAAe,CAAC,EAAE,CAAC;gBACrB;YACF;QACF,CAAC;mDAAE;QAACD,YAAY;QAAEF,QAAQ;KAAC,CAAC;IAE5B,MAAMkE,mBAAmB,OAAGrH,4KAAW;uDAAC,CAACgH,KAAG,EAAE,MAAM,KAAK;YACvD5D,WAAW,CAACD,QAAQ,CAACmE,MAAM;+DAAEC,CAAC,IAAKA,CAAC,KAAKP,KAAG,CAAC,CAAC;;QAChD,CAAC;sDAAE;QAAC7D,QAAQ;KAAC,CAAC;IAEd,MAAMqE,YAAY,GAAGxH,gLAAW;gDAAC,YAAY;YAC3C,IAAI,CAACgC,YAAY,EAAE;YAEnB,IAAI;gBACFU,cAAc,CAAC,IAAI,CAAC;gBACpBE,iBAAiB,CAAC,EAAE,CAAC;gBAErB,MAAM6E,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;gBAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE3F,YAAY,CAAC;gBACtC,IAAIK,iBAAiB,EAAEoF,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAEtF,iBAAiB,CAAC;gBACtEoF,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE5E,KAAK,CAAC;gBAC/B0E,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAE1E,OAAO,CAAC;gBACnCwE,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEC,IAAI,CAACC,SAAS,CAAC1E,QAAQ,CAAC,CAAC;gBACrDsE,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAEpE,UAAU,CAAC;gBACzCkE,QAAQ,CAACE,MAAM,CAAC,eAAe,EAAEG,MAAM,CAACrE,aAAa,CAAC,CAAC;gBACvDgE,QAAQ,CAACE,MAAM,CAAC,YAAY,EAAEG,MAAM,CAACnE,UAAU,CAAC,CAAC;gBACjD8D,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAEG,MAAM,CAACjE,WAAW,CAAC,CAAC;gBACnD4D,QAAQ,CAACE,MAAM,CAAC,eAAe,EAAEG,MAAM,CAAC/D,aAAa,CAAC,CAAC;gBACvD0D,QAAQ,CAACE,MAAM,CAAC,cAAc,EAAEG,MAAM,CAAC7D,YAAY,CAAC,CAAC;gBACrDwD,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAEG,MAAM,CAAC3D,WAAW,CAAC,CAAC;gBACnD,IAAIE,WAAW,EAAEoD,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAEtD,WAAW,CAAC;gBAC5D,IAAIE,cAAc,EAAEkD,QAAQ,CAACE,MAAM,CAAC,gBAAgB,EAAEpD,cAAc,CAAC;gBACrE,IAAIE,YAAY,EAAEgD,QAAQ,CAACE,MAAM,CAAC,cAAc,EAAElD,YAAY,CAAC;gBAC/D,IAAIE,OAAO,EAAE8C,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEhD,OAAO,CAAC;gBAEhD,IAAIE,WAAW,EAAE;oBACf4C,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAE9C,WAAW,CAAC;oBAC3C4C,QAAQ,CAACE,MAAM,CAAC,cAAc,EAAE5C,YAAY,CAAC;oBAC7C0C,QAAQ,CAACE,MAAM,CAAC,cAAc,EAAE1C,YAAY,CAAC;oBAC7CwC,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAExC,OAAO,CAAC;gBACrC;gBAEAvC,iBAAiB,CAAC,EAAE,CAAC;gBAErB,MAAMmF,IAAI,GAAG,MAAM3G,yIAAQ,CAAC4G,UAAU,CAACP,QAAQ,CAAC;gBAEhD7E,iBAAiB,CAAC,GAAG,CAAC;gBAEtB,IAAIuB,WAAW,EAAE;oBACfxC,MAAM,CAACsG,IAAI,CAAC,eAAe,CAAC;gBAC9B,CAAC,MAAM;oBACLtG,MAAM,CAACsG,IAAI,CAAC,CAAA,OAAA,EAAU,AAACF,IAAI,CAAoBG,EAAE,CAAlB,CAAoB,CAAC;gBACtD;YACF,CAAC,CAAC,OAAOC,GAAG,EAAE,AAAK,GAAF;gBACfC,OAAO,CAACvF,KAAK,CAAC,gBAAgB,EAAEsF,GAAG,CAAC;gBACpC,MAAME,GAAG,GAAGF,GAAG,EAAEG,QAAQ,EAAEC,IAAI,EAAEC,OAAO,IAAIL,GAAG,EAAEG,QAAQ,EAAEC,IAAI,EAAE1F,KAAK,IAAIsF,GAAG,EAAEK,OAAO;gBACtF1F,QAAQ,CAACuF,GAAG,IAAI,2CAA2C,CAAC;YAC9D,CAAC,QAAS;gBACR3F,cAAc,CAAC,KAAK,CAAC;YACvB;QACF,CAAC;+CAAE;QACDV,YAAY;QACZK,iBAAiB;QACjBU,KAAK;QACLE,OAAO;QACPE,QAAQ;QACRI,UAAU;QACVE,aAAa;QACbE,UAAU;QACVE,WAAW;QACXE,aAAa;QACbE,YAAY;QACZY,WAAW;QACXE,YAAY;QACZE,YAAY;QACZE,OAAO;QACPxD,MAAM;KACP,CAAC;IAEF,MAAM8G,WAAW,OAAGzI,4KAAW;+CAAC,MAAM;YACpC,IAAImC,eAAe,EAAE;gBACnBoE,GAAG,CAACG,eAAe,CAACvE,eAAe,CAAC;YACtC;YACAb,OAAO,GAAG,CAAC;QACb,CAAC;8CAAE;QAACa,eAAe;QAAEb,OAAO;KAAC,CAAC;IAE9B,qBACE,6LAAC,GAAG;QAAC,SAAS,EAAC,wCAAwC;kBACrD,2MAAC,GAAG;YAAC,SAAS,EAAC,uBAAuB;;8BACpC,6LAAC,GAAG;oBAAC,SAAS,EAAC,wCAAwC;;sCACrD,6LAAC,EAAE;4BAAC,SAAS,EAAC,oBAAoB;sCAAC,WAAW,EAAE,EAAE;;;;;;wBACjDA,OAAO,kBACN,6LAAC,MAAM;4BACL,OAAO,CAAC,CAACmH,WAAW,CAAC;4BACrB,SAAS,EAAC,2DAA2D;oDAErE,6LAAC,oMAAC;gCAAC,SAAS,EAAC,SAAS;;;;;;;;;;;;;;;;;gBAK3B,CAACzG,YAAY,iBACZ,6LAAC,GAAG;oBACF,OAAO,CAAC,CAAC,IAAMH,YAAY,CAAC6G,OAAO,EAAEC,KAAK,CAAC,CAAC,CAAC;oBAC7C,SAAS,EAAC,iJAAiJ;;sCAE3J,6LAAC,mNAAM;4BAAC,SAAS,EAAC,sCAAsC;;;;;;sCACxD,6LAAC,CAAC;4BAAC,SAAS,EAAC,0BAA0B;sCAAC,cAAc,EAAE,CAAC;;;;;;sCACzD,6LAAC,CAAC;4BAAC,SAAS,EAAC,4BAA4B;sCAAA;;;;;;sCAGzC,6LAAC,MAAM;4BAAC,SAAS,EAAC,+FAA+F;sCAAA;;;;;;sCAGjH,6LAAC,KAAK;4BACJ,GAAG,CAAC,CAAC9G,YAAY,CAAC;4BAClB,IAAI,EAAC,MAAM;4BACX,MAAM,EAAC,SAAS;4BAChB,QAAQ,CAAC,CAACgE,gBAAgB,CAAC;4BAC3B,SAAS,EAAC,QAAQ;;;;;;;;;;;yCAItB,6LAAC,GAAG;oBAAC,SAAS,EAAC,WAAW;;sCACxB,6LAAC,GAAG;4BAAC,SAAS,EAAC,YAAY;;8CACzB,6LAAC,GAAG;oCAAC,SAAS,EAAC,8BAA8B;;sDAC3C,6LAAC,GAAG;4CAAC,SAAS,EAAC,4DAA4D;;8DACzE,6LAAC,KAAK;oDACJ,GAAG,CAAC,CAAC1D,eAAe,IAAIyG,SAAS,CAAC;oDAClC,SAAS,EAAC,4BAA4B;oDACtC,QAAQ;oDACR,KAAK;;;;;;8DAEP,6LAAC,MAAM;oDACL,OAAO,CAAC,CAAC,MAAM;wDACb3G,eAAe,CAAC,IAAI,CAAC;wDACrB,IAAIE,eAAe,EAAE;4DACnBoE,GAAG,CAACG,eAAe,CAACvE,eAAe,CAAC;4DACpCC,kBAAkB,CAAC,IAAI,CAAC;wDAC1B;oDACF,CAAC,CAAC;oDACF,SAAS,EAAC,qDAAqD;4EAE/D,6LAAC,oMAAC;wDAAC,SAAS,EAAC,oBAAoB;;;;;;;;;;;;;;;;;sDAGrC,6LAAC,GAAG;;8DACF,6LAAC,KAAK;oDAAC,SAAS,EAAC,gCAAgC;8DAAC,2BAA2B,EAAE,KAAK;;;;;;8DACpF,6LAAC,GAAG;oDACF,OAAO,CAAC,CAAC,IAAML,iBAAiB,CAAC2G,OAAO,EAAEC,KAAK,CAAC,CAAC,CAAC;oDAClD,SAAS,EAAC,oNAAoN;8DAE7NpG,mBAAmB,iBAClB,6LAAC,GAAG;wDAAC,GAAG,CAAC,CAACA,mBAAmB,CAAC;wDAAC,GAAG,EAAC,WAAW;wDAAC,SAAS,EAAC,4BAA4B,GAAG;;;;;6EAExF,6LAAC,IAAI;wDAAC,SAAS,EAAC,0BAA0B;kEAAC,aAAa,EAAE,IAAI,CAC/D;;;;;;;;;;;8DAEH,6LAAC,KAAK;oDACJ,GAAG,CAAC,CAACR,iBAAiB,CAAC;oDACvB,IAAI,EAAC,MAAM;oDACX,MAAM,EAAC,iCAAiC;oDACxC,QAAQ,CAAC,CAAC4E,qBAAqB,CAAC;oDAChC,SAAS,EAAC,QAAQ;;;;;;gDAEnBtE,iBAAiB,kBAChB,6LAAC,MAAM;oDACL,IAAI,EAAC,QAAQ;oDACb,OAAO,CAAC,CAAC,MAAM;wDACbC,oBAAoB,CAAC,IAAI,CAAC;wDAC1B,IAAIC,mBAAmB,EAAEgE,GAAG,CAACG,eAAe,CAACnE,mBAAmB,CAAC;wDACjEC,sBAAsB,CAAC,IAAI,CAAC;oDAC9B,CAAC,CAAC;oDACF,SAAS,EAAC,2CAA2C;8DAAA;;;;;;;;;;;;;;;;;;8CAQ7D,6LAAC,GAAG;oCAAC,SAAS,EAAC,kBAAkB;;sDAC/B,6LAAC,GAAG;;8DACF,6LAAC,KAAK;oDAAC,SAAS,EAAC,gCAAgC;8DAAC,gBAAgB,EAAE,KAAK;;;;;;8DACzE,6LAAC,KAAK;oDACJ,IAAI,EAAC,MAAM;oDACX,KAAK,CAAC,CAACO,KAAK,CAAC;oDACb,QAAQ,CAAC,CAAE+C,GAAC,IAAK9C,QAAQ,CAAC8C,GAAC,CAACI,MAAM,CAAC2C,KAAK,CAAC,CAAC;oDAC1C,WAAW,EAAC,gBAAgB;oDAC5B,SAAS,EAAC,sIAAsI;;;;;;;;;;;;sDAIpJ,6LAAC,GAAG;;8DACF,6LAAC,KAAK;oDAAC,SAAS,EAAC,gCAAgC;8DAAC,OAAO,EAAE,KAAK;;;;;;8DAChE,6LAAC,QAAQ;oDACP,KAAK,CAAC,CAAC5F,OAAO,CAAC;oDACf,QAAQ,CAAC,EAAE6C,GAAC,GAAK5C,UAAU,CAAC4C,GAAC,CAACI,MAAM,CAAC2C,KAAK,CAAC,CAAC;oDAC5C,WAAW,EAAC,gDAAgD;oDAC5D,IAAI,CAAC,CAAC,CAAC,CAAC;oDACR,SAAS,CAAC,CAAC,IAAI,CAAC;oDAChB,SAAS,EAAC,kJAAkJ;;;;;;8DAE9J,6LAAC,CAAC;oDAAC,SAAS,EAAC,uCAAuC;;wDACjD5F,OAAO,CAACmE,MAAM;wDAAC;;;;;;;;;;;;;sDAIpB,6LAAC,GAAG;;8DACF,6LAAC,KAAK;oDAAC,SAAS,EAAC,gCAAgC;;sEAC/C,6LAAC,6MAAI;4DAAC,SAAS,EAAC,qBAAqB;;;;;;wDAAA;;;;;;;8DAGvC,6LAAC,GAAG;oDAAC,SAAS,EAAC,2BAA2B;8DACvCjE,QAAQ,CAAC2F,GAAG,EAAE9B,KAAG,iBAChB,6LAAC,IAAI,CACH,GAAG,CAAC;4DACJ,SAAS,EAAC,sHAAsH;;gEAAA;gEAE9HA,KAAG;8EACL,6LAAC,MAAM;oEAAC,OAAO,CAAC,CAAC,IAAMK,mBAAmB,CAACL,KAAG,CAAC,CAAC;4FAC9C,6LAAC,oMAAC;wEAAC,SAAS,EAAC,SAAS;;;;;;;;;;;;2DALnBA,KAAG,CAAC;;;;;;;;;;8DAUf,6LAAC,KAAK;oDACJ,IAAI,EAAC,MAAM;oDACX,KAAK,CAAC,CAAC3D,YAAY,CAAC;oDACpB,QAAQ,CAAC,EAAEyC,GAAC,GAAKxC,eAAe,CAACwC,GAAC,CAACI,MAAM,CAAC2C,KAAK,CAAC,CAAC;oDACjD,SAAS,CAAC,CAACjC,gBAAgB,CAAC;oDAC5B,WAAW,EAAC,4BAA4B;oDACxC,QAAQ,CAAC,CAACzD,QAAQ,CAACiE,MAAM,IAAI,EAAE,CAAC;oDAChC,SAAS,EAAC,sIAAsI;;;;;;;;;;;;sDAIpJ,6LAAC,GAAG;;8DACF,6LAAC,KAAK;oDAAC,SAAS,EAAC,gCAAgC;;sEAC/C,6LAAC,0MAAG;4DAAC,SAAS,EAAC,qBAAqB;;;;;;wDAAA;;;;;;;8DAGtC,6LAAC,MAAM;oDACL,KAAK,CAAC,CAAC7D,UAAU,CAAC;oDAClB,QAAQ,CAAC,CAAEuC,GAAC,IAAKtC,aAAa,CAACsC,GAAC,CAACI,MAAM,CAAC2C,KAAK,IAAI,OAAOtF,UAAU,CAAC,CAAC;oDACpE,SAAS,EAAC,sIAAsI;;sEAEhJ,6LAAC,MAAM;4DAAC,KAAK,EAAC,QAAQ;sEAAC,wBAAwB,EAAE,MAAM;;;;;;sEACvD,6LAAC,MAAM;4DAAC,KAAK,EAAC,aAAa;sEAAC,uCAAuC,EAAE,MAAM;;;;;;sEAC3E,6LAAC,MAAM;4DAAC,KAAK,EAAC,SAAS;sEAAC,2BAA2B,EAAE,MAAM;;;;;;;;;;;;;;;;;;sDAI/D,6LAAC,GAAG;4CAAC,SAAS,EAAC,qBAAqB;;8DAClC,6LAAC,KAAK;oDAAC,SAAS,EAAC,wCAAwC;;sEACvD,6LAAC,KAAK;4DACJ,IAAI,EAAC,UAAU;4DACf,OAAO,CAAC,CAACY,WAAW,CAAC;4DACrB,QAAQ,CAAC,EAAE2B,GAAC,GAAK1B,cAAc,CAAC0B,GAAC,CAACI,MAAM,CAAC6C,OAAO,CAAC,CAAC;4DAClD,SAAS,EAAC,SAAS;;;;;;sEAErB,6LAAC,6MAAI;4DAAC,SAAS,EAAC,SAAS;;;;;;sEACzB,6LAAC,IAAI;sEAAC,aAAa,EAAE,IAAI;;;;;;;;;;;;gDAE1B,CAAC5E,WAAW,kBACX,6LAAC,GAAG;;sEACF,6LAAC,KAAK;4DAAC,SAAS,EAAC,sCAAsC;;8EACrD,6LAAC,yNAAQ;oEAAC,SAAS,EAAC,SAAS;;;;;;gEAAA;;;;;;;sEAG/B,6LAAC,KAAK;4DACJ,IAAI,EAAC,gBAAgB;4DACrB,KAAK,CAAC,CAACE,WAAW,CAAC;4DACnB,QAAQ,CAAC,EAAEyB,GAAC,GAAKxB,cAAc,CAACwB,GAAC,CAACI,MAAM,CAAC2C,KAAK,CAAC,CAAC;4DAChD,GAAG,CAAC,CAAC,IAAIG,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;4DAC3C,SAAS,EAAC,sIAAsI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAQ5J,6LAAC,MAAM;4BACL,OAAO,CAAC,CAAC,IAAM5D,kBAAkB,CAAC,CAACD,eAAe,CAAC,CAAC;4BACpD,SAAS,EAAC,mEAAmE;;8CAE7E,6LAAC,6MAAI;oCAAC,SAAS,EAAC,SAAS;;;;;;gCACxBA,eAAe,GAAG,mBAAmB,GAAG,kCAAkC;8CAC3E,6LAAC,sOAAW;oCAAC,SAAS,CAAC,KAAClE,4HAAE,EAAC,8BAA8B,EAAEkE,eAAe,IAAI,YAAY,CAAC,CAAC;;;;;;;;;;;;wBAG7FA,eAAe,kBACd,6LAAC,GAAG;4BAAC,SAAS,EAAC,sDAAsD;;8CACnE,6LAAC,GAAG;;sDACF,6LAAC,KAAK;4CAAC,SAAS,EAAC,gCAAgC;sDAAC,IAAI,EAAE,KAAK;;;;;;sDAC7D,6LAAC,QAAQ;4CACP,KAAK,CAAC,CAACR,WAAW,CAAC;4CACnB,QAAQ,CAAC,EAAEiB,GAAC,GAAKhB,cAAc,CAACgB,GAAC,CAACI,MAAM,CAAC2C,KAAK,CAAC,CAAC;4CAChD,WAAW,EAAC,yBAAyB;4CACrC,IAAI,CAAC,CAAC,CAAC,CAAC;4CACR,SAAS,EAAC,+KAA+K;;;;;;;;;;;;8CAG7L,6LAAC,GAAG;oCAAC,SAAS,EAAC,wBAAwB;;sDACrC,6LAAC,GAAG;;8DACF,6LAAC,KAAK;oDAAC,SAAS,EAAC,gCAAgC;8DAAC,QAAQ,EAAE,KAAK;;;;;;8DACjE,6LAAC,KAAK;oDACJ,IAAI,EAAC,MAAM;oDACX,KAAK,CAAC,CAAC9D,YAAY,CAAC;oDACpB,QAAQ,CAAC,EAAEe,GAAC,GAAKd,eAAe,CAACc,GAAC,CAACI,MAAM,CAAC2C,KAAK,CAAC,CAAC;oDACjD,WAAW,EAAC,kBAAkB;oDAC9B,SAAS,EAAC,sIAAsI;;;;;;;;;;;;sDAGpJ,6LAAC,GAAG;;8DACF,6LAAC,KAAK;oDAAC,SAAS,EAAC,gCAAgC;8DAAC,SAAS,EAAE,KAAK;;;;;;8DAClE,6LAAC,KAAK;oDACJ,IAAI,EAAC,MAAM;oDACX,KAAK,CAAC,CAAC5D,YAAY,CAAC;oDACpB,QAAQ,CAAC,CAAEa,IAAC,IAAKZ,eAAe,CAACY,IAAC,CAACI,MAAM,CAAC2C,KAAK,CAAC,CAAC;oDACjD,WAAW,EAAC,cAAc;oDAC1B,SAAS,EAAC,sIAAsI;;;;;;;;;;;;;;;;;;8CAItJ,6LAAC,GAAG;;sDACF,6LAAC,KAAK;4CAAC,SAAS,EAAC,gCAAgC;sDAAC,yBAAyB,EAAE,KAAK;;;;;;sDAClF,6LAAC,KAAK;4CACJ,IAAI,EAAC,KAAK;4CACV,KAAK,CAAC,CAAC1D,OAAO,CAAC;4CACf,QAAQ,CAAC,CAAEW,IAAC,IAAKV,UAAU,CAACU,IAAC,CAACI,MAAM,CAAC2C,KAAK,CAAC,CAAC;4CAC5C,WAAW,EAAC,wBAAwB;4CACpC,SAAS,EAAC,sIAAsI;;;;;;;;;;;;;;;;;;sCAMxJ,6LAAC,MAAM;4BACL,OAAO,CAAC,CAAC,IAAMrD,eAAe,CAAC,CAACD,YAAY,CAAC,CAAC;4BAC9C,SAAS,EAAC,mEAAmE;;gCAAA;8CAG7E,6LAAC,sOAAW;oCAAC,SAAS,CAAC,KAACpE,4HAAE,EAAC,8BAA8B,EAAEoE,YAAY,IAAI,YAAY,CAAC,CAAC;;;;;;;;;;;;wBAG1FA,YAAY,kBACX,6LAAC,GAAG;4BAAC,SAAS,EAAC,sDAAsD;;8CACnE,6LAAC,KAAK;oCAAC,SAAS,EAAC,kDAAkD;;sDACjE,6LAAC,IAAI;4CAAC,SAAS,EAAC,yBAAyB;;8DACvC,6LAAC,4OAAa;oDAAC,SAAS,EAAC,SAAS;;;;;;gDAAA;;;;;;;sDAGpC,6LAAC,KAAK;4CACJ,IAAI,EAAC,UAAU;4CACf,OAAO,CAAC,CAAC9B,aAAa,CAAC;4CACvB,QAAQ,CAAC,EAAEqC,IAAC,GAAKpC,gBAAgB,CAACoC,IAAC,CAACI,MAAM,CAAC6C,OAAO,CAAC,CAAC;4CACpD,SAAS,EAAC,iBAAiB;;;;;;;;;;;;8CAG/B,6LAAC,KAAK;oCAAC,SAAS,EAAC,kDAAkD;;sDACjE,6LAAC,IAAI;4CAAC,SAAS,EAAC,yBAAyB;;8DACvC,6LAAC,gNAAK;oDAAC,SAAS,EAAC,SAAS;;;;;;gDAAA;;;;;;;sDAG5B,6LAAC,KAAK;4CACJ,IAAI,EAAC,UAAU;4CACf,OAAO,CAAC,CAACpF,UAAU,CAAC;4CACpB,QAAQ,CAAC,EAAEmC,IAAC,GAAKlC,aAAa,CAACkC,IAAC,CAACI,MAAM,CAAC6C,OAAO,CAAC,CAAC;4CACjD,SAAS,EAAC,iBAAiB;;;;;;;;;;;;8CAG/B,6LAAC,KAAK;oCAAC,SAAS,EAAC,kDAAkD;;sDACjE,6LAAC,IAAI;4CAAC,SAAS,EAAC,yBAAyB;;8DACvC,6LAAC,gNAAK;oDAAC,SAAS,EAAC,SAAS;;;;;;gDAAA;;;;;;;sDAG5B,6LAAC,KAAK;4CACJ,IAAI,EAAC,UAAU;4CACf,OAAO,CAAC,CAAClF,WAAW,CAAC;4CACrB,QAAQ,CAAC,CAAEiC,IAAC,IAAKhC,cAAc,CAACgC,IAAC,CAACI,MAAM,CAAC6C,OAAO,CAAC,CAAC;4CAClD,SAAS,EAAC,iBAAiB;;;;;;;;;;;;8CAG/B,6LAAC,KAAK;oCAAC,SAAS,EAAC,kDAAkD;;sDACjE,6LAAC,IAAI;4CAAC,SAAS,EAAC,yBAAyB;;8DACvC,6LAAC,yNAAQ;oDAAC,SAAS,EAAC,SAAS;;;;;;gDAAA;;;;;;;sDAG/B,6LAAC,KAAK;4CACJ,IAAI,EAAC,UAAU;4CACf,OAAO,CAAC,CAAChF,aAAa,CAAC;4CACvB,QAAQ,CAAC,EAAE+B,IAAC,GAAK9B,gBAAgB,CAAC8B,IAAC,CAACI,MAAM,CAAC6C,OAAO,CAAC,CAAC;4CACpD,SAAS,EAAC,iBAAiB;;;;;;;;;;;;8CAG/B,6LAAC,KAAK;oCAAC,SAAS,EAAC,kDAAkD;;sDACjE,6LAAC,IAAI;4CAAC,SAAS,EAAC,yBAAyB;;8DACvC,6LAAC,uNAAM;oDAAC,SAAS,EAAC,SAAS;;;;;;gDAAA;;;;;;;sDAG7B,6LAAC,KAAK;4CACJ,IAAI,EAAC,UAAU;4CACf,OAAO,CAAC,CAAC9E,YAAY,CAAC;4CACtB,QAAQ,CAAC,EAAE6B,IAAC,GAAK5B,eAAe,CAAC4B,IAAC,CAACI,MAAM,CAAC6C,OAAO,CAAC,CAAC;4CACnD,SAAS,EAAC,iBAAiB;;;;;;;;;;;;;;;;;;wBAMlClG,KAAK,kBACJ,6LAAC,GAAG;4BAAC,SAAS,EAAC,6EAA6E;sCACzFA,KAAK;;;;;;sCAIV,6LAAC,GAAG;4BAAC,SAAS,EAAC,YAAY;;8CACzB,6LAAC,MAAM;oCACL,OAAO,CAAC,CAAC4F,WAAW,CAAC;oCACrB,SAAS,EAAC,kJAAkJ;8CAAA;;;;;;8CAI9J,6LAAC,MAAM;oCACL,OAAO,CAAC,CAACjB,YAAY,CAAC;oCACtB,QAAQ,CAAC,CAAC/E,WAAW,CAAC;oCACtB,SAAS,EAAC,6LAA6L;8CAEtMA,WAAW,iBACV;;0DACE,6LAAC,+NAAO;gDAAC,SAAS,EAAC,sBAAsB;;;;;;4CAAA;4CAC3BE,cAAc;4CAAC;;uDAG/B,MACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjB;;;QA1hBiBzC,kJAAS,CAAC,CAAC;QACLC,wJAAe,CAAC,CAAC;;;KAFxBuB,UAAUA","ignoreList":[]}},
    {"offset": {"line": 6142, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelEdit.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useEffect } from 'react';\nimport Image from 'next/image';\nimport { \n  X, \n  Loader2, \n  Hash, \n  Globe, \n  Lock, \n  Users,\n  MessageCircle,\n  Share2,\n  Download,\n  Music\n} from 'lucide-react';\nimport { reelsApi, Reel } from '@/lib/api/reels';\nimport { MentionInput } from './MentionInput';\n\ninterface ReelEditProps {\n  reel: Reel;\n  isOpen: boolean;\n  onClose: () => void;\n  onSave: (updatedReel: Reel) => void;\n}\n\ntype Visibility = 'public' | 'followers' | 'private';\n\nexport function ReelEdit({ reel, isOpen, onClose, onSave }: ReelEditProps) {\n  const [title, setTitle] = useState(reel.title || '');\n  const [caption, setCaption] = useState(reel.caption || '');\n  const [mentions, setMentions] = useState<string[]>(reel.mentions || []);\n  const [hashtags, setHashtags] = useState<string[]>(reel.hashtags || []);\n  const [hashtagInput, setHashtagInput] = useState('');\n  const [visibility, setVisibility] = useState<Visibility>(reel.visibility as Visibility || 'public');\n  const [allowComments, setAllowComments] = useState(reel.allowComments);\n  const [allowDuets, setAllowDuets] = useState(reel.allowDuets);\n  const [allowStitch, setAllowStitch] = useState(reel.allowStitch);\n  const [allowDownload, setAllowDownload] = useState(reel.allowDownload);\n  const [allowSharing, setAllowSharing] = useState(reel.allowSharing);\n  const [isSaving, setIsSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (isOpen) {\n      setTitle(reel.title || '');\n      setCaption(reel.caption || '');\n      setMentions(reel.mentions || []);\n      setHashtags(reel.hashtags || []);\n      setVisibility(reel.visibility as Visibility || 'public');\n      setAllowComments(reel.allowComments);\n      setAllowDuets(reel.allowDuets);\n      setAllowStitch(reel.allowStitch);\n      setAllowDownload(reel.allowDownload);\n      setAllowSharing(reel.allowSharing);\n      setError(null);\n    }\n  }, [isOpen, reel]);\n\n  const handleCaptionChange = useCallback((value: string, extractedMentions: string[]) => {\n    setCaption(value);\n    setMentions(extractedMentions);\n  }, []);\n\n  const addHashtag = useCallback(() => {\n    const tag = hashtagInput.trim().replace(/^#/, '');\n    if (tag && !hashtags.includes(tag)) {\n      setHashtags([...hashtags, tag]);\n      setHashtagInput('');\n    }\n  }, [hashtagInput, hashtags]);\n\n  const removeHashtag = useCallback((tag: string) => {\n    setHashtags(hashtags.filter((h) => h !== tag));\n  }, [hashtags]);\n\n  const handleKeyDown = useCallback((e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' || e.key === ',') {\n      e.preventDefault();\n      addHashtag();\n    }\n  }, [addHashtag]);\n\n  const handleSave = async () => {\n    try {\n      setIsSaving(true);\n      setError(null);\n\n      const response = await reelsApi.updateReel(reel.id, {\n        title: title || null,\n        caption: caption || null,\n        mentions,\n        hashtags,\n        visibility,\n        allowComments,\n        allowDuets,\n        allowStitch,\n        allowDownload,\n        allowSharing,\n      });\n\n      onSave(response.data);\n      onClose();\n    } catch (err) {\n      console.error('Failed to update reel:', err);\n      setError('Failed to save changes. Please try again.');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  if (!isOpen) return null;\n\n  const visibilityOptions = [\n    { value: 'public', label: 'Public', icon: Globe, description: 'Anyone can see this reel' },\n    { value: 'followers', label: 'Followers', icon: Users, description: 'Only your followers can see' },\n    { value: 'private', label: 'Private', icon: Lock, description: 'Only you can see' },\n  ];\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      <div \n        className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n      \n      <div className=\"relative w-full max-w-2xl max-h-[90vh] bg-white dark:bg-neutral-900 rounded-2xl overflow-hidden flex flex-col m-4\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200 dark:border-neutral-800\">\n          <h2 className=\"text-lg font-semibold text-gray-900 dark:text-white\">Edit Reel</h2>\n          <button\n            onClick={onClose}\n            className=\"w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-neutral-800 flex items-center justify-center\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        {/* Content */}\n        <div className=\"flex-1 overflow-y-auto p-4 space-y-6\">\n          {/* Preview */}\n          <div className=\"flex gap-4\">\n            <div className=\"w-24 h-36 bg-neutral-800 rounded-lg overflow-hidden flex-shrink-0\">\n              {reel.thumbnailUrl ? (\n                <Image\n                  src={reel.thumbnailUrl}\n                  alt=\"\"\n                  width={96}\n                  height={144}\n                  className=\"w-full h-full object-cover\"\n                />\n              ) : (\n                <div className=\"w-full h-full flex items-center justify-center\">\n                  <Music className=\"w-8 h-8 text-neutral-600\" />\n                </div>\n              )}\n            </div>\n            <div className=\"flex-1\">\n              <p className=\"text-sm text-gray-500 dark:text-gray-400 mb-1\">\n                {reel.viewsCount.toLocaleString()} views  {reel.likesCount.toLocaleString()} likes\n              </p>\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">\n                Posted {new Date(reel.createdAt).toLocaleDateString()}\n              </p>\n            </div>\n          </div>\n\n          {error && (\n            <div className=\"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\">\n              <p className=\"text-red-600 dark:text-red-400 text-sm\">{error}</p>\n            </div>\n          )}\n\n          {/* Title */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Title (optional)\n            </label>\n            <input\n              type=\"text\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              placeholder=\"Add a title...\"\n              maxLength={100}\n              className=\"w-full px-4 py-3 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n          </div>\n\n          {/* Caption */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Caption\n            </label>\n            <div className=\"px-4 py-3 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl\">\n              <MentionInput\n                value={caption}\n                onChange={handleCaptionChange}\n                placeholder=\"Write a caption... Use @ to mention people\"\n                className=\"min-h-[100px] text-gray-900 dark:text-white\"\n                maxLength={2200}\n              />\n            </div>\n            <p className=\"text-xs text-gray-500 mt-1\">{caption.length}/2200</p>\n          </div>\n\n          {/* Hashtags */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Hashtags\n            </label>\n            <div className=\"flex flex-wrap gap-2 mb-2\">\n              {hashtags.map((tag) => (\n                <span\n                  key={tag}\n                  className=\"flex items-center gap-1 px-3 py-1 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full text-sm\"\n                >\n                  <Hash className=\"w-3 h-3\" />\n                  {tag}\n                  <button\n                    onClick={() => removeHashtag(tag)}\n                    className=\"ml-1 hover:text-blue-800 dark:hover:text-blue-300\"\n                  >\n                    <X className=\"w-3 h-3\" />\n                  </button>\n                </span>\n              ))}\n            </div>\n            <div className=\"flex gap-2\">\n              <input\n                type=\"text\"\n                value={hashtagInput}\n                onChange={(e) => setHashtagInput(e.target.value)}\n                onKeyDown={handleKeyDown}\n                placeholder=\"Add hashtag...\"\n                className=\"flex-1 px-4 py-2 bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 rounded-xl text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n              <button\n                onClick={addHashtag}\n                disabled={!hashtagInput.trim()}\n                className=\"px-4 py-2 bg-blue-500 text-white rounded-xl font-medium disabled:opacity-50 hover:bg-blue-600\"\n              >\n                Add\n              </button>\n            </div>\n          </div>\n\n          {/* Visibility */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Visibility\n            </label>\n            <div className=\"space-y-2\">\n              {visibilityOptions.map((option) => (\n                <button\n                  key={option.value}\n                  onClick={() => setVisibility(option.value as Visibility)}\n                  className={`w-full flex items-center gap-3 p-3 rounded-xl border transition-colors ${\n                    visibility === option.value\n                      ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20'\n                      : 'border-gray-200 dark:border-neutral-700 hover:border-gray-300 dark:hover:border-neutral-600'\n                  }`}\n                >\n                  <option.icon className={`w-5 h-5 ${\n                    visibility === option.value ? 'text-blue-500' : 'text-gray-500'\n                  }`} />\n                  <div className=\"text-left\">\n                    <p className={`font-medium ${\n                      visibility === option.value ? 'text-blue-600 dark:text-blue-400' : 'text-gray-900 dark:text-white'\n                    }`}>\n                      {option.label}\n                    </p>\n                    <p className=\"text-xs text-gray-500\">{option.description}</p>\n                  </div>\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Settings */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">\n              Interaction Settings\n            </label>\n            <div className=\"space-y-3\">\n              <label className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-neutral-800 rounded-xl\">\n                <div className=\"flex items-center gap-3\">\n                  <MessageCircle className=\"w-5 h-5 text-gray-500\" />\n                  <span className=\"text-gray-900 dark:text-white\">Allow comments</span>\n                </div>\n                <input\n                  type=\"checkbox\"\n                  checked={allowComments}\n                  onChange={(e) => setAllowComments(e.target.checked)}\n                  className=\"w-5 h-5 text-blue-500 rounded focus:ring-blue-500\"\n                />\n              </label>\n\n              <label className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-neutral-800 rounded-xl\">\n                <div className=\"flex items-center gap-3\">\n                  <Music className=\"w-5 h-5 text-gray-500\" />\n                  <span className=\"text-gray-900 dark:text-white\">Allow duets</span>\n                </div>\n                <input\n                  type=\"checkbox\"\n                  checked={allowDuets}\n                  onChange={(e) => setAllowDuets(e.target.checked)}\n                  className=\"w-5 h-5 text-blue-500 rounded focus:ring-blue-500\"\n                />\n              </label>\n\n              <label className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-neutral-800 rounded-xl\">\n                <div className=\"flex items-center gap-3\">\n                  <Share2 className=\"w-5 h-5 text-gray-500\" />\n                  <span className=\"text-gray-900 dark:text-white\">Allow sharing</span>\n                </div>\n                <input\n                  type=\"checkbox\"\n                  checked={allowSharing}\n                  onChange={(e) => setAllowSharing(e.target.checked)}\n                  className=\"w-5 h-5 text-blue-500 rounded focus:ring-blue-500\"\n                />\n              </label>\n\n              <label className=\"flex items-center justify-between p-3 bg-gray-50 dark:bg-neutral-800 rounded-xl\">\n                <div className=\"flex items-center gap-3\">\n                  <Download className=\"w-5 h-5 text-gray-500\" />\n                  <span className=\"text-gray-900 dark:text-white\">Allow downloads</span>\n                </div>\n                <input\n                  type=\"checkbox\"\n                  checked={allowDownload}\n                  onChange={(e) => setAllowDownload(e.target.checked)}\n                  className=\"w-5 h-5 text-blue-500 rounded focus:ring-blue-500\"\n                />\n              </label>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex items-center justify-end gap-3 p-4 border-t border-gray-200 dark:border-neutral-800\">\n          <button\n            onClick={onClose}\n            className=\"px-6 py-2.5 text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-100 dark:hover:bg-neutral-800 rounded-xl transition-colors\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleSave}\n            disabled={isSaving}\n            className=\"px-6 py-2.5 bg-blue-500 text-white font-medium rounded-xl hover:bg-blue-600 disabled:opacity-50 flex items-center gap-2\"\n          >\n            {isSaving ? (\n              <>\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\n                Saving...\n              </>\n            ) : (\n              'Save Changes'\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["useState","useCallback","useEffect","Image","X","Loader2","Hash","Globe","Lock","Users","MessageCircle","Share2","Download","Music","reelsApi","Reel","MentionInput","ReelEditProps","reel","isOpen","onClose","onSave","updatedReel","Visibility","ReelEdit","title","setTitle","caption","setCaption","mentions","setMentions","hashtags","setHashtags","hashtagInput","setHashtagInput","visibility","setVisibility","allowComments","setAllowComments","allowDuets","setAllowDuets","allowStitch","setAllowStitch","allowDownload","setAllowDownload","allowSharing","setAllowSharing","isSaving","setIsSaving","error","setError","handleCaptionChange","value","extractedMentions","addHashtag","tag","trim","replace","includes","removeHashtag","filter","h","handleKeyDown","e","React","KeyboardEvent","key","preventDefault","handleSave","response","updateReel","id","data","err","console","visibilityOptions","label","icon","description","thumbnailUrl","viewsCount","toLocaleString","likesCount","Date","createdAt","toLocaleDateString","target","length","map","option","checked"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 6917, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/index.ts"],"sourcesContent":["export { ReelsFeed } from './ReelsFeed';\nexport { ReelCard } from './ReelCard';\nexport { ReelPlayer } from './ReelPlayer';\nexport { ReelActions } from './ReelActions';\nexport { ReelInfo } from './ReelInfo';\nexport { ReelComments } from './ReelComments';\nexport { ReelShareSheet } from './ReelShareSheet';\nexport { ReelPoll } from './ReelPoll';\nexport { ReelQuiz } from './ReelQuiz';\nexport { ReelCodeSnippet } from './ReelCodeSnippet';\nexport { ReelCreate } from './ReelCreate';\nexport { ReelEdit } from './ReelEdit';\nexport { MentionInput } from './MentionInput';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 6951, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/app/reels/create/page.tsx"],"sourcesContent":["'use client';\n\nimport { useRouter } from 'next/navigation';\nimport { ReelCreate } from '@/components/reels';\n\nexport default function CreateReelPage() {\n  const router = useRouter();\n\n  return (\n    <ReelCreate onClose={() => router.push('/reels')} />\n  );\n}\n"],"names":["c","_c","useRouter","ReelCreate","CreateReelPage","$","$i","Symbol","for","router","t0","CreateReelPage[<ReelCreate>.onClose]","push"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASC,SAAS,QAAQ,iBAAiB;;AAC3C,SAASC,UAAU,QAAQ,oBAAoB;;;AAH/C,YAAY;;;;AAKG;;IAAA,MAAAE,CAAA,OAAAJ,gLAAA,EAAA;IAAA,IAAAI,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IACb,MAAAI,MAAA;IAA2B,IAAAC,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAI,MAAA,EAAA;QAGzBC,EAAA,iBAAA,6LAAC,0JAAU;YAAU,OAA2B,CAA3B,CAAA;gBAAA,wCAAAC,CAAA,GAAMF,MAAM,CAAAG,IAAK,CAAC,QAAQ;YAAC,CAAA,CAAA,uCAAD,CAAC,GAAI;;;;;;QAAAP,CAAA,CAAA,EAAA,GAAAI,MAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;IAAA,OAApDK,EAAoD;AAAA;;;QAHvCR,kJAAS,CAAC,CAAC;;;KADbE,eAAA","ignoreList":[]}}]
}
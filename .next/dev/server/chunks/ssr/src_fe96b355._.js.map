{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/api/posts.ts"],"sourcesContent":["// Posts API - Complete API client for Posts & Feed endpoints\n\nimport apiClient from './client';\nimport type {\n  Post,\n  FeedResponse,\n  Comment,\n  CommentsResponse,\n  MentionUser,\n  MentionNotification,\n} from '@/types/post';\n\n// ============================================\n// Feed Endpoints\n// ============================================\n\n/**\n * Get home feed with cursor-based pagination\n * @param cursor - Optional cursor for pagination\n * @param limit - Number of posts per page (default: 20)\n */\nexport async function getFeed(cursor?: string, limit: number = 20): Promise<FeedResponse> {\n  const params: Record<string, any> = { limit };\n  if (cursor) params.cursor = cursor;\n  return apiClient.get('/posts/feed', { params });\n}\n\n/**\n * Get a single post by ID\n * @param postId - Post ID\n */\nexport async function getPost(postId: string): Promise<Post> {\n  return apiClient.get(`/posts/${postId}`);\n}\n\n// ============================================\n// Post CRUD Endpoints\n// ============================================\n\n/**\n * Create a new post (supports all post types)\n * Uses FormData for file uploads\n */\nexport async function createPost(formData: FormData): Promise<Post> {\n  // Content-Type is automatically handled by the request interceptor for FormData\n  return apiClient.post('/posts', formData);\n}\n\n/**\n * Delete a post\n * @param postId - Post ID to delete\n */\nexport async function deletePost(postId: string): Promise<{ success: boolean }> {\n  return apiClient.delete(`/posts/${postId}`);\n}\n\n/**\n * Update a post (content and visibility only)\n * @param postId - Post ID to update\n * @param data - Updated content and/or visibility\n */\nexport async function updatePost(\n  postId: string,\n  data: { content?: string; visibility?: string }\n): Promise<Post> {\n  return apiClient.put(`/posts/${postId}`, data);\n}\n\n// ============================================\n// Engagement Endpoints\n// ============================================\n\n/**\n * Toggle like on a post\n * @param postId - Post ID\n */\nexport async function toggleLike(postId: string): Promise<{ liked: boolean; likesCount: number }> {\n  return apiClient.post(`/posts/${postId}/like`);\n}\n\n/**\n * Vote on a poll\n * @param postId - Post ID\n * @param optionId - Poll option ID\n */\nexport async function votePoll(postId: string, optionId: string): Promise<{ success: boolean; pollOptions: any[] }> {\n  return apiClient.post(`/posts/${postId}/poll/vote`, { optionId });\n}\n\n/**\n * Track post impression (view)\n * @param postId - Post ID\n * @param locationData - Optional location data\n */\nexport async function trackImpression(\n  postId: string,\n  locationData?: { lat: number; lng: number; city?: string; country?: string }\n): Promise<{ success: boolean }> {\n  return apiClient.post(`/posts/${postId}/impression`, locationData);\n}\n\n// ============================================\n// Comments Endpoints\n// ============================================\n\n/**\n * Get comments for a post\n * @param postId - Post ID\n * @param parentId - Optional parent comment ID for replies\n * @param page - Page number\n * @param limit - Comments per page\n */\nexport async function getComments(\n  postId: string,\n  parentId?: string,\n  page: number = 1,\n  limit: number = 20\n): Promise<CommentsResponse> {\n  const params: Record<string, any> = { page, limit };\n  if (parentId) params.parentId = parentId;\n  return apiClient.get(`/posts/${postId}/comments`, { params });\n}\n\n/**\n * Create a comment on a post\n * Note: This is handled via WebSocket for real-time updates\n * This is a fallback HTTP endpoint\n */\nexport async function createComment(\n  postId: string,\n  content: string,\n  parentId?: string,\n  mentions?: string[]\n): Promise<Comment> {\n  return apiClient.post(`/posts/${postId}/comments`, {\n    content,\n    parentId,\n    mentions,\n  });\n}\n\n/**\n * Toggle like on a comment\n * Note: This is handled via WebSocket for real-time updates\n */\nexport async function toggleCommentLike(\n  postId: string,\n  commentId: string\n): Promise<{ liked: boolean; likesCount: number }> {\n  return apiClient.post(`/posts/${postId}/comments/${commentId}/like`);\n}\n\n// ============================================\n// Mention Endpoints\n// ============================================\n\n/**\n * Search users for @mention autocomplete\n * @param query - Search query\n */\nexport async function searchUsersForMention(query: string): Promise<MentionUser[]> {\n  return apiClient.get('/mentions/search', { params: { q: query } });\n}\n\n/**\n * Get unread mentions\n */\nexport async function getUnreadMentions(): Promise<MentionNotification[]> {\n  return apiClient.get('/mentions/unread');\n}\n\n/**\n * Get unread mention count\n */\nexport async function getUnreadMentionCount(): Promise<{ count: number }> {\n  return apiClient.get('/mentions/count');\n}\n\n/**\n * Mark mentions as read\n * @param mentionIds - Array of mention IDs to mark as read\n */\nexport async function markMentionsAsRead(mentionIds: string[]): Promise<{ success: boolean }> {\n  return apiClient.post('/mentions/read', { mentionIds });\n}\n\n// ============================================\n// Upload Endpoints\n// ============================================\n\n/**\n * Upload avatar image\n * @param file - Image file\n */\nexport async function uploadAvatar(file: File): Promise<{ avatarUrl: string }> {\n  const formData = new FormData();\n  formData.append('image', file);\n  return apiClient.post('/upload/avatar', formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  });\n}\n\n/**\n * Upload banner image\n * @param file - Image file\n */\nexport async function uploadBanner(file: File): Promise<{ bannerUrl: string }> {\n  const formData = new FormData();\n  formData.append('image', file);\n  return apiClient.post('/upload/banner', formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  });\n}\n\n/**\n * Upload certificate/document image\n * @param file - Image file\n */\nexport async function uploadCertificate(file: File): Promise<{ certificateUrl: string }> {\n  const formData = new FormData();\n  formData.append('image', file);\n  return apiClient.post('/upload/certificate', formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  });\n}\n\n/**\n * Upload project image\n * @param file - Image file\n */\nexport async function uploadProjectImage(file: File): Promise<{ imageUrl: string }> {\n  const formData = new FormData();\n  formData.append('image', file);\n  return apiClient.post('/upload/project', formData, {\n    headers: { 'Content-Type': 'multipart/form-data' },\n  });\n}\n\n/**\n * Delete an uploaded file\n * @param fileUrl - URL of file to delete\n * @param type - Type of file (avatar, banner, post)\n */\nexport async function deleteUpload(fileUrl: string, type: 'avatar' | 'banner' | 'post'): Promise<{ success: boolean }> {\n  return apiClient.delete('/upload', { data: { fileUrl, type } });\n}\n\n// ============================================\n// Location Endpoints\n// ============================================\n\n/**\n * Update user location\n */\nexport async function updateLocation(\n  lat: number,\n  lng: number,\n  accuracy?: number,\n  activity?: string\n): Promise<any> {\n  return apiClient.post('/location/update', { lat, lng, accuracy, activity });\n}\n\n/**\n * Get current user's location\n */\nexport async function getMyLocation(): Promise<any> {\n  return apiClient.get('/location/me');\n}\n\n/**\n * Get nearby users\n * @param radius - Search radius in km (default: 50)\n * @param limit - Max users to return (default: 20)\n */\nexport async function getNearbyUsers(radius?: number, limit?: number): Promise<any[]> {\n  const params: Record<string, any> = {};\n  if (radius) params.radius = radius;\n  if (limit) params.limit = limit;\n  return apiClient.get('/location/nearby', { params });\n}\n\n/**\n * Update location settings\n */\nexport async function updateLocationSettings(settings: {\n  locationPermission?: boolean;\n  shareLocationPublic?: boolean;\n}): Promise<{ message: string }> {\n  return apiClient.put('/location/settings', settings);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 198, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/api/saved.ts"],"sourcesContent":["import apiClient from './client';\nimport type { Post } from '@/types/post';\n\nexport interface SavedPostsResponse {\n  posts: (Post & { savedAt: string })[];\n  pagination: {\n    page: number;\n    limit: number;\n    totalCount: number;\n    totalPages: number;\n    hasMore: boolean;\n  };\n}\n\nexport interface ToggleSaveResponse {\n  message: string;\n  saved: boolean;\n  savesCount: number;\n}\n\n// Get all saved posts\nexport const getSavedPosts = async (page = 1, limit = 10): Promise<SavedPostsResponse> => {\n  const response = await apiClient.get('/saved', {\n    params: { page, limit },\n  });\n  return response.data;\n};\n\n// Toggle save status\nexport const toggleSavePost = async (postId: string): Promise<ToggleSaveResponse> => {\n  const response = await apiClient.post(`/saved/${postId}/toggle`);\n  return response.data;\n};\n\n// Save a post\nexport const savePost = async (postId: string): Promise<{ message: string }> => {\n  const response = await apiClient.post(`/saved/${postId}`);\n  return response.data;\n};\n\n// Unsave a post\nexport const unsavePost = async (postId: string): Promise<{ message: string }> => {\n  const response = await apiClient.delete(`/saved/${postId}`);\n  return response.data;\n};\n\n// Check if post is saved\nexport const checkPostSaved = async (postId: string): Promise<{ saved: boolean }> => {\n  const response = await apiClient.get(`/saved/${postId}/check`);\n  return response.data;\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAqBO,MAAM,gBAAgB,OAAO,OAAO,CAAC,EAAE,QAAQ,EAAE;IACtD,MAAM,WAAW,MAAM,sIAAS,CAAC,GAAG,CAAC,UAAU;QAC7C,QAAQ;YAAE;YAAM;QAAM;IACxB;IACA,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,iBAAiB,OAAO;IACnC,MAAM,WAAW,MAAM,sIAAS,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,OAAO,CAAC;IAC/D,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,WAAW,OAAO;IAC7B,MAAM,WAAW,MAAM,sIAAS,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,QAAQ;IACxD,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,aAAa,OAAO;IAC/B,MAAM,WAAW,MAAM,sIAAS,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,QAAQ;IAC1D,OAAO,SAAS,IAAI;AACtB;AAGO,MAAM,iBAAiB,OAAO;IACnC,MAAM,WAAW,MAAM,sIAAS,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,OAAO,MAAM,CAAC;IAC7D,OAAO,SAAS,IAAI;AACtB"}},
    {"offset": {"line": 241, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/api/reports.ts"],"sourcesContent":["import apiClient from './client';\n\nexport interface ReportReason {\n  value: string;\n  label: string;\n  description: string;\n}\n\nexport interface ReportResponse {\n  message: string;\n  reportId: string;\n}\n\nexport interface MyReport {\n  id: string;\n  reportType: 'POST' | 'CHAT' | 'USER' | 'COMMENT' | 'GROUP';\n  reason: string;\n  description: string | null;\n  status: 'PENDING' | 'UNDER_REVIEW' | 'RESOLVED' | 'DISMISSED';\n  actionTaken: string;\n  createdAt: string;\n  reviewedAt: string | null;\n  post: {\n    id: string;\n    content: string;\n    type: string;\n  } | null;\n  reportedUser: {\n    id: string;\n    name: string;\n    username: string;\n    profileImage: string | null;\n  } | null;\n}\n\nexport interface ReportRequest {\n  reason: string;\n  description?: string;\n}\n\nexport interface ChatReportRequest extends ReportRequest {\n  reportedUserId: string;\n}\n\nexport const reportAPI = {\n  // Get available report reasons\n  getReasons: async (): Promise<{ reasons: ReportReason[] }> => {\n    return apiClient.get('/reports/reasons');\n  },\n\n  // Report a post\n  reportPost: async (postId: string, data: ReportRequest): Promise<ReportResponse> => {\n    return apiClient.post(`/reports/post/${postId}`, data);\n  },\n\n  // Report a comment\n  reportComment: async (commentId: string, data: ReportRequest): Promise<ReportResponse> => {\n    return apiClient.post(`/reports/comment/${commentId}`, data);\n  },\n\n  // Report a user in chat\n  reportChatUser: async (conversationId: string, data: ChatReportRequest): Promise<ReportResponse> => {\n    return apiClient.post(`/reports/chat/${conversationId}`, data);\n  },\n\n  // Report a user profile\n  reportUser: async (userId: string, data: ReportRequest): Promise<ReportResponse> => {\n    return apiClient.post(`/reports/user/${userId}`, data);\n  },\n\n  // Report a group\n  reportGroup: async (groupId: string, data: ReportRequest): Promise<ReportResponse> => {\n    return apiClient.post(`/reports/group/${groupId}`, data);\n  },\n\n  // Get user's own reports\n  getMyReports: async (page = 1, limit = 10): Promise<{\n    reports: MyReport[];\n    pagination: {\n      page: number;\n      limit: number;\n      total: number;\n      totalPages: number;\n    };\n  }> => {\n    return apiClient.get(`/reports/my-reports?page=${page}&limit=${limit}`);\n  },\n};\n"],"names":[],"mappings":";;;;AAAA;;AA4CO,MAAM,YAAY;IACvB,+BAA+B;IAC/B,YAAY;QACV,OAAO,sIAAS,CAAC,GAAG,CAAC;IACvB;IAEA,gBAAgB;IAChB,YAAY,OAAO,QAAgB;QACjC,OAAO,sIAAS,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE,QAAQ,EAAE;IACnD;IAEA,mBAAmB;IACnB,eAAe,OAAO,WAAmB;QACvC,OAAO,sIAAS,CAAC,IAAI,CAAC,CAAC,iBAAiB,EAAE,WAAW,EAAE;IACzD;IAEA,wBAAwB;IACxB,gBAAgB,OAAO,gBAAwB;QAC7C,OAAO,sIAAS,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE,gBAAgB,EAAE;IAC3D;IAEA,wBAAwB;IACxB,YAAY,OAAO,QAAgB;QACjC,OAAO,sIAAS,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE,QAAQ,EAAE;IACnD;IAEA,iBAAiB;IACjB,aAAa,OAAO,SAAiB;QACnC,OAAO,sIAAS,CAAC,IAAI,CAAC,CAAC,eAAe,EAAE,SAAS,EAAE;IACrD;IAEA,yBAAyB;IACzB,cAAc,OAAO,OAAO,CAAC,EAAE,QAAQ,EAAE;QASvC,OAAO,sIAAS,CAAC,GAAG,CAAC,CAAC,yBAAyB,EAAE,KAAK,OAAO,EAAE,OAAO;IACxE;AACF"}},
    {"offset": {"line": 281, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/api/stories.ts"],"sourcesContent":["import apiClient from './client';\n\n// ============================================\n// Types\n// ============================================\n\nexport type StoryMediaType = 'IMAGE' | 'VIDEO' | 'TEXT';\nexport type StoryCategory = 'GENERAL' | 'DAY_AT_WORK' | 'LEARNING' | 'ACHIEVEMENT' | 'PROJECT' | 'EVENT' | 'BEHIND_SCENES' | 'TIPS' | 'QNA';\nexport type StoryVisibility = 'PUBLIC' | 'CONNECTIONS' | 'CLOSE_FRIENDS';\n\nexport interface StoryAuthor {\n  id: string;\n  name: string;\n  username: string;\n  profileImage: string | null;\n  headline?: string | null;\n  isVerified?: boolean;\n}\n\nexport interface Story {\n  id: string;\n  mediaUrl: string;\n  mediaType: StoryMediaType;\n  thumbnailUrl?: string | null;\n  duration: number;\n  category: StoryCategory;\n  backgroundColor?: string | null;\n  textContent?: string | null;\n  textPosition?: { x: number; y: number } | null;\n  textStyle?: { fontSize?: number; fontWeight?: string; color?: string } | null;\n  stickers?: any[] | null;\n  filters?: string | null;\n  musicUrl?: string | null;\n  musicTitle?: string | null;\n  musicArtist?: string | null;\n  linkUrl?: string | null;\n  linkTitle?: string | null;\n  visibility: StoryVisibility;\n  viewsCount: number;\n  reactionsCount: number;\n  repliesCount?: number;\n  isViewed: boolean;\n  userReaction?: string | null;\n  isOwn?: boolean;\n  expiresAt: string;\n  createdAt: string;\n}\n\nexport interface StoryGroup {\n  user: StoryAuthor;\n  stories: Story[];\n  hasUnviewed: boolean;\n  lastStoryAt: string;\n  isOwnStory: boolean;\n}\n\nexport interface StoryHighlight {\n  id: string;\n  title: string;\n  coverImage: string | null;\n  emoji?: string | null;\n  storiesCount: number;\n  isPublic: boolean;\n  createdAt: string;\n}\n\nexport interface StoryViewer {\n  id: string;\n  user: StoryAuthor;\n  viewedAt: string;\n  duration?: number | null;\n}\n\nexport interface StoryReply {\n  id: string;\n  content: string;\n  mediaUrl?: string | null;\n  author: StoryAuthor;\n  createdAt: string;\n}\n\n// ============================================\n// Story CRUD\n// ============================================\n\nexport interface CreateStoryInput {\n  mediaUrl?: string;\n  mediaType?: StoryMediaType;\n  thumbnailUrl?: string;\n  duration?: number;\n  category?: StoryCategory;\n  backgroundColor?: string;\n  textContent?: string;\n  textPosition?: { x: number; y: number };\n  textStyle?: { fontSize?: number; fontWeight?: string; color?: string };\n  stickers?: any[];\n  filters?: string;\n  musicUrl?: string;\n  musicTitle?: string;\n  musicArtist?: string;\n  linkUrl?: string;\n  linkTitle?: string;\n  visibility?: StoryVisibility;\n  mentions?: string[];\n}\n\nexport const createStory = async (data: CreateStoryInput): Promise<{ message: string; story: Story }> => {\n  // apiClient interceptor already returns response.data\n  return apiClient.post('/stories', data);\n};\n\n// Create story with file upload\nexport const createStoryWithMedia = async (formData: FormData): Promise<{ message: string; story: Story }> => {\n  // apiClient interceptor already returns response.data\n  return apiClient.post('/stories', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data',\n    },\n  });\n};\n\nexport const getStoriesFeed = async (): Promise<{ storyGroups: StoryGroup[] }> => {\n  try {\n    // apiClient interceptor already returns response.data, so this IS the data\n    const response = await apiClient.get('/stories/feed');\n    const data = response.data || response;\n    console.log('üìñ Stories API raw response:', data);\n    \n    // Ensure we always return the expected structure\n    if (data && Array.isArray(data.storyGroups)) {\n      return { storyGroups: data.storyGroups };\n    }\n    \n    // If response is already an array, wrap it\n    if (Array.isArray(data)) {\n      return { storyGroups: data };\n    }\n    \n    // Default empty array\n    return { storyGroups: [] };\n  } catch (error) {\n    console.error('üìñ Stories API error:', error);\n    throw error;\n  }\n};\n\nexport const getStory = async (storyId: string): Promise<{ story: Story & { isOwn: boolean } }> => {\n  return apiClient.get(`/stories/${storyId}`);\n};\n\nexport const getMyStories = async (includeExpired = false): Promise<{ stories: Story[] }> => {\n  return apiClient.get('/stories/me', {\n    params: { includeExpired },\n  });\n};\n\nexport const deleteStory = async (storyId: string): Promise<{ message: string }> => {\n  return apiClient.delete(`/stories/${storyId}`);\n};\n\nexport const getUserStories = async (userId: string): Promise<{\n  hasStories: boolean;\n  user?: StoryAuthor;\n  hasUnviewed?: boolean;\n  stories?: Story[];\n}> => {\n  return apiClient.get(`/stories/user/${userId}`);\n};\n\n// ============================================\n// Story Viewing\n// ============================================\n\nexport const viewStory = async (storyId: string, duration?: number): Promise<{ message: string; viewsCount: number }> => {\n  return apiClient.post(`/stories/${storyId}/view`, { duration });\n};\n\nexport const getStoryViewers = async (\n  storyId: string,\n  cursor?: string,\n  limit = 20\n): Promise<{\n  viewers: StoryViewer[];\n  nextCursor: string | null;\n  hasMore: boolean;\n}> => {\n  return apiClient.get(`/stories/${storyId}/viewers`, {\n    params: { cursor, limit },\n  });\n};\n\n// ============================================\n// Story Reactions\n// ============================================\n\nexport const reactToStory = async (\n  storyId: string,\n  reactionType: string\n): Promise<{ message: string; reactionType: string; reactionsCount: number }> => {\n  return apiClient.post(`/stories/${storyId}/react`, { reactionType });\n};\n\nexport const removeReaction = async (storyId: string): Promise<{ message: string; reactionsCount: number }> => {\n  return apiClient.delete(`/stories/${storyId}/react`);\n};\n\n// ============================================\n// Story Replies\n// ============================================\n\nexport const replyToStory = async (\n  storyId: string,\n  content: string,\n  mediaUrl?: string\n): Promise<{ message: string; reply: StoryReply }> => {\n  return apiClient.post(`/stories/${storyId}/reply`, { content, mediaUrl });\n};\n\nexport const getStoryReplies = async (storyId: string): Promise<{ replies: StoryReply[] }> => {\n  return apiClient.get(`/stories/${storyId}/replies`);\n};\n\n// ============================================\n// Highlights\n// ============================================\n\nexport interface CreateHighlightInput {\n  title: string;\n  coverImage?: string;\n  emoji?: string;\n  storyIds?: string[];\n}\n\nexport const createHighlight = async (data: CreateHighlightInput): Promise<{ message: string; highlight: StoryHighlight }> => {\n  return apiClient.post('/stories/highlights', data);\n};\n\nexport const getUserHighlights = async (userId: string): Promise<{ highlights: StoryHighlight[] }> => {\n  return apiClient.get(`/stories/highlights/user/${userId}`);\n};\n\nexport const getHighlightStories = async (highlightId: string): Promise<{\n  highlight: StoryHighlight & { user: StoryAuthor; stories: Story[] };\n}> => {\n  return apiClient.get(`/stories/highlights/${highlightId}`);\n};\n\nexport const updateHighlight = async (\n  highlightId: string,\n  data: Partial<CreateHighlightInput>\n): Promise<{ message: string; highlight: StoryHighlight }> => {\n  return apiClient.patch(`/stories/highlights/${highlightId}`, data);\n};\n\nexport const deleteHighlight = async (highlightId: string): Promise<{ message: string }> => {\n  return apiClient.delete(`/stories/highlights/${highlightId}`);\n};\n\nexport const addStoryToHighlight = async (highlightId: string, storyId: string): Promise<{ message: string }> => {\n  return apiClient.post(`/stories/highlights/${highlightId}/stories/${storyId}`);\n};\n\nexport const removeStoryFromHighlight = async (highlightId: string, storyId: string): Promise<{ message: string }> => {\n  return apiClient.delete(`/stories/highlights/${highlightId}/stories/${storyId}`);\n};\n\n// ============================================\n// Archive\n// ============================================\n\nexport const archiveStory = async (storyId: string): Promise<{ message: string }> => {\n  return apiClient.post(`/stories/${storyId}/archive`);\n};\n\nexport const getArchivedStories = async (): Promise<{ stories: Story[] }> => {\n  return apiClient.get('/stories/archive');\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/api/connections.ts"],"sourcesContent":["import apiClient from './client';\nimport type { PersonCard } from './people';\n\n// ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n// TYPES\n// ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\nexport type ConnectionStatus = 'none' | 'pending_sent' | 'pending_received' | 'connected' | 'blocked';\n\nexport interface Connection {\n  id: string;\n  status: 'PENDING' | 'ACCEPTED' | 'REJECTED' | 'BLOCKED';\n  message: string | null;\n  createdAt: string;\n  user: {\n    id: string;\n    username: string;\n    name: string;\n    profileImage: string | null;\n    headline: string | null;\n    college: string | null;\n  };\n}\n\nexport interface ConnectionsResponse {\n  connections: Connection[];\n  total: number;\n  page: number;\n  totalPages: number;\n  hasMore: boolean;\n}\n\nexport interface ConnectionStatusResponse {\n  status: ConnectionStatus;\n  connectionId?: string;\n  direction?: 'sent' | 'received';\n}\n\n// ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n// API FUNCTIONS\n// ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n/**\n * Send a connection request to another user\n */\nexport async function sendConnectionRequest(\n  receiverId: string,\n  message?: string\n): Promise<{ message: string; connection: Connection }> {\n  return apiClient.post('/connections/request', { receiverId, message });\n}\n\n/**\n * Accept a connection request\n */\nexport async function acceptConnectionRequest(\n  connectionId: string\n): Promise<{ message: string; connection: Connection }> {\n  return apiClient.post(`/connections/${connectionId}/accept`);\n}\n\n/**\n * Reject a connection request\n */\nexport async function rejectConnectionRequest(\n  connectionId: string\n): Promise<{ message: string }> {\n  return apiClient.post(`/connections/${connectionId}/reject`);\n}\n\n/**\n * Cancel a sent connection request\n */\nexport async function cancelConnectionRequest(\n  connectionId: string\n): Promise<{ message: string }> {\n  return apiClient.delete(`/connections/${connectionId}/cancel`);\n}\n\n/**\n * Remove an existing connection\n */\nexport async function removeConnection(\n  connectionId: string\n): Promise<{ message: string }> {\n  return apiClient.delete(`/connections/${connectionId}`);\n}\n\n/**\n * Get all connections for current user\n */\nexport async function getConnections(\n  page: number = 1,\n  limit: number = 20\n): Promise<ConnectionsResponse> {\n  return apiClient.get(`/connections?page=${page}&limit=${limit}`);\n}\n\n/**\n * Get all connections for a specific user\n */\nexport async function getUserConnections(\n  userId: string,\n  page: number = 1,\n  limit: number = 20\n): Promise<ConnectionsResponse> {\n  return apiClient.get(`/connections/user/${userId}?page=${page}&limit=${limit}`);\n}\n\n/**\n * Get pending connection requests (received)\n */\nexport async function getPendingRequests(\n  page: number = 1,\n  limit: number = 20\n): Promise<ConnectionsResponse> {\n  const response: any = await apiClient.get(`/connections/pending?page=${page}&limit=${limit}`);\n  // Backend returns 'requests', normalize to 'connections'\n  return {\n    connections: response.connections || response.requests || [],\n    total: response.total || 0,\n    page: response.page || page,\n    totalPages: response.totalPages || 1,\n    hasMore: response.hasMore || false,\n  };\n}\n\n/**\n * Get sent connection requests\n */\nexport async function getSentRequests(\n  page: number = 1,\n  limit: number = 20\n): Promise<ConnectionsResponse> {\n  const response: any = await apiClient.get(`/connections/sent?page=${page}&limit=${limit}`);\n  // Backend returns 'requests', normalize to 'connections'\n  return {\n    connections: response.connections || response.requests || [],\n    total: response.total || 0,\n    page: response.page || page,\n    totalPages: response.totalPages || 1,\n    hasMore: response.hasMore || false,\n  };\n}\n\n/**\n * Get connection status with a specific user\n */\nexport async function getConnectionStatus(\n  userId: string\n): Promise<ConnectionStatusResponse> {\n  return apiClient.get(`/connections/status/${userId}`);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;;AA6CO,eAAe,sBACpB,UAAkB,EAClB,OAAgB;IAEhB,OAAO,sIAAS,CAAC,IAAI,CAAC,wBAAwB;QAAE;QAAY;IAAQ;AACtE;AAKO,eAAe,wBACpB,YAAoB;IAEpB,OAAO,sIAAS,CAAC,IAAI,CAAC,CAAC,aAAa,EAAE,aAAa,OAAO,CAAC;AAC7D;AAKO,eAAe,wBACpB,YAAoB;IAEpB,OAAO,sIAAS,CAAC,IAAI,CAAC,CAAC,aAAa,EAAE,aAAa,OAAO,CAAC;AAC7D;AAKO,eAAe,wBACpB,YAAoB;IAEpB,OAAO,sIAAS,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE,aAAa,OAAO,CAAC;AAC/D;AAKO,eAAe,iBACpB,YAAoB;IAEpB,OAAO,sIAAS,CAAC,MAAM,CAAC,CAAC,aAAa,EAAE,cAAc;AACxD;AAKO,eAAe,eACpB,OAAe,CAAC,EAChB,QAAgB,EAAE;IAElB,OAAO,sIAAS,CAAC,GAAG,CAAC,CAAC,kBAAkB,EAAE,KAAK,OAAO,EAAE,OAAO;AACjE;AAKO,eAAe,mBACpB,MAAc,EACd,OAAe,CAAC,EAChB,QAAgB,EAAE;IAElB,OAAO,sIAAS,CAAC,GAAG,CAAC,CAAC,kBAAkB,EAAE,OAAO,MAAM,EAAE,KAAK,OAAO,EAAE,OAAO;AAChF;AAKO,eAAe,mBACpB,OAAe,CAAC,EAChB,QAAgB,EAAE;IAElB,MAAM,WAAgB,MAAM,sIAAS,CAAC,GAAG,CAAC,CAAC,0BAA0B,EAAE,KAAK,OAAO,EAAE,OAAO;IAC5F,yDAAyD;IACzD,OAAO;QACL,aAAa,SAAS,WAAW,IAAI,SAAS,QAAQ,IAAI,EAAE;QAC5D,OAAO,SAAS,KAAK,IAAI;QACzB,MAAM,SAAS,IAAI,IAAI;QACvB,YAAY,SAAS,UAAU,IAAI;QACnC,SAAS,SAAS,OAAO,IAAI;IAC/B;AACF;AAKO,eAAe,gBACpB,OAAe,CAAC,EAChB,QAAgB,EAAE;IAElB,MAAM,WAAgB,MAAM,sIAAS,CAAC,GAAG,CAAC,CAAC,uBAAuB,EAAE,KAAK,OAAO,EAAE,OAAO;IACzF,yDAAyD;IACzD,OAAO;QACL,aAAa,SAAS,WAAW,IAAI,SAAS,QAAQ,IAAI,EAAE;QAC5D,OAAO,SAAS,KAAK,IAAI;QACzB,MAAM,SAAS,IAAI,IAAI;QACvB,YAAY,SAAS,UAAU,IAAI;QACnC,SAAS,SAAS,OAAO,IAAI;IAC/B;AACF;AAKO,eAAe,oBACpB,MAAc;IAEd,OAAO,sIAAS,CAAC,GAAG,CAAC,CAAC,oBAAoB,EAAE,QAAQ;AACtD"}},
    {"offset": {"line": 522, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/hooks/useRewards.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { getStreaks, getWeeklyGoals, type StreakData, type WeeklyGoals } from '@/lib/api/engagement';\nimport { type RewardData } from '@/components/engagement/RewardPopup';\n\n/**\n * useRewards - Hook that checks for milestone achievements and queues reward popups\n * Mirrors Android's FeedRewardRepository logic\n */\n\nconst REWARDS_SHOWN_KEY = 'vormex_rewards_shown';\n\nfunction getShownRewards(): Set<string> {\n  try {\n    const stored = localStorage.getItem(REWARDS_SHOWN_KEY);\n    return stored ? new Set(JSON.parse(stored)) : new Set();\n  } catch {\n    return new Set();\n  }\n}\n\nfunction markRewardShown(id: string) {\n  try {\n    const shown = getShownRewards();\n    shown.add(id);\n    // Keep only last 100 to avoid localStorage bloat\n    const arr = Array.from(shown).slice(-100);\n    localStorage.setItem(REWARDS_SHOWN_KEY, JSON.stringify(arr));\n  } catch {\n    // localStorage not available\n  }\n}\n\nexport function useRewards(userId?: string) {\n  const [rewards, setRewards] = useState<RewardData[]>([]);\n\n  useEffect(() => {\n    if (!userId) return;\n\n    const checkMilestones = async () => {\n      const shown = getShownRewards();\n      const newRewards: RewardData[] = [];\n\n      try {\n        const [streakData, goalsData] = await Promise.all([\n          getStreaks().catch(() => null),\n          getWeeklyGoals().catch(() => null),\n        ]);\n\n        // Streak milestones (3, 5, 7, 10, 14, 21, 30, 50, 100 days)\n        if (streakData) {\n          const milestones = [3, 5, 7, 10, 14, 21, 30, 50, 100];\n          const streaks = [\n            { key: 'connection', value: streakData.connectionStreak, label: 'Networking' },\n            { key: 'login', value: streakData.loginStreak, label: 'Login' },\n            { key: 'posting', value: streakData.postingStreak, label: 'Posting' },\n            { key: 'messaging', value: streakData.messagingStreak, label: 'Messaging' },\n          ];\n\n          for (const s of streaks) {\n            for (const m of milestones) {\n              if (s.value === m) {\n                const id = `streak_${s.key}_${m}`;\n                if (!shown.has(id)) {\n                  newRewards.push({\n                    id,\n                    type: 'streak_milestone',\n                    title: `${m}-Day ${s.label} Streak! üî•`,\n                    message: `You've been consistent for ${m} days straight.`,\n                    value: `${m} days`,\n                    subtext: 'Keep it going!',\n                    showConfetti: m >= 7,\n                  });\n                }\n              }\n            }\n          }\n        }\n\n        // Weekly goals completed\n        if (goalsData?.isCompleted) {\n          const weekId = `weekly_goals_${new Date().toISOString().slice(0, 10)}`;\n          if (!shown.has(weekId)) {\n            newRewards.push({\n              id: weekId,\n              type: 'weekly_goal_complete',\n              title: 'Weekly Goals Complete! üéØ',\n              message: 'You crushed all your goals this week.',\n              subtext: 'New goals reset next Monday',\n              showConfetti: true,\n            });\n          }\n        }\n\n        // Limit to 2 popups per session\n        setRewards(newRewards.slice(0, 2));\n      } catch (error) {\n        console.error('Failed to check milestones:', error);\n      }\n    };\n\n    // Delay the check to not compete with feed loading\n    const timer = setTimeout(checkMilestones, 3000);\n    return () => clearTimeout(timer);\n  }, [userId]);\n\n  const dismissReward = useCallback((id: string) => {\n    markRewardShown(id);\n    setRewards(prev => prev.filter(r => r.id !== id));\n  }, []);\n\n  return { rewards, dismissReward };\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 659, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/app/page.tsx"],"sourcesContent":["'use client';\n\nimport { ProtectedRoute } from '@/components/auth/ProtectedRoute';\nimport { Feed } from '@/components/feed';\n\nexport default function Home() {\n  return (\n    <ProtectedRoute>\n      <div className=\"min-h-screen bg-gray-50 dark:bg-neutral-950\">\n        <Feed />\n      </div>\n    </ProtectedRoute>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAHA;;;;AAKe,SAAS;IACtB,qBACE,8OAAC,8JAAc;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,0IAAI;;;;;;;;;;;;;;;AAIb"}}]
}
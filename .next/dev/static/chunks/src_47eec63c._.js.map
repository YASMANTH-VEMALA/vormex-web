{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelPlayer.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useEffect, useState, useCallback } from 'react';\nimport Hls from 'hls.js';\nimport { Loader2, Volume2, VolumeX, Play, Pause } from 'lucide-react';\n\ninterface ReelPlayerProps {\n  hlsUrl: string | null;\n  mp4Url: string;\n  thumbnailUrl?: string | null;\n  isActive: boolean;\n  isMuted: boolean;\n  onProgress?: (progress: number, watchTimeMs: number) => void;\n  onComplete?: () => void;\n  onTap?: () => void;\n  onDoubleTap?: () => void;\n  onMuteToggle?: () => void;\n}\n\nexport function ReelPlayer({\n  hlsUrl,\n  mp4Url,\n  thumbnailUrl,\n  isActive,\n  isMuted,\n  onProgress,\n  onComplete,\n  onTap,\n  onDoubleTap,\n  onMuteToggle,\n}: ReelPlayerProps) {\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const hlsRef = useRef<Hls | null>(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [showControls, setShowControls] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [error, setError] = useState(false);\n  const lastTap = useRef(0);\n  const watchTimeRef = useRef(0);\n  const controlsTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    const initHls = () => {\n      if (hlsUrl && Hls.isSupported()) {\n        const hls = new Hls({\n          enableWorker: true,\n          lowLatencyMode: true,\n          backBufferLength: 90,\n          maxBufferLength: 30,\n          maxMaxBufferLength: 60,\n          startLevel: -1,\n          capLevelToPlayerSize: true,\n        });\n\n        hls.loadSource(hlsUrl);\n        hls.attachMedia(video);\n\n        hls.on(Hls.Events.MANIFEST_PARSED, () => {\n          setIsLoaded(true);\n          if (isActive) {\n            video.play().catch(() => {});\n          }\n        });\n\n        hls.on(Hls.Events.ERROR, (_, data) => {\n          if (data.fatal) {\n            console.error('HLS error:', data);\n            setError(true);\n            video.src = mp4Url;\n            video.load();\n          }\n        });\n\n        hlsRef.current = hls;\n      } else if (hlsUrl && video.canPlayType('application/vnd.apple.mpegurl')) {\n        video.src = hlsUrl;\n        video.addEventListener('loadedmetadata', () => {\n          setIsLoaded(true);\n          if (isActive) {\n            video.play().catch(() => {});\n          }\n        });\n      } else {\n        video.src = mp4Url;\n        video.addEventListener('loadedmetadata', () => {\n          setIsLoaded(true);\n          if (isActive) {\n            video.play().catch(() => {});\n          }\n        });\n      }\n    };\n\n    initHls();\n\n    return () => {\n      hlsRef.current?.destroy();\n      hlsRef.current = null;\n    };\n  }, [hlsUrl, mp4Url]);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video || !isLoaded) return;\n\n    if (isActive) {\n      video.play().then(() => setIsPlaying(true)).catch(() => {});\n    } else {\n      video.pause();\n      video.currentTime = 0;\n      setIsPlaying(false);\n    }\n  }, [isActive, isLoaded]);\n\n  useEffect(() => {\n    if (videoRef.current) {\n      videoRef.current.muted = isMuted;\n    }\n  }, [isMuted]);\n\n  useEffect(() => {\n    const video = videoRef.current;\n    if (!video) return;\n\n    const handleTimeUpdate = () => {\n      const currentProgress = video.duration > 0 ? video.currentTime / video.duration : 0;\n      watchTimeRef.current = video.currentTime * 1000;\n      setProgress(currentProgress);\n      onProgress?.(currentProgress, watchTimeRef.current);\n    };\n\n    const handleEnded = () => {\n      onComplete?.();\n      video.currentTime = 0;\n      video.play().catch(() => {});\n    };\n\n    const handlePlay = () => setIsPlaying(true);\n    const handlePause = () => setIsPlaying(false);\n\n    video.addEventListener('timeupdate', handleTimeUpdate);\n    video.addEventListener('ended', handleEnded);\n    video.addEventListener('play', handlePlay);\n    video.addEventListener('pause', handlePause);\n\n    return () => {\n      video.removeEventListener('timeupdate', handleTimeUpdate);\n      video.removeEventListener('ended', handleEnded);\n      video.removeEventListener('play', handlePlay);\n      video.removeEventListener('pause', handlePause);\n    };\n  }, [onProgress, onComplete]);\n\n  const handleTap = useCallback((e: React.MouseEvent | React.TouchEvent) => {\n    e.stopPropagation();\n    const now = Date.now();\n    \n    if (now - lastTap.current < 300) {\n      onDoubleTap?.();\n      lastTap.current = 0;\n    } else {\n      lastTap.current = now;\n      setTimeout(() => {\n        if (lastTap.current !== 0 && Date.now() - lastTap.current >= 300) {\n          onTap?.();\n          lastTap.current = 0;\n        }\n      }, 300);\n    }\n\n    setShowControls(true);\n    if (controlsTimeoutRef.current) {\n      clearTimeout(controlsTimeoutRef.current);\n    }\n    controlsTimeoutRef.current = setTimeout(() => {\n      setShowControls(false);\n    }, 2000);\n  }, [onTap, onDoubleTap]);\n\n  const togglePlayPause = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    const video = videoRef.current;\n    if (!video) return;\n\n    if (isPlaying) {\n      video.pause();\n    } else {\n      video.play().catch(() => {});\n    }\n  }, [isPlaying]);\n\n  const handleMuteClick = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    onMuteToggle?.();\n  }, [onMuteToggle]);\n\n  return (\n    <div\n      className=\"relative w-full h-full bg-black overflow-hidden\"\n      onClick={handleTap}\n    >\n      {!isLoaded && thumbnailUrl && (\n        <img\n          src={thumbnailUrl}\n          alt=\"\"\n          className=\"absolute inset-0 w-full h-full object-cover\"\n        />\n      )}\n\n      {!isLoaded && (\n        <div className=\"absolute inset-0 flex items-center justify-center bg-black/50\">\n          <Loader2 className=\"w-12 h-12 text-white animate-spin\" />\n        </div>\n      )}\n\n      <video\n        ref={videoRef}\n        className=\"w-full h-full object-cover\"\n        playsInline\n        loop\n        muted={isMuted}\n        poster={thumbnailUrl || undefined}\n        preload=\"metadata\"\n      />\n\n      <div className=\"absolute top-0 left-0 right-0 h-1 bg-white/20\">\n        <div\n          className=\"h-full bg-white transition-all duration-100\"\n          style={{ width: `${progress * 100}%` }}\n        />\n      </div>\n\n      {showControls && isLoaded && (\n        <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n          <button\n            onClick={togglePlayPause}\n            className=\"w-16 h-16 rounded-full bg-black/50 flex items-center justify-center pointer-events-auto transition-opacity\"\n          >\n            {isPlaying ? (\n              <Pause className=\"w-8 h-8 text-white\" fill=\"white\" />\n            ) : (\n              <Play className=\"w-8 h-8 text-white ml-1\" fill=\"white\" />\n            )}\n          </button>\n        </div>\n      )}\n\n      <button\n        onClick={handleMuteClick}\n        className=\"absolute top-4 right-4 w-10 h-10 rounded-full bg-black/50 flex items-center justify-center\"\n      >\n        {isMuted ? (\n          <VolumeX className=\"w-5 h-5 text-white\" />\n        ) : (\n          <Volume2 className=\"w-5 h-5 text-white\" />\n        )}\n      </button>\n\n      {error && (\n        <div className=\"absolute bottom-20 left-4 right-4 text-center text-white/70 text-sm\">\n          Video playback error. Using fallback quality.\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["c","_c","useRef","useEffect","useState","useCallback","Hls","Loader2","Volume2","VolumeX","Play","Pause","ReelPlayerProps","hlsUrl","mp4Url","thumbnailUrl","isActive","isMuted","onProgress","progress","watchTimeMs","onComplete","onTap","onDoubleTap","onMuteToggle","ReelPlayer","t0","$","$i","Symbol","for","videoRef","hlsRef","isLoaded","setIsLoaded","isPlaying","setIsPlaying","showControls","setShowControls","setProgress","error","setError","lastTap","watchTimeRef","controlsTimeoutRef","t1","ReelPlayer[useEffect()]","video","current","initHls","ReelPlayer[useEffect() > initHls]","isSupported","hls","enableWorker","lowLatencyMode","backBufferLength","maxBufferLength","maxMaxBufferLength","startLevel","capLevelToPlayerSize","loadSource","attachMedia","on","Events","MANIFEST_PARSED","ReelPlayer[useEffect() > initHls > hls.on()]","play","catch","_ReelPlayerUseEffectInitHlsHlsOnAnonymous","ERROR","_","data","fatal","console","src","load","canPlayType","addEventListener","ReelPlayer[useEffect() > initHls > video.addEventListener()]","_ReelPlayerUseEffectInitHlsVideoAddEventListenerAnonymous","_ReelPlayerUseEffectInitHlsVideoAddEventListenerAnonymous2","destroy","t2","t3","t4","video_0","then","ReelPlayer[useEffect() > (anonymous)()]","_ReelPlayerUseEffectAnonymous","pause","currentTime","t5","t6","muted","t7","t8","video_1","handleTimeUpdate","ReelPlayer[useEffect() > handleTimeUpdate]","currentProgress","duration","handleEnded","ReelPlayer[useEffect() > handleEnded]","_ReelPlayerUseEffectHandleEndedAnonymous","handlePlay","ReelPlayer[useEffect() > handlePlay]","handlePause","ReelPlayer[useEffect() > handlePause]","removeEventListener","t9","e","stopPropagation","now","Date","setTimeout","ReelPlayer[handleTap > setTimeout()]","clearTimeout","handleTap","t10","e_0","video_2","_ReelPlayerTogglePlayPauseAnonymous","togglePlayPause","t11","e_1","handleMuteClick","t12","t13","t14","undefined","t15","t16","t17","width","t18","t19","t20","t21","t22"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 551, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/api/reels.ts"],"sourcesContent":["import apiClient from './client';\n\nexport interface ReelAuthor {\n  id: string;\n  username: string;\n  name: string;\n  profileImage: string | null;\n  headline?: string | null;\n}\n\nexport interface ReelAudio {\n  id: string;\n  title: string;\n  artist: string | null;\n  albumArt: string | null;\n}\n\nexport interface Reel {\n  id: string;\n  author: ReelAuthor;\n  videoId: string;\n  videoUrl: string;\n  hlsUrl: string | null;\n  thumbnailUrl: string | null;\n  previewGifUrl: string | null;\n  title: string | null;\n  caption: string | null;\n  durationSeconds: number;\n  width: number;\n  height: number;\n  aspectRatio: string;\n  audio: ReelAudio | null;\n  hashtags: string[];\n  mentions: string[];\n  skills: string[];\n  topics: string[];\n  category: string | null;\n  locationName: string | null;\n  isResponse: boolean;\n  responseType: string | null;\n  originalReelId: string | null;\n  pollQuestion: string | null;\n  pollOptions: { id: number; text: string; votes: number }[] | null;\n  pollEndsAt: string | null;\n  userVotedOption: number | null;\n  quizQuestion: string | null;\n  quizOptions: { id: number; text: string }[] | null;\n  codeSnippet: string | null;\n  codeLanguage: string | null;\n  codeFileName: string | null;\n  repoUrl: string | null;\n  ctaType: string | null;\n  ctaText: string | null;\n  ctaUrl: string | null;\n  visibility: string;\n  allowComments: boolean;\n  allowDuets: boolean;\n  allowStitch: boolean;\n  allowDownload: boolean;\n  allowSharing: boolean;\n  status: string;\n  viewsCount: number;\n  likesCount: number;\n  commentsCount: number;\n  sharesCount: number;\n  savesCount: number;\n  isLiked: boolean;\n  isSaved: boolean;\n  publishedAt: string | null;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface ReelsFeedResponse {\n  reels: Reel[];\n  nextCursor: string | null;\n  hasMore: boolean;\n}\n\nexport interface ReelComment {\n  id: string;\n  reelId: string;\n  parentId: string | null;\n  author: ReelAuthor;\n  content: string;\n  mentions: string[];\n  likesCount: number;\n  repliesCount: number;\n  isLiked: boolean;\n  isPinned: boolean;\n  isAuthorHeart: boolean;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport interface CommentsResponse {\n  comments: ReelComment[];\n  nextCursor: string | null;\n  hasMore: boolean;\n}\n\nexport interface UploadUrlResponse {\n  videoId: string;\n  uploadUrl: string;\n  tusUrl: string;\n}\n\nexport interface PreloadDataResponse {\n  hlsUrl: string;\n  videoUrl: string;\n  thumbnailUrl: string;\n  durationSeconds: number;\n}\n\nexport const reelsApi = {\n  getFeed: (params?: { cursor?: string; limit?: number; mode?: 'foryou' | 'following' }) =>\n    apiClient.get<ReelsFeedResponse>('/reels/feed', { params }),\n\n  getFollowingFeed: (params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>('/reels/feed/following', { params }),\n\n  getTrending: (params?: { hours?: number; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>('/reels/trending', { params }),\n\n  getReel: (reelId: string) =>\n    apiClient.get<Reel>(`/reels/${reelId}`),\n\n  getPreloadData: (reelId: string) =>\n    apiClient.get<PreloadDataResponse>(`/reels/${reelId}/preload`),\n\n  getUploadUrl: () =>\n    apiClient.post<UploadUrlResponse>('/reels/upload-url'),\n\n  createReel: (data: FormData) =>\n    apiClient.post<Reel>('/reels', data),\n\n  onUploadComplete: (videoId: string, metadata: Record<string, unknown>) =>\n    apiClient.post<Reel>('/reels/upload-complete', { videoId, ...metadata }),\n\n  updateReel: (reelId: string, data: Partial<Reel>) =>\n    apiClient.put<Reel>(`/reels/${reelId}`, data),\n\n  deleteReel: (reelId: string) =>\n    apiClient.delete(`/reels/${reelId}`),\n\n  toggleLike: (reelId: string) =>\n    apiClient.post<{ liked: boolean; likesCount: number }>(`/reels/${reelId}/like`),\n\n  toggleSave: (reelId: string) =>\n    apiClient.post<{ saved: boolean; savesCount: number }>(`/reels/${reelId}/save`),\n\n  share: (reelId: string, data: { shareType: string; platform?: string; recipientId?: string }) =>\n    apiClient.post<{ success: boolean; sharesCount: number }>(`/reels/${reelId}/share`, data),\n\n  trackView: (reelId: string, data: { watchTimeMs: number; completed: boolean; source: string }) =>\n    apiClient.post(`/reels/${reelId}/view`, data),\n\n  getComments: (reelId: string, params?: { cursor?: string; limit?: number; parentId?: string }) =>\n    apiClient.get<CommentsResponse>(`/reels/${reelId}/comments`, { params }),\n\n  createComment: (reelId: string, data: { content: string; parentId?: string; mentions?: string[] }) =>\n    apiClient.post<ReelComment>(`/reels/${reelId}/comments`, data),\n\n  toggleCommentLike: (reelId: string, commentId: string) =>\n    apiClient.post<{ liked: boolean; likesCount: number }>(`/reels/${reelId}/comments/${commentId}/like`),\n\n  deleteComment: (reelId: string, commentId: string) =>\n    apiClient.delete(`/reels/${reelId}/comments/${commentId}`),\n\n  heartComment: (reelId: string, commentId: string) =>\n    apiClient.post<{ isAuthorHeart: boolean }>(`/reels/${reelId}/comments/${commentId}/heart`),\n\n  votePoll: (reelId: string, optionId: number) =>\n    apiClient.post<{ success: boolean; pollOptions: { id: number; text: string; votes: number }[]; userVotedOption: number }>(\n      `/reels/${reelId}/poll/vote`,\n      { optionId }\n    ),\n\n  answerQuiz: (reelId: string, optionId: number) =>\n    apiClient.post<{ correct: boolean; correctAnswer: number }>(`/reels/${reelId}/quiz/answer`, { optionId }),\n\n  getByHashtag: (hashtag: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse & { hashtag: string }>(`/reels/hashtag/${hashtag}`, { params }),\n\n  getByAudio: (audioId: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse & { audioId: string }>(`/reels/audio/${audioId}`, { params }),\n\n  getUserReels: (userId: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>(`/reels/user/${userId}`, { params }),\n\n  getUserLikedReels: (userId: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>(`/reels/user/${userId}/liked`, { params }),\n\n  getUserSavedReels: (userId: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>(`/reels/user/${userId}/saved`, { params }),\n\n  getResponses: (reelId: string, params?: { cursor?: string; limit?: number }) =>\n    apiClient.get<ReelsFeedResponse>(`/reels/${reelId}/responses`, { params }),\n\n  getCreatorAnalytics: (params?: { days?: number }) =>\n    apiClient.get('/reels/analytics/creator', { params }),\n\n  getReelAnalytics: (reelId: string) =>\n    apiClient.get(`/reels/analytics/reel/${reelId}`),\n\n  report: (reelId: string, data: { reason: string; description?: string }) =>\n    apiClient.post(`/reels/${reelId}/report`, data),\n};\n\nexport interface Audio {\n  id: string;\n  title: string;\n  artist: string | null;\n  albumName: string | null;\n  albumArt: string | null;\n  audioUrl: string;\n  durationMs: number;\n  genre: string | null;\n  mood: string | null;\n  tempo: number | null;\n  isRoyaltyFree: boolean;\n  source: string | null;\n  usageCount: number;\n  savesCount: number;\n  isSaved: boolean;\n  createdAt: string;\n}\n\nexport interface AudioResponse {\n  audio: Audio[];\n  nextCursor?: string | null;\n  hasMore?: boolean;\n}\n\nexport const audioApi = {\n  getTrending: (params?: { limit?: number }) =>\n    apiClient.get<AudioResponse>('/audio/trending', { params }),\n\n  search: (query: string, params?: { limit?: number; cursor?: string }) =>\n    apiClient.get<AudioResponse>('/audio/search', { params: { q: query, ...params } }),\n\n  getCategories: () =>\n    apiClient.get<{ categories: { name: string; count: number }[] }>('/audio/categories'),\n\n  getMoods: () =>\n    apiClient.get<{ moods: { name: string; count: number }[] }>('/audio/moods'),\n\n  getByGenre: (genre: string, params?: { limit?: number; cursor?: string }) =>\n    apiClient.get<AudioResponse & { genre: string }>(`/audio/genre/${genre}`, { params }),\n\n  getAudio: (audioId: string) =>\n    apiClient.get<Audio>(`/audio/${audioId}`),\n\n  getAudioReels: (audioId: string, params?: { limit?: number; cursor?: string }) =>\n    apiClient.get(`/audio/${audioId}/reels`, { params }),\n\n  toggleSave: (audioId: string) =>\n    apiClient.post<{ saved: boolean; savesCount: number }>(`/audio/${audioId}/save`),\n\n  getSaved: (params?: { limit?: number; cursor?: string }) =>\n    apiClient.get<AudioResponse>('/audio/saved', { params }),\n};\n"],"names":[],"mappings":";;;;;;AAAA;;AAkHO,MAAM,WAAW;IACtB,SAAS,CAAC,SACR,yIAAS,CAAC,GAAG,CAAoB,eAAe;YAAE;QAAO;IAE3D,kBAAkB,CAAC,SACjB,yIAAS,CAAC,GAAG,CAAoB,yBAAyB;YAAE;QAAO;IAErE,aAAa,CAAC,SACZ,yIAAS,CAAC,GAAG,CAAoB,mBAAmB;YAAE;QAAO;IAE/D,SAAS,CAAC,SACR,yIAAS,CAAC,GAAG,CAAO,CAAC,OAAO,EAAE,QAAQ;IAExC,gBAAgB,CAAC,SACf,yIAAS,CAAC,GAAG,CAAsB,CAAC,OAAO,EAAE,OAAO,QAAQ,CAAC;IAE/D,cAAc,IACZ,yIAAS,CAAC,IAAI,CAAoB;IAEpC,YAAY,CAAC,OACX,yIAAS,CAAC,IAAI,CAAO,UAAU;IAEjC,kBAAkB,CAAC,SAAiB,WAClC,yIAAS,CAAC,IAAI,CAAO,0BAA0B;YAAE;YAAS,GAAG,QAAQ;QAAC;IAExE,YAAY,CAAC,QAAgB,OAC3B,yIAAS,CAAC,GAAG,CAAO,CAAC,OAAO,EAAE,QAAQ,EAAE;IAE1C,YAAY,CAAC,SACX,yIAAS,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,QAAQ;IAErC,YAAY,CAAC,SACX,yIAAS,CAAC,IAAI,CAAyC,CAAC,OAAO,EAAE,OAAO,KAAK,CAAC;IAEhF,YAAY,CAAC,SACX,yIAAS,CAAC,IAAI,CAAyC,CAAC,OAAO,EAAE,OAAO,KAAK,CAAC;IAEhF,OAAO,CAAC,QAAgB,OACtB,yIAAS,CAAC,IAAI,CAA4C,CAAC,OAAO,EAAE,OAAO,MAAM,CAAC,EAAE;IAEtF,WAAW,CAAC,QAAgB,OAC1B,yIAAS,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,KAAK,CAAC,EAAE;IAE1C,aAAa,CAAC,QAAgB,SAC5B,yIAAS,CAAC,GAAG,CAAmB,CAAC,OAAO,EAAE,OAAO,SAAS,CAAC,EAAE;YAAE;QAAO;IAExE,eAAe,CAAC,QAAgB,OAC9B,yIAAS,CAAC,IAAI,CAAc,CAAC,OAAO,EAAE,OAAO,SAAS,CAAC,EAAE;IAE3D,mBAAmB,CAAC,QAAgB,YAClC,yIAAS,CAAC,IAAI,CAAyC,CAAC,OAAO,EAAE,OAAO,UAAU,EAAE,UAAU,KAAK,CAAC;IAEtG,eAAe,CAAC,QAAgB,YAC9B,yIAAS,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,OAAO,UAAU,EAAE,WAAW;IAE3D,cAAc,CAAC,QAAgB,YAC7B,yIAAS,CAAC,IAAI,CAA6B,CAAC,OAAO,EAAE,OAAO,UAAU,EAAE,UAAU,MAAM,CAAC;IAE3F,UAAU,CAAC,QAAgB,WACzB,yIAAS,CAAC,IAAI,CACZ,CAAC,OAAO,EAAE,OAAO,UAAU,CAAC,EAC5B;YAAE;QAAS;IAGf,YAAY,CAAC,QAAgB,WAC3B,yIAAS,CAAC,IAAI,CAA8C,CAAC,OAAO,EAAE,OAAO,YAAY,CAAC,EAAE;YAAE;QAAS;IAEzG,cAAc,CAAC,SAAiB,SAC9B,yIAAS,CAAC,GAAG,CAA0C,CAAC,eAAe,EAAE,SAAS,EAAE;YAAE;QAAO;IAE/F,YAAY,CAAC,SAAiB,SAC5B,yIAAS,CAAC,GAAG,CAA0C,CAAC,aAAa,EAAE,SAAS,EAAE;YAAE;QAAO;IAE7F,cAAc,CAAC,QAAgB,SAC7B,yIAAS,CAAC,GAAG,CAAoB,CAAC,YAAY,EAAE,QAAQ,EAAE;YAAE;QAAO;IAErE,mBAAmB,CAAC,QAAgB,SAClC,yIAAS,CAAC,GAAG,CAAoB,CAAC,YAAY,EAAE,OAAO,MAAM,CAAC,EAAE;YAAE;QAAO;IAE3E,mBAAmB,CAAC,QAAgB,SAClC,yIAAS,CAAC,GAAG,CAAoB,CAAC,YAAY,EAAE,OAAO,MAAM,CAAC,EAAE;YAAE;QAAO;IAE3E,cAAc,CAAC,QAAgB,SAC7B,yIAAS,CAAC,GAAG,CAAoB,CAAC,OAAO,EAAE,OAAO,UAAU,CAAC,EAAE;YAAE;QAAO;IAE1E,qBAAqB,CAAC,SACpB,yIAAS,CAAC,GAAG,CAAC,4BAA4B;YAAE;QAAO;IAErD,kBAAkB,CAAC,SACjB,yIAAS,CAAC,GAAG,CAAC,CAAC,sBAAsB,EAAE,QAAQ;IAEjD,QAAQ,CAAC,QAAgB,OACvB,yIAAS,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,OAAO,CAAC,EAAE;AAC9C;AA2BO,MAAM,WAAW;IACtB,aAAa,CAAC,SACZ,yIAAS,CAAC,GAAG,CAAgB,mBAAmB;YAAE;QAAO;IAE3D,QAAQ,CAAC,OAAe,SACtB,yIAAS,CAAC,GAAG,CAAgB,iBAAiB;YAAE,QAAQ;gBAAE,GAAG;gBAAO,GAAG,MAAM;YAAC;QAAE;IAElF,eAAe,IACb,yIAAS,CAAC,GAAG,CAAoD;IAEnE,UAAU,IACR,yIAAS,CAAC,GAAG,CAA+C;IAE9D,YAAY,CAAC,OAAe,SAC1B,yIAAS,CAAC,GAAG,CAAoC,CAAC,aAAa,EAAE,OAAO,EAAE;YAAE;QAAO;IAErF,UAAU,CAAC,UACT,yIAAS,CAAC,GAAG,CAAQ,CAAC,OAAO,EAAE,SAAS;IAE1C,eAAe,CAAC,SAAiB,SAC/B,yIAAS,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,QAAQ,MAAM,CAAC,EAAE;YAAE;QAAO;IAEpD,YAAY,CAAC,UACX,yIAAS,CAAC,IAAI,CAAyC,CAAC,OAAO,EAAE,QAAQ,KAAK,CAAC;IAEjF,UAAU,CAAC,SACT,yIAAS,CAAC,GAAG,CAAgB,gBAAgB;YAAE;QAAO;AAC1D"}},
    {"offset": {"line": 651, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelActions.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport { Heart, MessageCircle, Share2, Bookmark, MoreHorizontal } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { reelsApi, Reel } from '@/lib/api/reels';\n\ninterface ReelActionsProps {\n  reel: Reel;\n  onCommentClick: () => void;\n  onShareClick: () => void;\n  onLikeUpdate?: (liked: boolean, count: number) => void;\n  onSaveUpdate?: (saved: boolean, count: number) => void;\n}\n\nexport function ReelActions({\n  reel,\n  onCommentClick,\n  onShareClick,\n  onLikeUpdate,\n  onSaveUpdate,\n}: ReelActionsProps) {\n  const [isLiked, setIsLiked] = useState(reel.isLiked);\n  const [likesCount, setLikesCount] = useState(reel.likesCount);\n  const [isSaved, setIsSaved] = useState(reel.isSaved);\n  const [savesCount, setSavesCount] = useState(reel.savesCount);\n  const [isLikeAnimating, setIsLikeAnimating] = useState(false);\n\n  const handleLike = useCallback(async () => {\n    const newLiked = !isLiked;\n    const newCount = newLiked ? likesCount + 1 : likesCount - 1;\n    \n    setIsLiked(newLiked);\n    setLikesCount(newCount);\n    \n    if (newLiked) {\n      setIsLikeAnimating(true);\n      setTimeout(() => setIsLikeAnimating(false), 400);\n    }\n\n    try {\n      const response = await reelsApi.toggleLike(reel.id) as { liked: boolean; likesCount: number };\n      setIsLiked(response.liked);\n      setLikesCount(response.likesCount);\n      onLikeUpdate?.(response.liked, response.likesCount);\n    } catch (error) {\n      setIsLiked(!newLiked);\n      setLikesCount(likesCount);\n    }\n  }, [isLiked, likesCount, reel.id, onLikeUpdate]);\n\n  const handleSave = useCallback(async () => {\n    const newSaved = !isSaved;\n    const newCount = newSaved ? savesCount + 1 : savesCount - 1;\n    \n    setIsSaved(newSaved);\n    setSavesCount(newCount);\n\n    try {\n      const response = await reelsApi.toggleSave(reel.id) as { saved: boolean; savesCount: number };\n      setIsSaved(response.saved);\n      setSavesCount(response.savesCount);\n      onSaveUpdate?.(response.saved, response.savesCount);\n    } catch (error) {\n      setIsSaved(!newSaved);\n      setSavesCount(savesCount);\n    }\n  }, [isSaved, savesCount, reel.id, onSaveUpdate]);\n\n  const formatCount = (count: number): string => {\n    if (count >= 1000000) {\n      return `${(count / 1000000).toFixed(1)}M`;\n    }\n    if (count >= 1000) {\n      return `${(count / 1000).toFixed(1)}K`;\n    }\n    return count.toString();\n  };\n\n  return (\n    <div className=\"flex flex-col items-center gap-5\">\n      <button\n        onClick={handleLike}\n        className=\"flex flex-col items-center gap-1 group\"\n      >\n        <div className={cn(\n          \"w-12 h-12 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center transition-transform\",\n          isLikeAnimating && \"animate-bounce-once\"\n        )}>\n          <Heart\n            className={cn(\n              \"w-7 h-7 transition-all\",\n              isLiked ? \"text-red-500 fill-red-500 scale-110\" : \"text-white\"\n            )}\n          />\n        </div>\n        <span className=\"text-white text-xs font-medium\">\n          {formatCount(likesCount)}\n        </span>\n      </button>\n\n      <button\n        onClick={onCommentClick}\n        className=\"flex flex-col items-center gap-1 group\"\n      >\n        <div className=\"w-12 h-12 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center group-active:scale-95 transition-transform\">\n          <MessageCircle className=\"w-7 h-7 text-white\" />\n        </div>\n        <span className=\"text-white text-xs font-medium\">\n          {formatCount(reel.commentsCount)}\n        </span>\n      </button>\n\n      <button\n        onClick={onShareClick}\n        className=\"flex flex-col items-center gap-1 group\"\n      >\n        <div className=\"w-12 h-12 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center group-active:scale-95 transition-transform\">\n          <Share2 className=\"w-7 h-7 text-white\" />\n        </div>\n        <span className=\"text-white text-xs font-medium\">\n          {formatCount(reel.sharesCount)}\n        </span>\n      </button>\n\n      <button\n        onClick={handleSave}\n        className=\"flex flex-col items-center gap-1 group\"\n      >\n        <div className=\"w-12 h-12 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center group-active:scale-95 transition-transform\">\n          <Bookmark\n            className={cn(\n              \"w-7 h-7 transition-all\",\n              isSaved ? \"text-yellow-400 fill-yellow-400\" : \"text-white\"\n            )}\n          />\n        </div>\n        <span className=\"text-white text-xs font-medium\">\n          {formatCount(savesCount)}\n        </span>\n      </button>\n\n      {reel.audio && (\n        <button className=\"w-10 h-10 rounded-full overflow-hidden border-2 border-white animate-spin-slow\">\n          <img\n            src={reel.audio.albumArt || '/audio-placeholder.png'}\n            alt={reel.audio.title}\n            className=\"w-full h-full object-cover\"\n          />\n        </button>\n      )}\n\n      <button className=\"flex flex-col items-center gap-1 group\">\n        <div className=\"w-10 h-10 rounded-full bg-black/30 backdrop-blur-sm flex items-center justify-center group-active:scale-95 transition-transform\">\n          <MoreHorizontal className=\"w-5 h-5 text-white\" />\n        </div>\n      </button>\n    </div>\n  );\n}\n"],"names":["useState","useCallback","Heart","MessageCircle","Share2","Bookmark","MoreHorizontal","cn","reelsApi","Reel","ReelActionsProps","reel","onCommentClick","onShareClick","onLikeUpdate","liked","count","onSaveUpdate","saved","ReelActions","isLiked","setIsLiked","likesCount","setLikesCount","isSaved","setIsSaved","savesCount","setSavesCount","isLikeAnimating","setIsLikeAnimating","handleLike","newLiked","newCount","setTimeout","response","toggleLike","id","error","handleSave","newSaved","toggleSave","formatCount","toFixed","toString","commentsCount","sharesCount","audio","albumArt","title"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 923, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelInfo.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { Music, MapPin, ChevronDown, ChevronUp, Code, ExternalLink } from 'lucide-react';\nimport { Reel } from '@/lib/api/reels';\n\ninterface ReelInfoProps {\n  reel: Reel;\n  onAudioClick?: () => void;\n  onHashtagClick?: (hashtag: string) => void;\n}\n\nexport function ReelInfo({ reel, onAudioClick, onHashtagClick }: ReelInfoProps) {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const maxLength = 100;\n  const shouldTruncate = reel.caption && reel.caption.length > maxLength;\n\n  const displayCaption = shouldTruncate && !isExpanded\n    ? reel.caption?.slice(0, maxLength) + '...'\n    : reel.caption;\n\n  const renderHashtags = (text: string | null) => {\n    if (!text) return null;\n    \n    const parts = text.split(/(#\\w+)/g);\n    return parts.map((part, index) => {\n      if (part.startsWith('#')) {\n        const tag = part.slice(1);\n        return (\n          <button\n            key={index}\n            onClick={(e) => {\n              e.stopPropagation();\n              onHashtagClick?.(tag);\n            }}\n            className=\"text-white font-semibold hover:underline\"\n          >\n            {part}\n          </button>\n        );\n      }\n      return <span key={index}>{part}</span>;\n    });\n  };\n\n  const renderMentions = (text: string | null) => {\n    if (!text) return null;\n    \n    const parts = text.split(/(@\\w+)/g);\n    return parts.map((part, index) => {\n      if (part.startsWith('@')) {\n        const username = part.slice(1);\n        return (\n          <Link\n            key={index}\n            href={`/profile/${username}`}\n            onClick={(e) => e.stopPropagation()}\n            className=\"text-blue-400 font-semibold hover:underline\"\n          >\n            {part}\n          </Link>\n        );\n      }\n      return renderHashtags(part);\n    });\n  };\n\n  return (\n    <div className=\"flex flex-col gap-3 max-w-[calc(100%-80px)]\">\n      <Link\n        href={`/profile/${reel.author.id}`}\n        onClick={(e) => e.stopPropagation()}\n        className=\"flex items-center gap-3\"\n      >\n        <div className=\"w-10 h-10 rounded-full overflow-hidden border-2 border-white\">\n          <img\n            src={reel.author.profileImage || '/default-avatar.png'}\n            alt={reel.author.name}\n            className=\"w-full h-full object-cover\"\n          />\n        </div>\n        <div className=\"flex flex-col\">\n          <span className=\"text-white font-semibold text-sm\">\n            {reel.author.username}\n          </span>\n          {reel.author.headline && (\n            <span className=\"text-white/70 text-xs line-clamp-1\">\n              {reel.author.headline}\n            </span>\n          )}\n        </div>\n        <button\n          onClick={(e) => e.stopPropagation()}\n          className=\"ml-2 px-4 py-1 bg-white text-black text-xs font-semibold rounded-full hover:bg-white/90 transition-colors\"\n        >\n          Follow\n        </button>\n      </Link>\n\n      {reel.title && (\n        <h3 className=\"text-white font-semibold text-base\">\n          {reel.title}\n        </h3>\n      )}\n\n      {reel.caption && (\n        <div className=\"text-white text-sm leading-relaxed\">\n          {renderMentions(displayCaption)}\n          {shouldTruncate && (\n            <button\n              onClick={(e) => {\n                e.stopPropagation();\n                setIsExpanded(!isExpanded);\n              }}\n              className=\"ml-1 text-white/70 hover:text-white inline-flex items-center gap-0.5\"\n            >\n              {isExpanded ? (\n                <>less <ChevronUp className=\"w-3 h-3\" /></>\n              ) : (\n                <>more <ChevronDown className=\"w-3 h-3\" /></>\n              )}\n            </button>\n          )}\n        </div>\n      )}\n\n      {reel.hashtags && reel.hashtags.length > 0 && (\n        <div className=\"flex flex-wrap gap-2\">\n          {reel.hashtags.map((tag) => (\n            <button\n              key={tag}\n              onClick={(e) => {\n                e.stopPropagation();\n                onHashtagClick?.(tag);\n              }}\n              className=\"text-white/90 text-sm hover:text-white\"\n            >\n              #{tag}\n            </button>\n          ))}\n        </div>\n      )}\n\n      {reel.codeSnippet && (\n        <div className=\"flex items-center gap-2 text-white/80 text-sm\">\n          <Code className=\"w-4 h-4\" />\n          <span>{reel.codeLanguage || 'Code'}</span>\n          {reel.codeFileName && (\n            <span className=\"text-white/60\"> {reel.codeFileName}</span>\n          )}\n          {reel.repoUrl && (\n            <a\n              href={reel.repoUrl}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              onClick={(e) => e.stopPropagation()}\n              className=\"ml-1 hover:text-white\"\n            >\n              <ExternalLink className=\"w-3 h-3\" />\n            </a>\n          )}\n        </div>\n      )}\n\n      {reel.locationName && (\n        <div className=\"flex items-center gap-1 text-white/70 text-sm\">\n          <MapPin className=\"w-4 h-4\" />\n          <span>{reel.locationName}</span>\n        </div>\n      )}\n\n      {reel.audio && (\n        <button\n          onClick={(e) => {\n            e.stopPropagation();\n            onAudioClick?.();\n          }}\n          className=\"flex items-center gap-2 text-white/90 text-sm hover:text-white overflow-hidden\"\n        >\n          <div className=\"flex items-center gap-2 animate-marquee\">\n            <Music className=\"w-4 h-4 flex-shrink-0\" />\n            <span className=\"whitespace-nowrap\">\n              {reel.audio.title}\n              {reel.audio.artist && `  ${reel.audio.artist}`}\n            </span>\n          </div>\n        </button>\n      )}\n\n      {reel.ctaType && reel.ctaText && reel.ctaUrl && (\n        <a\n          href={reel.ctaUrl}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          onClick={(e) => e.stopPropagation()}\n          className=\"inline-flex items-center gap-2 px-4 py-2 bg-white text-black text-sm font-semibold rounded-full hover:bg-white/90 transition-colors w-fit\"\n        >\n          {reel.ctaText}\n          <ExternalLink className=\"w-4 h-4\" />\n        </a>\n      )}\n    </div>\n  );\n}\n"],"names":["c","_c","useState","Link","Music","MapPin","ChevronDown","ChevronUp","Code","ExternalLink","Reel","ReelInfoProps","reel","onAudioClick","onHashtagClick","hashtag","ReelInfo","t0","$","$i","Symbol","for","isExpanded","setIsExpanded","shouldTruncate","caption","length","t1","slice","displayCaption","t2","renderHashtags","text","parts","split","map","ReelInfo[renderHashtags > parts.map()]","part","index","startsWith","tag","e","stopPropagation","text_0","parts_0","ReelInfo[renderMentions > parts_0.map()]","part_0","index_0","username","_ReelInfoRenderMentionsParts_0MapLinkOnClick","renderMentions","t3","author","id","t4","profileImage","t5","name","t6","t7","headline","t8","t9","_ReelInfoButtonOnClick","t10","_ReelInfoLinkOnClick","t11","title","t12","e_3","t13","hashtags","tag_0","e_4","t14","codeFileName","codeLanguage","codeSnippet","repoUrl","_ReelInfoAOnClick","t15","locationName","t16","audio","e_6","artist","t17","ctaText","ctaType","ctaUrl","_ReelInfoAOnClick2","t18","e_7","e_5","e_2","e_1","e_0"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1485, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelComments.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback, useRef } from 'react';\nimport { X, Heart, Send, Loader2, ChevronDown, Pin } from 'lucide-react';\nimport Link from 'next/link';\nimport { cn } from '@/lib/utils';\nimport { reelsApi, ReelComment } from '@/lib/api/reels';\n\ninterface ReelCommentsProps {\n  reelId: string;\n  isOpen: boolean;\n  onClose: () => void;\n  authorId: string;\n}\n\nexport function ReelComments({ reelId, isOpen, onClose, authorId }: ReelCommentsProps) {\n  const [comments, setComments] = useState<ReelComment[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n  const [nextCursor, setNextCursor] = useState<string | null>(null);\n  const [newComment, setNewComment] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [replyTo, setReplyTo] = useState<ReelComment | null>(null);\n  const [expandedReplies, setExpandedReplies] = useState<Set<string>>(new Set());\n  const [repliesData, setRepliesData] = useState<Record<string, ReelComment[]>>({});\n  const inputRef = useRef<HTMLInputElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const fetchComments = useCallback(async (cursor?: string) => {\n    try {\n      setIsLoading(true);\n      const response = await reelsApi.getComments(reelId, { cursor, limit: 20 }) as {\n        comments: ReelComment[];\n        nextCursor: string | null;\n        hasMore: boolean;\n      };\n      \n      if (cursor) {\n        setComments((prev) => [...prev, ...response.comments]);\n      } else {\n        setComments(response.comments);\n      }\n      setNextCursor(response.nextCursor);\n      setHasMore(response.hasMore);\n    } catch (error) {\n      console.error('Failed to fetch comments:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [reelId]);\n\n  useEffect(() => {\n    if (isOpen) {\n      fetchComments();\n    }\n  }, [isOpen, fetchComments]);\n\n  const fetchReplies = useCallback(async (parentId: string) => {\n    try {\n      const response = await reelsApi.getComments(reelId, { parentId, limit: 10 }) as {\n        comments: ReelComment[];\n        nextCursor: string | null;\n        hasMore: boolean;\n      };\n      setRepliesData((prev) => ({\n        ...prev,\n        [parentId]: response.comments,\n      }));\n    } catch (error) {\n      console.error('Failed to fetch replies:', error);\n    }\n  }, [reelId]);\n\n  const handleSubmit = useCallback(async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!newComment.trim() || isSubmitting) return;\n\n    try {\n      setIsSubmitting(true);\n      const response = await reelsApi.createComment(reelId, {\n        content: newComment.trim(),\n        parentId: replyTo?.id,\n      }) as ReelComment;\n\n      if (replyTo) {\n        setRepliesData((prev) => ({\n          ...prev,\n          [replyTo.id]: [response, ...(prev[replyTo.id] || [])],\n        }));\n        setComments((prev) =>\n          prev.map((c) =>\n            c.id === replyTo.id\n              ? { ...c, repliesCount: c.repliesCount + 1 }\n              : c\n          )\n        );\n      } else {\n        setComments((prev) => [response, ...prev]);\n      }\n\n      setNewComment('');\n      setReplyTo(null);\n    } catch (error) {\n      console.error('Failed to create comment:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  }, [reelId, newComment, replyTo, isSubmitting]);\n\n  const handleLike = useCallback(async (commentId: string) => {\n    try {\n      const response = await reelsApi.toggleCommentLike(reelId, commentId) as {\n        liked: boolean;\n        likesCount: number;\n      };\n      \n      setComments((prev) =>\n        prev.map((c) =>\n          c.id === commentId\n            ? { ...c, isLiked: response.liked, likesCount: response.likesCount }\n            : c\n        )\n      );\n\n      Object.keys(repliesData).forEach((parentId) => {\n        setRepliesData((prev) => ({\n          ...prev,\n          [parentId]: prev[parentId].map((c) =>\n            c.id === commentId\n              ? { ...c, isLiked: response.liked, likesCount: response.likesCount }\n              : c\n          ),\n        }));\n      });\n    } catch (error) {\n      console.error('Failed to toggle like:', error);\n    }\n  }, [reelId, repliesData]);\n\n  const handleReply = useCallback((comment: ReelComment) => {\n    setReplyTo(comment);\n    inputRef.current?.focus();\n  }, []);\n\n  const toggleReplies = useCallback((commentId: string) => {\n    const newExpanded = new Set(expandedReplies);\n    if (newExpanded.has(commentId)) {\n      newExpanded.delete(commentId);\n    } else {\n      newExpanded.add(commentId);\n      if (!repliesData[commentId]) {\n        fetchReplies(commentId);\n      }\n    }\n    setExpandedReplies(newExpanded);\n  }, [expandedReplies, repliesData, fetchReplies]);\n\n  const formatTime = (dateString: string) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n    const minutes = Math.floor(diff / 60000);\n    const hours = Math.floor(diff / 3600000);\n    const days = Math.floor(diff / 86400000);\n\n    if (minutes < 1) return 'now';\n    if (minutes < 60) return `${minutes}m`;\n    if (hours < 24) return `${hours}h`;\n    if (days < 7) return `${days}d`;\n    return date.toLocaleDateString();\n  };\n\n  const renderComment = (comment: ReelComment, isReply = false) => (\n    <div key={comment.id} className={cn(\"flex gap-3\", isReply && \"ml-12\")}>\n      <Link href={`/profile/${comment.author.id}`}>\n        <img\n          src={comment.author.profileImage || '/default-avatar.png'}\n          alt={comment.author.name}\n          className=\"w-8 h-8 rounded-full flex-shrink-0\"\n        />\n      </Link>\n      \n      <div className=\"flex-1 min-w-0\">\n        <div className=\"flex items-center gap-2 flex-wrap\">\n          <Link\n            href={`/profile/${comment.author.id}`}\n            className=\"font-semibold text-sm hover:underline\"\n          >\n            {comment.author.username}\n          </Link>\n          {comment.author.id === authorId && (\n            <span className=\"text-xs bg-blue-500 text-white px-1.5 py-0.5 rounded\">\n              Creator\n            </span>\n          )}\n          {comment.isPinned && (\n            <Pin className=\"w-3 h-3 text-gray-400\" />\n          )}\n          <span className=\"text-gray-500 text-xs\">\n            {formatTime(comment.createdAt)}\n          </span>\n        </div>\n        \n        <p className=\"text-sm mt-1 break-words\">{comment.content}</p>\n        \n        <div className=\"flex items-center gap-4 mt-2\">\n          <button\n            onClick={() => handleLike(comment.id)}\n            className=\"flex items-center gap-1 text-xs text-gray-500 hover:text-gray-700\"\n          >\n            <Heart\n              className={cn(\n                \"w-4 h-4\",\n                comment.isLiked && \"fill-red-500 text-red-500\"\n              )}\n            />\n            {comment.likesCount > 0 && comment.likesCount}\n          </button>\n          \n          <button\n            onClick={() => handleReply(comment)}\n            className=\"text-xs text-gray-500 hover:text-gray-700\"\n          >\n            Reply\n          </button>\n          \n          {comment.isAuthorHeart && (\n            <span className=\"text-xs text-red-500 flex items-center gap-1\">\n              <Heart className=\"w-3 h-3 fill-red-500\" /> by creator\n            </span>\n          )}\n        </div>\n        \n        {!isReply && comment.repliesCount > 0 && (\n          <button\n            onClick={() => toggleReplies(comment.id)}\n            className=\"flex items-center gap-1 text-xs text-blue-500 mt-2 hover:underline\"\n          >\n            <ChevronDown\n              className={cn(\n                \"w-4 h-4 transition-transform\",\n                expandedReplies.has(comment.id) && \"rotate-180\"\n              )}\n            />\n            {expandedReplies.has(comment.id)\n              ? 'Hide replies'\n              : `View ${comment.repliesCount} ${comment.repliesCount === 1 ? 'reply' : 'replies'}`\n            }\n          </button>\n        )}\n        \n        {expandedReplies.has(comment.id) && repliesData[comment.id] && (\n          <div className=\"mt-3 space-y-4\">\n            {repliesData[comment.id].map((reply) => renderComment(reply, true))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-end justify-center\">\n      <div\n        className=\"absolute inset-0 bg-black/50\"\n        onClick={onClose}\n      />\n      \n      <div className=\"relative w-full max-w-lg h-[70vh] bg-white dark:bg-gray-900 rounded-t-3xl flex flex-col animate-slide-up\">\n        <div className=\"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700\">\n          <h2 className=\"text-lg font-semibold\">Comments</h2>\n          <button\n            onClick={onClose}\n            className=\"w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 flex items-center justify-center\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n        \n        <div\n          ref={containerRef}\n          className=\"flex-1 overflow-y-auto p-4 space-y-6\"\n        >\n          {isLoading && comments.length === 0 ? (\n            <div className=\"flex items-center justify-center h-32\">\n              <Loader2 className=\"w-8 h-8 animate-spin text-gray-400\" />\n            </div>\n          ) : comments.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center h-32 text-gray-500\">\n              <p>No comments yet</p>\n              <p className=\"text-sm\">Be the first to comment!</p>\n            </div>\n          ) : (\n            <>\n              {comments.map((comment) => renderComment(comment))}\n              \n              {hasMore && (\n                <button\n                  onClick={() => fetchComments(nextCursor || undefined)}\n                  disabled={isLoading}\n                  className=\"w-full py-2 text-sm text-blue-500 hover:underline disabled:opacity-50\"\n                >\n                  {isLoading ? (\n                    <Loader2 className=\"w-4 h-4 animate-spin mx-auto\" />\n                  ) : (\n                    'Load more comments'\n                  )}\n                </button>\n              )}\n            </>\n          )}\n        </div>\n        \n        <div className=\"border-t border-gray-200 dark:border-gray-700 p-4\">\n          {replyTo && (\n            <div className=\"flex items-center justify-between text-sm text-gray-500 mb-2 bg-gray-100 dark:bg-gray-800 p-2 rounded-lg\">\n              <span>Replying to @{replyTo.author.username}</span>\n              <button\n                onClick={() => setReplyTo(null)}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                <X className=\"w-4 h-4\" />\n              </button>\n            </div>\n          )}\n          \n          <form onSubmit={handleSubmit} className=\"flex items-center gap-3\">\n            <input\n              ref={inputRef}\n              type=\"text\"\n              value={newComment}\n              onChange={(e) => setNewComment(e.target.value)}\n              placeholder=\"Add a comment...\"\n              className=\"flex-1 bg-gray-100 dark:bg-gray-800 rounded-full px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-blue-500\"\n            />\n            <button\n              type=\"submit\"\n              disabled={!newComment.trim() || isSubmitting}\n              className=\"w-10 h-10 rounded-full bg-blue-500 text-white flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isSubmitting ? (\n                <Loader2 className=\"w-5 h-5 animate-spin\" />\n              ) : (\n                <Send className=\"w-5 h-5\" />\n              )}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["useState","useEffect","useCallback","useRef","X","Heart","Send","Loader2","ChevronDown","Pin","Link","cn","reelsApi","ReelComment","ReelCommentsProps","reelId","isOpen","onClose","authorId","ReelComments","comments","setComments","isLoading","setIsLoading","hasMore","setHasMore","nextCursor","setNextCursor","newComment","setNewComment","isSubmitting","setIsSubmitting","replyTo","setReplyTo","expandedReplies","setExpandedReplies","Set","repliesData","setRepliesData","Record","inputRef","HTMLInputElement","containerRef","HTMLDivElement","fetchComments","cursor","response","getComments","limit","prev","error","console","fetchReplies","parentId","handleSubmit","e","React","FormEvent","preventDefault","trim","createComment","content","id","map","c","repliesCount","handleLike","commentId","toggleCommentLike","liked","likesCount","isLiked","Object","keys","forEach","handleReply","comment","current","focus","toggleReplies","newExpanded","has","delete","add","formatTime","dateString","date","Date","now","diff","getTime","minutes","Math","floor","hours","days","toLocaleDateString","renderComment","isReply","author","profileImage","name","username","isPinned","createdAt","isAuthorHeart","reply","length","undefined","target","value"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2089, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelPoll.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport { cn } from '@/lib/utils';\nimport { reelsApi } from '@/lib/api/reels';\n\ninterface PollOption {\n  id: number;\n  text: string;\n  votes: number;\n}\n\ninterface ReelPollProps {\n  reelId: string;\n  question: string;\n  options: PollOption[];\n  userVotedOption: number | null;\n  endsAt: string | null;\n}\n\nexport function ReelPoll({\n  reelId,\n  question,\n  options: initialOptions,\n  userVotedOption: initialVote,\n  endsAt,\n}: ReelPollProps) {\n  const [options, setOptions] = useState(initialOptions);\n  const [votedOption, setVotedOption] = useState(initialVote);\n  const [isVoting, setIsVoting] = useState(false);\n\n  const totalVotes = options.reduce((sum, opt) => sum + opt.votes, 0);\n  const isEnded = endsAt ? new Date(endsAt) < new Date() : false;\n  const hasVoted = votedOption !== null;\n\n  const handleVote = useCallback(async (optionId: number) => {\n    if (hasVoted || isVoting || isEnded) return;\n\n    try {\n      setIsVoting(true);\n      const response = await reelsApi.votePoll(reelId, optionId) as {\n        success: boolean;\n        pollOptions: PollOption[];\n        userVotedOption: number;\n      };\n      \n      setOptions(response.pollOptions);\n      setVotedOption(response.userVotedOption);\n    } catch (error) {\n      console.error('Failed to vote:', error);\n    } finally {\n      setIsVoting(false);\n    }\n  }, [reelId, hasVoted, isVoting, isEnded]);\n\n  const getPercentage = (votes: number) => {\n    if (totalVotes === 0) return 0;\n    return Math.round((votes / totalVotes) * 100);\n  };\n\n  const formatTimeLeft = () => {\n    if (!endsAt) return null;\n    const end = new Date(endsAt);\n    const now = new Date();\n    const diff = end.getTime() - now.getTime();\n    \n    if (diff <= 0) return 'Ended';\n    \n    const hours = Math.floor(diff / 3600000);\n    const minutes = Math.floor((diff % 3600000) / 60000);\n    \n    if (hours > 24) {\n      return `${Math.floor(hours / 24)}d left`;\n    }\n    if (hours > 0) {\n      return `${hours}h ${minutes}m left`;\n    }\n    return `${minutes}m left`;\n  };\n\n  return (\n    <div className=\"bg-black/60 backdrop-blur-md rounded-2xl p-4 space-y-3\">\n      <h3 className=\"text-white font-semibold text-lg\">{question}</h3>\n      \n      <div className=\"space-y-2\">\n        {options.map((option) => {\n          const percentage = getPercentage(option.votes);\n          const isSelected = votedOption === option.id;\n          \n          return (\n            <button\n              key={option.id}\n              onClick={() => handleVote(option.id)}\n              disabled={hasVoted || isVoting || isEnded}\n              className={cn(\n                \"relative w-full p-3 rounded-xl text-left transition-all overflow-hidden\",\n                hasVoted || isEnded\n                  ? \"bg-white/10\"\n                  : \"bg-white/20 hover:bg-white/30 active:scale-[0.98]\",\n                isSelected && \"ring-2 ring-white\"\n              )}\n            >\n              {(hasVoted || isEnded) && (\n                <div\n                  className={cn(\n                    \"absolute inset-0 transition-all\",\n                    isSelected ? \"bg-blue-500/40\" : \"bg-white/10\"\n                  )}\n                  style={{ width: `${percentage}%` }}\n                />\n              )}\n              \n              <div className=\"relative flex items-center justify-between\">\n                <span className=\"text-white font-medium\">{option.text}</span>\n                {(hasVoted || isEnded) && (\n                  <span className=\"text-white/80 font-semibold\">\n                    {percentage}%\n                  </span>\n                )}\n              </div>\n            </button>\n          );\n        })}\n      </div>\n      \n      <div className=\"flex items-center justify-between text-white/60 text-sm\">\n        <span>{totalVotes} {totalVotes === 1 ? 'vote' : 'votes'}</span>\n        {endsAt && <span>{formatTimeLeft()}</span>}\n      </div>\n    </div>\n  );\n}\n"],"names":["useState","useCallback","cn","reelsApi","PollOption","id","text","votes","ReelPollProps","reelId","question","options","userVotedOption","endsAt","ReelPoll","initialOptions","initialVote","setOptions","votedOption","setVotedOption","isVoting","setIsVoting","totalVotes","reduce","sum","opt","isEnded","Date","hasVoted","handleVote","optionId","response","votePoll","success","pollOptions","error","console","getPercentage","Math","round","formatTimeLeft","end","now","diff","getTime","hours","floor","minutes","map","option","percentage","isSelected","width"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2267, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelQuiz.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport { Check, X } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { reelsApi } from '@/lib/api/reels';\n\ninterface QuizOption {\n  id: number;\n  text: string;\n}\n\ninterface ReelQuizProps {\n  reelId: string;\n  question: string;\n  options: QuizOption[];\n}\n\nexport function ReelQuiz({ reelId, question, options }: ReelQuizProps) {\n  const [selectedOption, setSelectedOption] = useState<number | null>(null);\n  const [correctAnswer, setCorrectAnswer] = useState<number | null>(null);\n  const [isAnswered, setIsAnswered] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleAnswer = useCallback(async (optionId: number) => {\n    if (isAnswered || isSubmitting) return;\n\n    try {\n      setIsSubmitting(true);\n      setSelectedOption(optionId);\n      \n      const response = await reelsApi.answerQuiz(reelId, optionId) as {\n        correct: boolean;\n        correctAnswer: number;\n      };\n      \n      setCorrectAnswer(response.correctAnswer);\n      setIsAnswered(true);\n    } catch (error) {\n      console.error('Failed to answer quiz:', error);\n      setSelectedOption(null);\n    } finally {\n      setIsSubmitting(false);\n    }\n  }, [reelId, isAnswered, isSubmitting]);\n\n  return (\n    <div className=\"bg-black/60 backdrop-blur-md rounded-2xl p-4 space-y-3\">\n      <h3 className=\"text-white font-semibold text-lg\">{question}</h3>\n      \n      <div className=\"space-y-2\">\n        {options.map((option) => {\n          const isSelected = selectedOption === option.id;\n          const isCorrect = correctAnswer === option.id;\n          const isWrong = isAnswered && isSelected && !isCorrect;\n          \n          return (\n            <button\n              key={option.id}\n              onClick={() => handleAnswer(option.id)}\n              disabled={isAnswered || isSubmitting}\n              className={cn(\n                \"relative w-full p-3 rounded-xl text-left transition-all\",\n                isAnswered\n                  ? isCorrect\n                    ? \"bg-green-500/40 ring-2 ring-green-500\"\n                    : isWrong\n                      ? \"bg-red-500/40 ring-2 ring-red-500\"\n                      : \"bg-white/10\"\n                  : \"bg-white/20 hover:bg-white/30 active:scale-[0.98]\",\n                isSubmitting && isSelected && \"animate-pulse\"\n              )}\n            >\n              <div className=\"flex items-center justify-between\">\n                <span className=\"text-white font-medium\">{option.text}</span>\n                {isAnswered && isCorrect && (\n                  <Check className=\"w-5 h-5 text-green-400\" />\n                )}\n                {isWrong && (\n                  <X className=\"w-5 h-5 text-red-400\" />\n                )}\n              </div>\n            </button>\n          );\n        })}\n      </div>\n      \n      {isAnswered && (\n        <div className={cn(\n          \"text-center py-2 rounded-lg font-medium\",\n          selectedOption === correctAnswer\n            ? \"bg-green-500/20 text-green-400\"\n            : \"bg-red-500/20 text-red-400\"\n        )}>\n          {selectedOption === correctAnswer ? 'Correct! ' : 'Wrong answer '}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["useState","useCallback","Check","X","cn","reelsApi","QuizOption","id","text","ReelQuizProps","reelId","question","options","ReelQuiz","selectedOption","setSelectedOption","correctAnswer","setCorrectAnswer","isAnswered","setIsAnswered","isSubmitting","setIsSubmitting","handleAnswer","optionId","response","answerQuiz","correct","error","console","map","option","isSelected","isCorrect","isWrong"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2400, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelCodeSnippet.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Copy, Check, FileCode } from 'lucide-react';\n\ninterface ReelCodeSnippetProps {\n  code: string;\n  language?: string | null;\n  fileName?: string | null;\n}\n\nexport function ReelCodeSnippet({ code, language, fileName }: ReelCodeSnippetProps) {\n  const [copied, setCopied] = useState(false);\n\n  const handleCopy = async (e: React.MouseEvent) => {\n    e.stopPropagation();\n    try {\n      await navigator.clipboard.writeText(code);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (error) {\n      console.error('Failed to copy:', error);\n    }\n  };\n\n  const getLanguageColor = (lang: string | null | undefined): string => {\n    const colors: Record<string, string> = {\n      javascript: 'text-yellow-400',\n      typescript: 'text-blue-400',\n      python: 'text-green-400',\n      java: 'text-red-400',\n      kotlin: 'text-purple-400',\n      swift: 'text-orange-400',\n      rust: 'text-orange-500',\n      go: 'text-cyan-400',\n      cpp: 'text-blue-500',\n      c: 'text-blue-600',\n      csharp: 'text-purple-500',\n      ruby: 'text-red-500',\n      php: 'text-indigo-400',\n      html: 'text-orange-400',\n      css: 'text-blue-400',\n      sql: 'text-yellow-500',\n      shell: 'text-green-500',\n      bash: 'text-green-500',\n    };\n    return lang ? colors[lang.toLowerCase()] || 'text-gray-400' : 'text-gray-400';\n  };\n\n  return (\n    <div className=\"bg-black/80 backdrop-blur-md rounded-xl overflow-hidden\">\n      <div className=\"flex items-center justify-between px-4 py-2 bg-white/5 border-b border-white/10\">\n        <div className=\"flex items-center gap-2\">\n          <FileCode className={`w-4 h-4 ${getLanguageColor(language)}`} />\n          {fileName && (\n            <span className=\"text-white/70 text-sm font-mono\">{fileName}</span>\n          )}\n          {language && !fileName && (\n            <span className=\"text-white/70 text-sm\">{language}</span>\n          )}\n        </div>\n        \n        <button\n          onClick={handleCopy}\n          className=\"flex items-center gap-1 text-white/60 hover:text-white text-sm transition-colors\"\n        >\n          {copied ? (\n            <>\n              <Check className=\"w-4 h-4\" />\n              Copied!\n            </>\n          ) : (\n            <>\n              <Copy className=\"w-4 h-4\" />\n              Copy\n            </>\n          )}\n        </button>\n      </div>\n      \n      <pre className=\"p-4 overflow-x-auto\">\n        <code className=\"text-sm font-mono text-white/90 whitespace-pre-wrap break-words\">\n          {code}\n        </code>\n      </pre>\n    </div>\n  );\n}\n"],"names":["c","_c","useState","Copy","Check","FileCode","ReelCodeSnippetProps","code","language","fileName","ReelCodeSnippet","t0","$","$i","Symbol","for","copied","setCopied","t1","e","stopPropagation","navigator","clipboard","writeText","setTimeout","ReelCodeSnippet[handleCopy > setTimeout()]","t2","error","console","handleCopy","getLanguageColor","_ReelCodeSnippetGetLanguageColor","t3","t4","t5","t6","t7","t8","t9","t10","t11","t12","lang","colors","javascript","typescript","python","java","kotlin","swift","rust","go","cpp","csharp","ruby","php","html","css","sql","shell","bash","toLowerCase"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2670, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelCard.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback, useRef, useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Heart } from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { ReelPlayer } from './ReelPlayer';\nimport { ReelActions } from './ReelActions';\nimport { ReelInfo } from './ReelInfo';\nimport { ReelComments } from './ReelComments';\nimport { ReelPoll } from './ReelPoll';\nimport { ReelQuiz } from './ReelQuiz';\nimport { ReelCodeSnippet } from './ReelCodeSnippet';\nimport { reelsApi, Reel } from '@/lib/api/reels';\n\ninterface ReelCardProps {\n  reel: Reel;\n  isActive: boolean;\n  isMuted: boolean;\n  onMuteToggle: () => void;\n}\n\nexport function ReelCard({ reel, isActive, isMuted, onMuteToggle }: ReelCardProps) {\n  const router = useRouter();\n  const [showComments, setShowComments] = useState(false);\n  const [showShare, setShowShare] = useState(false);\n  const [showHeart, setShowHeart] = useState(false);\n  const [localReel, setLocalReel] = useState(reel);\n  const viewTracked = useRef(false);\n  const watchStartTime = useRef<number | null>(null);\n\n  useEffect(() => {\n    setLocalReel(reel);\n  }, [reel]);\n\n  useEffect(() => {\n    if (isActive && !viewTracked.current) {\n      watchStartTime.current = Date.now();\n    } else if (!isActive && viewTracked.current) {\n      viewTracked.current = false;\n      watchStartTime.current = null;\n    }\n  }, [isActive]);\n\n  const handleProgress = useCallback((progress: number, watchTimeMs: number) => {\n    if (!viewTracked.current && watchTimeMs >= 3000) {\n      viewTracked.current = true;\n      reelsApi.trackView(reel.id, {\n        watchTimeMs,\n        completed: false,\n        source: 'feed',\n      }).catch(console.error);\n    }\n  }, [reel.id]);\n\n  const handleComplete = useCallback(() => {\n    if (watchStartTime.current) {\n      const totalWatchTime = Date.now() - watchStartTime.current;\n      reelsApi.trackView(reel.id, {\n        watchTimeMs: totalWatchTime,\n        completed: true,\n        source: 'feed',\n      }).catch(console.error);\n    }\n  }, [reel.id]);\n\n  const handleTap = useCallback(() => {\n  }, []);\n\n  const handleDoubleTap = useCallback(async () => {\n    if (!localReel.isLiked) {\n      setShowHeart(true);\n      setTimeout(() => setShowHeart(false), 800);\n\n      try {\n        const response = await reelsApi.toggleLike(reel.id) as { liked: boolean; likesCount: number };\n        setLocalReel((prev) => ({\n          ...prev,\n          isLiked: response.liked,\n          likesCount: response.likesCount,\n        }));\n      } catch (error) {\n        console.error('Failed to like:', error);\n      }\n    }\n  }, [reel.id, localReel.isLiked]);\n\n  const handleCommentClick = useCallback(() => {\n    setShowComments(true);\n  }, []);\n\n  const handleShareClick = useCallback(async () => {\n    const url = `${window.location.origin}/reels/${reel.id}`;\n    \n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: reel.title || 'Check out this reel',\n          text: reel.caption || '',\n          url,\n        });\n        reelsApi.share(reel.id, { shareType: 'external' }).catch(console.error);\n      } catch (error) {\n        if ((error as Error).name !== 'AbortError') {\n          await navigator.clipboard.writeText(url);\n          reelsApi.share(reel.id, { shareType: 'copy_link' }).catch(console.error);\n        }\n      }\n    } else {\n      await navigator.clipboard.writeText(url);\n      reelsApi.share(reel.id, { shareType: 'copy_link' }).catch(console.error);\n    }\n  }, [reel]);\n\n  const handleHashtagClick = useCallback((hashtag: string) => {\n    router.push(`/reels/hashtag/${hashtag}`);\n  }, [router]);\n\n  const handleAudioClick = useCallback(() => {\n    if (reel.audio) {\n      router.push(`/reels/audio/${reel.audio.id}`);\n    }\n  }, [router, reel.audio]);\n\n  const handleLikeUpdate = useCallback((liked: boolean, count: number) => {\n    setLocalReel((prev) => ({\n      ...prev,\n      isLiked: liked,\n      likesCount: count,\n    }));\n  }, []);\n\n  const handleSaveUpdate = useCallback((saved: boolean, count: number) => {\n    setLocalReel((prev) => ({\n      ...prev,\n      isSaved: saved,\n      savesCount: count,\n    }));\n  }, []);\n\n  return (\n    <div className=\"relative h-full w-full bg-black\">\n      <ReelPlayer\n        hlsUrl={reel.hlsUrl}\n        mp4Url={reel.videoUrl}\n        thumbnailUrl={reel.thumbnailUrl}\n        isActive={isActive}\n        isMuted={isMuted}\n        onProgress={handleProgress}\n        onComplete={handleComplete}\n        onTap={handleTap}\n        onDoubleTap={handleDoubleTap}\n        onMuteToggle={onMuteToggle}\n      />\n\n      {showHeart && (\n        <div className=\"absolute inset-0 flex items-center justify-center pointer-events-none\">\n          <Heart\n            className=\"w-24 h-24 text-red-500 fill-red-500 animate-heart-burst\"\n          />\n        </div>\n      )}\n\n      <div className=\"absolute bottom-0 left-0 right-0 p-4 pb-24 bg-gradient-to-t from-black/80 via-black/40 to-transparent\">\n        <div className=\"flex items-end justify-between gap-4\">\n          <ReelInfo\n            reel={localReel}\n            onHashtagClick={handleHashtagClick}\n            onAudioClick={handleAudioClick}\n          />\n\n          <ReelActions\n            reel={localReel}\n            onCommentClick={handleCommentClick}\n            onShareClick={handleShareClick}\n            onLikeUpdate={handleLikeUpdate}\n            onSaveUpdate={handleSaveUpdate}\n          />\n        </div>\n      </div>\n\n      {localReel.pollQuestion && localReel.pollOptions && (\n        <div className=\"absolute top-1/2 left-4 right-20 -translate-y-1/2\">\n          <ReelPoll\n            reelId={reel.id}\n            question={localReel.pollQuestion}\n            options={localReel.pollOptions}\n            userVotedOption={localReel.userVotedOption}\n            endsAt={localReel.pollEndsAt}\n          />\n        </div>\n      )}\n\n      {localReel.quizQuestion && localReel.quizOptions && (\n        <div className=\"absolute top-1/2 left-4 right-20 -translate-y-1/2\">\n          <ReelQuiz\n            reelId={reel.id}\n            question={localReel.quizQuestion}\n            options={localReel.quizOptions}\n          />\n        </div>\n      )}\n\n      {localReel.codeSnippet && (\n        <div className=\"absolute top-20 left-4 right-20 max-h-[40vh] overflow-auto\">\n          <ReelCodeSnippet\n            code={localReel.codeSnippet}\n            language={localReel.codeLanguage}\n            fileName={localReel.codeFileName}\n          />\n        </div>\n      )}\n\n      <ReelComments\n        reelId={reel.id}\n        isOpen={showComments}\n        onClose={() => setShowComments(false)}\n        authorId={reel.author.id}\n      />\n    </div>\n  );\n}\n"],"names":["useState","useCallback","useRef","useEffect","useRouter","Heart","cn","ReelPlayer","ReelActions","ReelInfo","ReelComments","ReelPoll","ReelQuiz","ReelCodeSnippet","reelsApi","Reel","ReelCardProps","reel","isActive","isMuted","onMuteToggle","ReelCard","router","showComments","setShowComments","showShare","setShowShare","showHeart","setShowHeart","localReel","setLocalReel","viewTracked","watchStartTime","current","Date","now","handleProgress","progress","watchTimeMs","trackView","id","completed","source","catch","console","error","handleComplete","totalWatchTime","handleTap","handleDoubleTap","isLiked","setTimeout","response","toggleLike","liked","likesCount","prev","handleCommentClick","handleShareClick","url","window","location","origin","navigator","share","title","text","caption","shareType","Error","name","clipboard","writeText","handleHashtagClick","hashtag","push","handleAudioClick","audio","handleLikeUpdate","count","handleSaveUpdate","saved","isSaved","savesCount","hlsUrl","videoUrl","thumbnailUrl","pollQuestion","pollOptions","userVotedOption","pollEndsAt","quizQuestion","quizOptions","codeSnippet","codeLanguage","codeFileName","author"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3010, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelsFeed.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useRef, useState, useCallback } from 'react';\nimport { useInfiniteQuery } from '@tanstack/react-query';\nimport { Loader2 } from 'lucide-react';\nimport { ReelCard } from './ReelCard';\nimport { reelsApi, Reel, ReelsFeedResponse } from '@/lib/api/reels';\n\ninterface ReelsFeedProps {\n  mode?: 'foryou' | 'following';\n  initialReels?: Reel[];\n}\n\nexport function ReelsFeed({ mode = 'foryou', initialReels }: ReelsFeedProps) {\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [isMuted, setIsMuted] = useState(true);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const observerRefs = useRef<Map<string, IntersectionObserver>>(new Map());\n\n  const {\n    data,\n    fetchNextPage,\n    hasNextPage,\n    isFetchingNextPage,\n    isLoading,\n    isError,\n  } = useInfiniteQuery({\n    queryKey: ['reels-feed', mode],\n    queryFn: async ({ pageParam }) => {\n      const response = await reelsApi.getFeed({ cursor: pageParam, limit: 10, mode });\n      return response as ReelsFeedResponse;\n    },\n    getNextPageParam: (lastPage) => lastPage.nextCursor,\n    initialPageParam: undefined as string | undefined,\n    staleTime: 1000 * 60 * 5,\n    initialData: initialReels\n      ? {\n          pages: [{ reels: initialReels, nextCursor: null, hasMore: false }],\n          pageParams: [undefined],\n        }\n      : undefined,\n  });\n\n  const reels = data?.pages.flatMap((p) => p.reels) ?? [];\n\n  useEffect(() => {\n    const preloadReels = reels.slice(activeIndex + 1, activeIndex + 4);\n    preloadReels.forEach((reel) => {\n      if (reel.hlsUrl) {\n        fetch(reel.hlsUrl).catch(() => {});\n      }\n      if (reel.thumbnailUrl) {\n        const img = new Image();\n        img.src = reel.thumbnailUrl;\n      }\n    });\n  }, [activeIndex, reels]);\n\n  const handleScroll = useCallback(() => {\n    const container = containerRef.current;\n    if (!container) return;\n\n    const scrollTop = container.scrollTop;\n    const itemHeight = container.clientHeight;\n    const newIndex = Math.round(scrollTop / itemHeight);\n\n    if (newIndex !== activeIndex) {\n      setActiveIndex(newIndex);\n\n      if (newIndex >= reels.length - 3 && hasNextPage && !isFetchingNextPage) {\n        fetchNextPage();\n      }\n    }\n  }, [activeIndex, reels.length, hasNextPage, isFetchingNextPage, fetchNextPage]);\n\n  useEffect(() => {\n    const container = containerRef.current;\n    if (!container) return;\n\n    container.addEventListener('scroll', handleScroll, { passive: true });\n    return () => container.removeEventListener('scroll', handleScroll);\n  }, [handleScroll]);\n\n  const handleFirstInteraction = useCallback(() => {\n    if (isMuted) {\n      setIsMuted(false);\n    }\n  }, [isMuted]);\n\n  const handleMuteToggle = useCallback(() => {\n    setIsMuted((prev) => !prev);\n  }, []);\n\n  if (isLoading) {\n    return (\n      <div className=\"h-screen w-full flex items-center justify-center bg-black\">\n        <Loader2 className=\"w-12 h-12 text-white animate-spin\" />\n      </div>\n    );\n  }\n\n  if (isError) {\n    return (\n      <div className=\"h-screen w-full flex flex-col items-center justify-center bg-black text-white gap-4\">\n        <p>Failed to load reels</p>\n        <button\n          onClick={() => window.location.reload()}\n          className=\"px-4 py-2 bg-white text-black rounded-full font-medium\"\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  if (reels.length === 0) {\n    return (\n      <div className=\"h-screen w-full flex flex-col items-center justify-center bg-black text-white gap-4\">\n        <p className=\"text-xl\">No reels yet</p>\n        <p className=\"text-gray-400\">Be the first to create one!</p>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      ref={containerRef}\n      className=\"h-screen w-full snap-y snap-mandatory overflow-y-scroll scrollbar-hide\"\n      onClick={handleFirstInteraction}\n    >\n      {reels.map((reel, index) => (\n        <div\n          key={reel.id}\n          className=\"h-screen w-full snap-start snap-always\"\n        >\n          <ReelCard\n            reel={reel}\n            isActive={index === activeIndex}\n            isMuted={isMuted}\n            onMuteToggle={handleMuteToggle}\n          />\n        </div>\n      ))}\n\n      {isFetchingNextPage && (\n        <div className=\"h-screen w-full flex items-center justify-center bg-black\">\n          <Loader2 className=\"w-12 h-12 text-white animate-spin\" />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["c","_c","useEffect","useRef","useState","useCallback","useInfiniteQuery","Loader2","ReelCard","reelsApi","Reel","ReelsFeedResponse","ReelsFeedProps","mode","initialReels","ReelsFeed","t0","$","$i","Symbol","for","t1","undefined","activeIndex","setActiveIndex","isMuted","setIsMuted","containerRef","t2","Map","t3","t4","t5","pageParam","response","getFeed","cursor","limit","pages","reels","nextCursor","hasMore","pageParams","t6","queryKey","queryFn","getNextPageParam","_temp","initialPageParam","staleTime","initialData","data","fetchNextPage","hasNextPage","isFetchingNextPage","isLoading","isError","t7","flatMap","_ReelsFeedAnonymous","t8","t9","ReelsFeed[useEffect()]","preloadReels","slice","forEach","_ReelsFeedUseEffectPreloadReelsForEach","t10","length","ReelsFeed[handleScroll]","container","current","scrollTop","itemHeight","clientHeight","newIndex","Math","round","handleScroll","t11","t12","container_0","addEventListener","passive","removeEventListener","t13","ReelsFeed[handleFirstInteraction]","handleFirstInteraction","t14","ReelsFeed[handleMuteToggle]","_ReelsFeedHandleMuteToggleSetIsMuted","handleMuteToggle","t15","_ReelsFeedButtonOnClick","t16","ReelsFeed[reels.map()]","reel_0","index","reel","id","map","t17","window","location","reload","prev","hlsUrl","fetch","catch","_ReelsFeedUseEffectPreloadReelsForEachAnonymous","thumbnailUrl","img","Image","src","p","lastPage"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3439, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/ReelCreate.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useCallback } from 'react';\nimport { useRouter } from 'next/navigation';\nimport {\n  Upload,\n  X,\n  Loader2,\n  Hash,\n  Music,\n  MapPin,\n  Code,\n  Eye,\n  MessageCircle,\n  Users,\n  Download,\n  Share2,\n  ChevronDown,\n} from 'lucide-react';\nimport { cn } from '@/lib/utils';\nimport { reelsApi } from '@/lib/api/reels';\n\ninterface ReelCreateProps {\n  onClose?: () => void;\n}\n\nexport function ReelCreate({ onClose }: ReelCreateProps) {\n  const router = useRouter();\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [videoPreviewUrl, setVideoPreviewUrl] = useState<string | null>(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState<string | null>(null);\n\n  const [title, setTitle] = useState('');\n  const [caption, setCaption] = useState('');\n  const [hashtags, setHashtags] = useState<string[]>([]);\n  const [hashtagInput, setHashtagInput] = useState('');\n  const [visibility, setVisibility] = useState<'public' | 'connections' | 'private'>('public');\n  const [allowComments, setAllowComments] = useState(true);\n  const [allowDuets, setAllowDuets] = useState(true);\n  const [allowStitch, setAllowStitch] = useState(true);\n  const [allowDownload, setAllowDownload] = useState(true);\n  const [allowSharing, setAllowSharing] = useState(true);\n\n  const [codeSnippet, setCodeSnippet] = useState('');\n  const [codeLanguage, setCodeLanguage] = useState('');\n  const [codeFileName, setCodeFileName] = useState('');\n  const [repoUrl, setRepoUrl] = useState('');\n  const [showCodeSection, setShowCodeSection] = useState(false);\n  const [showAdvanced, setShowAdvanced] = useState(false);\n\n  const handleFileSelect = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    if (!file.type.startsWith('video/')) {\n      setError('Please select a video file');\n      return;\n    }\n\n    if (file.size > 150 * 1024 * 1024) {\n      setError('Video must be less than 150MB');\n      return;\n    }\n\n    setSelectedFile(file);\n    setVideoPreviewUrl(URL.createObjectURL(file));\n    setError(null);\n  }, []);\n\n  const handleAddHashtag = useCallback((e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter' || e.key === ',') {\n      e.preventDefault();\n      const tag = hashtagInput.trim().replace(/^#/, '');\n      if (tag && !hashtags.includes(tag) && hashtags.length < 10) {\n        setHashtags([...hashtags, tag]);\n        setHashtagInput('');\n      }\n    }\n  }, [hashtagInput, hashtags]);\n\n  const handleRemoveHashtag = useCallback((tag: string) => {\n    setHashtags(hashtags.filter((t) => t !== tag));\n  }, [hashtags]);\n\n  const handleUpload = useCallback(async () => {\n    if (!selectedFile) return;\n\n    try {\n      setIsUploading(true);\n      setUploadProgress(10);\n\n      const formData = new FormData();\n      formData.append('video', selectedFile);\n      formData.append('title', title);\n      formData.append('caption', caption);\n      formData.append('hashtags', JSON.stringify(hashtags));\n      formData.append('visibility', visibility);\n      formData.append('allowComments', String(allowComments));\n      formData.append('allowDuets', String(allowDuets));\n      formData.append('allowStitch', String(allowStitch));\n      formData.append('allowDownload', String(allowDownload));\n      formData.append('allowSharing', String(allowSharing));\n\n      if (codeSnippet) {\n        formData.append('codeSnippet', codeSnippet);\n        formData.append('codeLanguage', codeLanguage);\n        formData.append('codeFileName', codeFileName);\n        formData.append('repoUrl', repoUrl);\n      }\n\n      setUploadProgress(30);\n\n      const reel = await reelsApi.createReel(formData);\n      \n      setUploadProgress(100);\n\n      router.push(`/reels/${(reel as { id: string }).id}`);\n    } catch (err) {\n      console.error('Upload failed:', err);\n      setError('Failed to upload video. Please try again.');\n    } finally {\n      setIsUploading(false);\n    }\n  }, [\n    selectedFile,\n    title,\n    caption,\n    hashtags,\n    visibility,\n    allowComments,\n    allowDuets,\n    allowStitch,\n    allowDownload,\n    allowSharing,\n    codeSnippet,\n    codeLanguage,\n    codeFileName,\n    repoUrl,\n    router,\n  ]);\n\n  const handleClose = useCallback(() => {\n    if (videoPreviewUrl) {\n      URL.revokeObjectURL(videoPreviewUrl);\n    }\n    onClose?.();\n  }, [videoPreviewUrl, onClose]);\n\n  return (\n    <div className=\"min-h-screen bg-white dark:bg-gray-900\">\n      <div className=\"max-w-2xl mx-auto p-4\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h1 className=\"text-2xl font-bold\">Create Reel</h1>\n          {onClose && (\n            <button\n              onClick={handleClose}\n              className=\"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full\"\n            >\n              <X className=\"w-6 h-6\" />\n            </button>\n          )}\n        </div>\n\n        {!selectedFile ? (\n          <div\n            onClick={() => fileInputRef.current?.click()}\n            className=\"border-2 border-dashed border-gray-300 dark:border-gray-700 rounded-2xl p-12 text-center cursor-pointer hover:border-blue-500 transition-colors\"\n          >\n            <Upload className=\"w-16 h-16 mx-auto text-gray-400 mb-4\" />\n            <p className=\"text-lg font-medium mb-2\">Upload a video</p>\n            <p className=\"text-gray-500 text-sm mb-4\">\n              MP4, WebM, or MOV. Max 150MB. Recommended 9:16 aspect ratio.\n            </p>\n            <button className=\"px-6 py-2 bg-blue-500 text-white rounded-full font-medium hover:bg-blue-600 transition-colors\">\n              Select file\n            </button>\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              accept=\"video/*\"\n              onChange={handleFileSelect}\n              className=\"hidden\"\n            />\n          </div>\n        ) : (\n          <div className=\"space-y-6\">\n            <div className=\"flex gap-6\">\n              <div className=\"w-48 flex-shrink-0\">\n                <div className=\"aspect-[9/16] bg-black rounded-xl overflow-hidden relative\">\n                  <video\n                    src={videoPreviewUrl || undefined}\n                    className=\"w-full h-full object-cover\"\n                    controls\n                    muted\n                  />\n                  <button\n                    onClick={() => {\n                      setSelectedFile(null);\n                      if (videoPreviewUrl) {\n                        URL.revokeObjectURL(videoPreviewUrl);\n                        setVideoPreviewUrl(null);\n                      }\n                    }}\n                    className=\"absolute top-2 right-2 p-1 bg-black/50 rounded-full\"\n                  >\n                    <X className=\"w-4 h-4 text-white\" />\n                  </button>\n                </div>\n              </div>\n\n              <div className=\"flex-1 space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Title (optional)</label>\n                  <input\n                    type=\"text\"\n                    value={title}\n                    onChange={(e) => setTitle(e.target.value)}\n                    placeholder=\"Add a title...\"\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Caption</label>\n                  <textarea\n                    value={caption}\n                    onChange={(e) => setCaption(e.target.value)}\n                    placeholder=\"Write a caption... Use @mentions and #hashtags\"\n                    rows={3}\n                    maxLength={2200}\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none resize-none\"\n                  />\n                  <p className=\"text-right text-sm text-gray-500 mt-1\">\n                    {caption.length}/2200\n                  </p>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">\n                    <Hash className=\"w-4 h-4 inline mr-1\" />\n                    Hashtags\n                  </label>\n                  <div className=\"flex flex-wrap gap-2 mb-2\">\n                    {hashtags.map((tag) => (\n                      <span\n                        key={tag}\n                        className=\"px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400 rounded-full text-sm flex items-center gap-1\"\n                      >\n                        #{tag}\n                        <button onClick={() => handleRemoveHashtag(tag)}>\n                          <X className=\"w-3 h-3\" />\n                        </button>\n                      </span>\n                    ))}\n                  </div>\n                  <input\n                    type=\"text\"\n                    value={hashtagInput}\n                    onChange={(e) => setHashtagInput(e.target.value)}\n                    onKeyDown={handleAddHashtag}\n                    placeholder=\"Add hashtags (press Enter)\"\n                    disabled={hashtags.length >= 10}\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">\n                    <Eye className=\"w-4 h-4 inline mr-1\" />\n                    Visibility\n                  </label>\n                  <select\n                    value={visibility}\n                    onChange={(e) => setVisibility(e.target.value as typeof visibility)}\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                  >\n                    <option value=\"public\">Public - Anyone can view</option>\n                    <option value=\"connections\">Connections - Only connections can view</option>\n                    <option value=\"private\">Private - Only you can view</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            <button\n              onClick={() => setShowCodeSection(!showCodeSection)}\n              className=\"flex items-center gap-2 text-sm text-blue-500 hover:text-blue-600\"\n            >\n              <Code className=\"w-4 h-4\" />\n              {showCodeSection ? 'Hide code snippet' : 'Add code snippet (for dev reels)'}\n              <ChevronDown className={cn(\"w-4 h-4 transition-transform\", showCodeSection && \"rotate-180\")} />\n            </button>\n\n            {showCodeSection && (\n              <div className=\"space-y-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Code</label>\n                  <textarea\n                    value={codeSnippet}\n                    onChange={(e) => setCodeSnippet(e.target.value)}\n                    placeholder=\"Paste your code here...\"\n                    rows={6}\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-900 font-mono text-sm focus:ring-2 focus:ring-blue-500 outline-none resize-none\"\n                  />\n                </div>\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">Language</label>\n                    <input\n                      type=\"text\"\n                      value={codeLanguage}\n                      onChange={(e) => setCodeLanguage(e.target.value)}\n                      placeholder=\"e.g., JavaScript\"\n                      className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium mb-1\">File name</label>\n                    <input\n                      type=\"text\"\n                      value={codeFileName}\n                      onChange={(e) => setCodeFileName(e.target.value)}\n                      placeholder=\"e.g., app.js\"\n                      className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                    />\n                  </div>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-1\">Repository URL (optional)</label>\n                  <input\n                    type=\"url\"\n                    value={repoUrl}\n                    onChange={(e) => setRepoUrl(e.target.value)}\n                    placeholder=\"https://github.com/...\"\n                    className=\"w-full px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg bg-transparent focus:ring-2 focus:ring-blue-500 outline-none\"\n                  />\n                </div>\n              </div>\n            )}\n\n            <button\n              onClick={() => setShowAdvanced(!showAdvanced)}\n              className=\"flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700\"\n            >\n              Advanced settings\n              <ChevronDown className={cn(\"w-4 h-4 transition-transform\", showAdvanced && \"rotate-180\")} />\n            </button>\n\n            {showAdvanced && (\n              <div className=\"space-y-3 p-4 bg-gray-50 dark:bg-gray-800 rounded-xl\">\n                <label className=\"flex items-center justify-between cursor-pointer\">\n                  <span className=\"flex items-center gap-2\">\n                    <MessageCircle className=\"w-4 h-4\" />\n                    Allow comments\n                  </span>\n                  <input\n                    type=\"checkbox\"\n                    checked={allowComments}\n                    onChange={(e) => setAllowComments(e.target.checked)}\n                    className=\"w-5 h-5 rounded\"\n                  />\n                </label>\n                <label className=\"flex items-center justify-between cursor-pointer\">\n                  <span className=\"flex items-center gap-2\">\n                    <Users className=\"w-4 h-4\" />\n                    Allow duets\n                  </span>\n                  <input\n                    type=\"checkbox\"\n                    checked={allowDuets}\n                    onChange={(e) => setAllowDuets(e.target.checked)}\n                    className=\"w-5 h-5 rounded\"\n                  />\n                </label>\n                <label className=\"flex items-center justify-between cursor-pointer\">\n                  <span className=\"flex items-center gap-2\">\n                    <Users className=\"w-4 h-4\" />\n                    Allow stitch\n                  </span>\n                  <input\n                    type=\"checkbox\"\n                    checked={allowStitch}\n                    onChange={(e) => setAllowStitch(e.target.checked)}\n                    className=\"w-5 h-5 rounded\"\n                  />\n                </label>\n                <label className=\"flex items-center justify-between cursor-pointer\">\n                  <span className=\"flex items-center gap-2\">\n                    <Download className=\"w-4 h-4\" />\n                    Allow download\n                  </span>\n                  <input\n                    type=\"checkbox\"\n                    checked={allowDownload}\n                    onChange={(e) => setAllowDownload(e.target.checked)}\n                    className=\"w-5 h-5 rounded\"\n                  />\n                </label>\n                <label className=\"flex items-center justify-between cursor-pointer\">\n                  <span className=\"flex items-center gap-2\">\n                    <Share2 className=\"w-4 h-4\" />\n                    Allow sharing\n                  </span>\n                  <input\n                    type=\"checkbox\"\n                    checked={allowSharing}\n                    onChange={(e) => setAllowSharing(e.target.checked)}\n                    className=\"w-5 h-5 rounded\"\n                  />\n                </label>\n              </div>\n            )}\n\n            {error && (\n              <div className=\"p-4 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-xl\">\n                {error}\n              </div>\n            )}\n\n            <div className=\"flex gap-4\">\n              <button\n                onClick={handleClose}\n                className=\"flex-1 px-6 py-3 border border-gray-300 dark:border-gray-700 rounded-full font-medium hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleUpload}\n                disabled={isUploading}\n                className=\"flex-1 px-6 py-3 bg-blue-500 text-white rounded-full font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n              >\n                {isUploading ? (\n                  <>\n                    <Loader2 className=\"w-5 h-5 animate-spin\" />\n                    Uploading... {uploadProgress}%\n                  </>\n                ) : (\n                  'Post'\n                )}\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["useState","useRef","useCallback","useRouter","Upload","X","Loader2","Hash","Music","MapPin","Code","Eye","MessageCircle","Users","Download","Share2","ChevronDown","cn","reelsApi","ReelCreateProps","onClose","ReelCreate","router","fileInputRef","HTMLInputElement","selectedFile","setSelectedFile","File","videoPreviewUrl","setVideoPreviewUrl","isUploading","setIsUploading","uploadProgress","setUploadProgress","error","setError","title","setTitle","caption","setCaption","hashtags","setHashtags","hashtagInput","setHashtagInput","visibility","setVisibility","allowComments","setAllowComments","allowDuets","setAllowDuets","allowStitch","setAllowStitch","allowDownload","setAllowDownload","allowSharing","setAllowSharing","codeSnippet","setCodeSnippet","codeLanguage","setCodeLanguage","codeFileName","setCodeFileName","repoUrl","setRepoUrl","showCodeSection","setShowCodeSection","showAdvanced","setShowAdvanced","handleFileSelect","e","React","ChangeEvent","file","target","files","type","startsWith","size","URL","createObjectURL","handleAddHashtag","KeyboardEvent","key","preventDefault","tag","trim","replace","includes","length","handleRemoveHashtag","filter","t","handleUpload","formData","FormData","append","JSON","stringify","String","reel","createReel","push","id","err","console","handleClose","revokeObjectURL","current","click","undefined","value","map","checked"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 4390, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/reels/index.ts"],"sourcesContent":["export { ReelsFeed } from './ReelsFeed';\nexport { ReelCard } from './ReelCard';\nexport { ReelPlayer } from './ReelPlayer';\nexport { ReelActions } from './ReelActions';\nexport { ReelInfo } from './ReelInfo';\nexport { ReelComments } from './ReelComments';\nexport { ReelPoll } from './ReelPoll';\nexport { ReelQuiz } from './ReelQuiz';\nexport { ReelCodeSnippet } from './ReelCodeSnippet';\nexport { ReelCreate } from './ReelCreate';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 4418, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/app/reels/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Plus, Compass } from 'lucide-react';\nimport { ReelsFeed } from '@/components/reels';\nimport { cn } from '@/lib/utils';\n\ntype FeedMode = 'foryou' | 'following';\n\nexport default function ReelsPage() {\n  const router = useRouter();\n  const [mode, setMode] = useState<FeedMode>('foryou');\n\n  const handleCreateClick = useCallback(() => {\n    router.push('/reels/create');\n  }, [router]);\n\n  const handleTrendingClick = useCallback(() => {\n    router.push('/reels/trending');\n  }, [router]);\n\n  return (\n    <div className=\"relative h-screen w-full bg-black\">\n      <div className=\"absolute top-0 left-0 right-0 z-20 pt-4 px-4 pb-2 bg-gradient-to-b from-black/80 to-transparent\">\n        <div className=\"flex items-center justify-between max-w-lg mx-auto\">\n          <h1 className=\"text-white text-xl font-bold\">Reels</h1>\n          \n          <div className=\"flex items-center gap-4\">\n            <div className=\"flex bg-white/10 rounded-full p-1\">\n              <button\n                onClick={() => setMode('foryou')}\n                className={cn(\n                  \"px-4 py-1.5 rounded-full text-sm font-medium transition-colors\",\n                  mode === 'foryou'\n                    ? \"bg-white text-black\"\n                    : \"text-white hover:text-white/80\"\n                )}\n              >\n                For You\n              </button>\n              <button\n                onClick={() => setMode('following')}\n                className={cn(\n                  \"px-4 py-1.5 rounded-full text-sm font-medium transition-colors\",\n                  mode === 'following'\n                    ? \"bg-white text-black\"\n                    : \"text-white hover:text-white/80\"\n                )}\n              >\n                Following\n              </button>\n            </div>\n            \n            <button\n              onClick={handleTrendingClick}\n              className=\"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors\"\n            >\n              <Compass className=\"w-5 h-5 text-white\" />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <ReelsFeed mode={mode} />\n\n      <button\n        onClick={handleCreateClick}\n        className=\"fixed bottom-24 right-4 z-30 w-14 h-14 rounded-full bg-blue-500 shadow-lg flex items-center justify-center hover:bg-blue-600 transition-colors\"\n      >\n        <Plus className=\"w-7 h-7 text-white\" />\n      </button>\n    </div>\n  );\n}\n"],"names":["c","_c","useState","useCallback","useRouter","Plus","Compass","ReelsFeed","cn","FeedMode","ReelsPage","$","$i","Symbol","for","router","mode","setMode","t0","ReelsPage[handleCreateClick]","push","handleCreateClick","t1","ReelsPage[handleTrendingClick]","handleTrendingClick","t2","t3","ReelsPage[<button>.onClick]","t4","t5","t6","t7","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18"],"mappings":"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","ignoreList":[]}}]
}
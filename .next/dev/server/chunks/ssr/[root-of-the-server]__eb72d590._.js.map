{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/utils/constants.ts"],"sourcesContent":["function normalizeApiUrl(input: string): string {\n  const trimmed = input.trim().replace(/\\/+$/, '');\n  return trimmed.endsWith('/api') ? trimmed : `${trimmed}/api`;\n}\n\nfunction resolveApiUrl(): string {\n  const publicApiUrl = process.env.NEXT_PUBLIC_API_URL;\n  if (publicApiUrl) {\n    return normalizeApiUrl(publicApiUrl);\n  }\n\n  const publicBackendUrl = process.env.NEXT_PUBLIC_BACKEND_URL;\n  if (publicBackendUrl) {\n    return normalizeApiUrl(publicBackendUrl);\n  }\n\n  if (process.env.NODE_ENV === 'production') {\n    throw new Error('Missing NEXT_PUBLIC_API_URL (or NEXT_PUBLIC_BACKEND_URL) in production');\n  }\n\n  // Local default for development only.\n  return 'http://localhost:5000/api';\n}\n\nexport const API_URL = resolveApiUrl();\nexport const BACKEND_ORIGIN = API_URL.replace(/\\/api$/, '');\nexport const GOOGLE_CLIENT_ID = process.env.NEXT_PUBLIC_GOOGLE_CLIENT_ID || '';\n\n"],"names":[],"mappings":";;;;;;;;AAAA,SAAS,gBAAgB,KAAa;IACpC,MAAM,UAAU,MAAM,IAAI,GAAG,OAAO,CAAC,QAAQ;IAC7C,OAAO,QAAQ,QAAQ,CAAC,UAAU,UAAU,GAAG,QAAQ,IAAI,CAAC;AAC9D;AAEA,SAAS;IACP,MAAM;IACN,wCAAkB;QAChB,OAAO,gBAAgB;IACzB;;;IAEA,MAAM;AAWR;AAEO,MAAM,UAAU;AAChB,MAAM,iBAAiB,QAAQ,OAAO,CAAC,UAAU;AACjD,MAAM,mBAAmB,gHAA4C"}},
    {"offset": {"line": 122, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/auth/authHelpers.ts"],"sourcesContent":["const TOKEN_KEY = 'authToken';\nconst PENDING_USER_KEY = 'auth_user_pending';\n\nexport function getToken(): string | null {\n  if (typeof window === 'undefined') return null;\n  return localStorage.getItem(TOKEN_KEY);\n}\n\nexport function setToken(token: string): void {\n  if (typeof window === 'undefined') return;\n  localStorage.setItem(TOKEN_KEY, token);\n}\n\nexport function removeToken(): void {\n  if (typeof window === 'undefined') return;\n  localStorage.removeItem(TOKEN_KEY);\n}\n\nexport function setPendingUser(user: object): void {\n  if (typeof window === 'undefined') return;\n  try {\n    sessionStorage.setItem(PENDING_USER_KEY, JSON.stringify(user));\n  } catch (_) {}\n}\n\nexport function getPendingUser(): object | null {\n  if (typeof window === 'undefined') return null;\n  try {\n    const raw = sessionStorage.getItem(PENDING_USER_KEY);\n    if (!raw) return null;\n    const user = JSON.parse(raw);\n    sessionStorage.removeItem(PENDING_USER_KEY);\n    return user;\n  } catch (_) {\n    return null;\n  }\n}\n\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA,MAAM,YAAY;AAClB,MAAM,mBAAmB;AAElB,SAAS;IACd,wCAAmC,OAAO;;;AAE5C;AAEO,SAAS,SAAS,KAAa;IACpC,wCAAmC;;;AAErC;AAEO,SAAS;IACd,wCAAmC;;;AAErC;AAEO,SAAS,eAAe,IAAY;IACzC,wCAAmC;;;AAIrC;AAEO,SAAS;IACd,wCAAmC,OAAO;;;AAU5C"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/api/client.ts"],"sourcesContent":["import axios, { AxiosError, AxiosInstance, InternalAxiosRequestConfig } from 'axios';\nimport Cookies from 'js-cookie';\nimport { API_URL } from '@/lib/utils/constants';\nimport { getToken, removeToken } from '@/lib/auth/authHelpers';\n\n// Create axios instance with base configuration\nconst apiClient: AxiosInstance = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  withCredentials: true,\n});\n\n// Request interceptor: Add auth token to requests\napiClient.interceptors.request.use(\n  (config: InternalAxiosRequestConfig) => {\n    // Get token from cookies (for backward compatibility) or localStorage\n    if (typeof window !== 'undefined') {\n      const token = Cookies.get('authToken') || getToken();\n      if (token && config.headers) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    }\n    \n    // Remove Content-Type for FormData - let browser set it with boundary\n    if (config.data instanceof FormData) {\n      delete config.headers['Content-Type'];\n    }\n    \n    return config;\n  },\n  (error: AxiosError) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor: Handle responses and errors\napiClient.interceptors.response.use(\n  (response) => {\n    // Return response data directly\n    return response.data;\n  },\n  (error: AxiosError) => {\n    const status = error.response?.status;\n    const url = error.config?.url || '';\n    \n    // Handle 401 Unauthorized or 404 on auth/me (user not found after db reset)\n    if (status === 401 || (status === 404 && url.includes('/auth/me'))) {\n      // Remove token from both cookies and localStorage\n      if (typeof window !== 'undefined') {\n        Cookies.remove('authToken');\n        removeToken();\n        // Only redirect if not already on login page and not during auth request\n        const currentPath = window.location.pathname;\n        const isAuthPage = currentPath === '/login';\n        const isAuthRequest = url.includes('/auth/login') || \n                            url.includes('/auth/register');\n        \n        if (!isAuthPage && !isAuthRequest) {\n          window.location.href = '/login';\n        }\n      }\n    }\n    \n    // Handle 403 Forbidden (email not verified)\n    if (status === 403) {\n      // Let the component handle this error\n    }\n    \n    // Return rejected promise with error\n    return Promise.reject(error);\n  }\n);\n\nexport default apiClient;\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,gDAAgD;AAChD,MAAM,YAA2B,gJAAK,CAAC,MAAM,CAAC;IAC5C,SAAS,2IAAO;IAChB,SAAS;QACP,gBAAgB;IAClB;IACA,iBAAiB;AACnB;AAEA,kDAAkD;AAClD,UAAU,YAAY,CAAC,OAAO,CAAC,GAAG,CAChC,CAAC;IACC,sEAAsE;IACtE;;IAOA,sEAAsE;IACtE,IAAI,OAAO,IAAI,YAAY,UAAU;QACnC,OAAO,OAAO,OAAO,CAAC,eAAe;IACvC;IAEA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,oDAAoD;AACpD,UAAU,YAAY,CAAC,QAAQ,CAAC,GAAG,CACjC,CAAC;IACC,gCAAgC;IAChC,OAAO,SAAS,IAAI;AACtB,GACA,CAAC;IACC,MAAM,SAAS,MAAM,QAAQ,EAAE;IAC/B,MAAM,MAAM,MAAM,MAAM,EAAE,OAAO;IAEjC,4EAA4E;IAC5E,IAAI,WAAW,OAAQ,WAAW,OAAO,IAAI,QAAQ,CAAC,aAAc;QAClE,kDAAkD;QAClD;;IAaF;IAEA,4CAA4C;IAC5C,IAAI,WAAW,KAAK;IAClB,sCAAsC;IACxC;IAEA,qCAAqC;IACrC,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 223, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/api/auth.ts"],"sourcesContent":["import apiClient from './client';\nimport type { AuthResponse, LoginCredentials, RegisterData, User } from '@/types/auth';\n\nexport const authAPI = {\n  register: async (data: RegisterData): Promise<AuthResponse> => {\n    return apiClient.post('/auth/register', data) as Promise<AuthResponse>;\n  },\n\n  login: async (data: LoginCredentials): Promise<AuthResponse> => {\n    return apiClient.post('/auth/login', data) as Promise<AuthResponse>;\n  },\n\n  getCurrentUser: async (): Promise<User> => {\n    return apiClient.get('/auth/me') as Promise<User>;\n  },\n\n  googleSignIn: async (idToken: string): Promise<AuthResponse> => {\n    return apiClient.post('/auth/google', { idToken }) as Promise<AuthResponse>;\n  },\n\n  forgotPassword: async (email: string): Promise<{ message: string }> => {\n    return apiClient.post('/auth/forgot-password', { email }) as Promise<{ message: string }>;\n  },\n\n  resetPassword: async (token: string, newPassword: string): Promise<{ message: string }> => {\n    return apiClient.post(`/auth/reset-password?token=${token}`, { newPassword }) as Promise<{ message: string }>;\n  },\n\n  verifyEmail: async (token: string): Promise<{ message: string }> => {\n    return apiClient.get(`/auth/verify-email?token=${token}`) as Promise<{ message: string }>;\n  },\n\n  resendVerification: async (email: string): Promise<{ message: string }> => {\n    return apiClient.post('/auth/resend-verification', { email }) as Promise<{ message: string }>;\n  },\n};\n\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,UAAU;IACrB,UAAU,OAAO;QACf,OAAO,sIAAS,CAAC,IAAI,CAAC,kBAAkB;IAC1C;IAEA,OAAO,OAAO;QACZ,OAAO,sIAAS,CAAC,IAAI,CAAC,eAAe;IACvC;IAEA,gBAAgB;QACd,OAAO,sIAAS,CAAC,GAAG,CAAC;IACvB;IAEA,cAAc,OAAO;QACnB,OAAO,sIAAS,CAAC,IAAI,CAAC,gBAAgB;YAAE;QAAQ;IAClD;IAEA,gBAAgB,OAAO;QACrB,OAAO,sIAAS,CAAC,IAAI,CAAC,yBAAyB;YAAE;QAAM;IACzD;IAEA,eAAe,OAAO,OAAe;QACnC,OAAO,sIAAS,CAAC,IAAI,CAAC,CAAC,2BAA2B,EAAE,OAAO,EAAE;YAAE;QAAY;IAC7E;IAEA,aAAa,OAAO;QAClB,OAAO,sIAAS,CAAC,GAAG,CAAC,CAAC,yBAAyB,EAAE,OAAO;IAC1D;IAEA,oBAAoB,OAAO;QACzB,OAAO,sIAAS,CAAC,IAAI,CAAC,6BAA6B;YAAE;QAAM;IAC7D;AACF"}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/utils/errorHandler.ts"],"sourcesContent":["import { AxiosError } from 'axios';\nimport type { ApiError } from '@/types/auth';\n\nexport function handleApiError(error: unknown): string {\n  if (error instanceof AxiosError) {\n    const apiError = error.response?.data as ApiError | undefined;\n    if (apiError?.error) {\n      return apiError.error;\n    }\n    if (error.response?.status === 401) {\n      return 'Unauthorized. Please login again.';\n    }\n    if (error.response?.status === 403) {\n      return 'Email verification required. Please check your inbox.';\n    }\n    if (error.response?.status === 404) {\n      return 'Resource not found.';\n    }\n    if (error.response?.status === 500) {\n      return 'Server error. Please try again later.';\n    }\n    return error.message || 'An unexpected error occurred';\n  }\n  \n  if (error instanceof Error) {\n    return error.message;\n  }\n  \n  return 'An unexpected error occurred';\n}\n\n"],"names":[],"mappings":";;;;AAAA;;AAGO,SAAS,eAAe,KAAc;IAC3C,IAAI,iBAAiB,4JAAU,EAAE;QAC/B,MAAM,WAAW,MAAM,QAAQ,EAAE;QACjC,IAAI,UAAU,OAAO;YACnB,OAAO,SAAS,KAAK;QACvB;QACA,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;YAClC,OAAO;QACT;QACA,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;YAClC,OAAO;QACT;QACA,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;YAClC,OAAO;QACT;QACA,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;YAClC,OAAO;QACT;QACA,OAAO,MAAM,OAAO,IAAI;IAC1B;IAEA,IAAI,iBAAiB,OAAO;QAC1B,OAAO,MAAM,OAAO;IACtB;IAEA,OAAO;AACT"}},
    {"offset": {"line": 302, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/auth/authContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport Cookies from 'js-cookie';\nimport { authAPI } from '@/lib/api/auth';\nimport { setToken, removeToken, getToken, getPendingUser } from './authHelpers';\nimport type { User, LoginCredentials, RegisterData, AuthResponse } from '@/types/auth';\nimport { handleApiError } from '@/lib/utils/errorHandler';\n\ninterface AuthContextType {\n  user: User | null;\n  token: string | null;\n  loading: boolean;\n  isAuthenticated: boolean;\n  login: (credentials: LoginCredentials) => Promise<void>;\n  logout: () => void;\n  register: (data: RegisterData) => Promise<AuthResponse>;\n  setAuth: (response: AuthResponse) => void;\n  updateUser: (user: User) => void;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [token, setTokenState] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  // Initialize auth state from storage\n  useEffect(() => {\n    const initAuth = async () => {\n      try {\n        const storedToken = Cookies.get('authToken') || getToken();\n        if (storedToken) {\n          setTokenState(storedToken);\n          const pendingUser = getPendingUser();\n          if (pendingUser) {\n            setUser(pendingUser as any);\n            setLoading(false);\n            return;\n          }\n          try {\n            const userData = await authAPI.getCurrentUser();\n            setUser(userData);\n          } catch (error: any) {\n            const status = error.response?.status;\n            if (status === 401 || status === 404 || status === 403) {\n              Cookies.remove('authToken');\n              removeToken();\n              setTokenState(null);\n              setUser(null);\n            }\n          }\n        }\n      } catch (error) {\n        console.error('Error initializing auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    initAuth();\n  }, []);\n\n  const login = useCallback(async (credentials: LoginCredentials): Promise<void> => {\n    try {\n      const response = await authAPI.login(credentials);\n      \n      // Store token in both cookie and localStorage\n      Cookies.set('authToken', response.token, {\n        expires: 7,\n        secure: process.env.NODE_ENV === 'production',\n        sameSite: 'strict',\n      });\n      setToken(response.token);\n      \n      setUser(response.user);\n      setTokenState(response.token);\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  }, []);\n\n  const register = useCallback(async (data: RegisterData): Promise<AuthResponse> => {\n    try {\n      const response = await authAPI.register(data);\n      \n      // Store token in both cookie and localStorage\n      Cookies.set('authToken', response.token, {\n        expires: 7,\n        secure: process.env.NODE_ENV === 'production',\n        sameSite: 'strict',\n      });\n      setToken(response.token);\n      \n      setUser(response.user);\n      setTokenState(response.token);\n      \n      return response;\n    } catch (error) {\n      throw new Error(handleApiError(error));\n    }\n  }, []);\n\n  const logout = useCallback(() => {\n    Cookies.remove('authToken');\n    removeToken();\n    setUser(null);\n    setTokenState(null);\n  }, []);\n\n  const setAuth = useCallback((response: AuthResponse) => {\n    // Store token in both cookie and localStorage\n    Cookies.set('authToken', response.token, {\n      expires: 7,\n      secure: process.env.NODE_ENV === 'production',\n      sameSite: 'strict',\n    });\n    setToken(response.token);\n    setUser(response.user);\n    setTokenState(response.token);\n  }, []);\n\n  const updateUser = useCallback((updatedUser: User) => {\n    setUser(updatedUser);\n  }, []);\n\n  const value: AuthContextType = {\n    user,\n    token,\n    loading,\n    isAuthenticated: !!token && !!user, // Authenticated only when both token and user exist\n    login,\n    logout,\n    register,\n    setAuth,\n    updateUser,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\nexport function useAuthContext() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuthContext must be used within an AuthProvider');\n  }\n  return context;\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 444, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/ui/ThemeProvider.tsx"],"sourcesContent":["'use client';\n\nimport { ThemeProvider as NextThemesProvider } from 'next-themes';\nimport type { ComponentProps } from 'react';\n\ntype ThemeProviderProps = ComponentProps<typeof NextThemesProvider>;\n\nexport function ThemeProvider({ children, ...props }: ThemeProviderProps) {\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>;\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAOO,SAAS,cAAc,EAAE,QAAQ,EAAE,GAAG,OAA2B;IACtE,qBAAO,8OAAC,iKAAkB;QAAE,GAAG,KAAK;kBAAG;;;;;;AACzC"}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/providers/QueryProvider.tsx"],"sourcesContent":["'use client';\n\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { useState } from 'react';\n\nexport function QueryProvider({ children }: { children: React.ReactNode }) {\n  const [queryClient] = useState(\n    () =>\n      new QueryClient({\n        defaultOptions: {\n          queries: {\n            staleTime: 5 * 60 * 1000, // 5 minutes - keeps feed/find-people cached when navigating back from profile\n            gcTime: 10 * 60 * 1000, // 10 minutes (formerly cacheTime)\n          },\n        },\n      })\n  );\n\n  return (\n    <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAHA;;;;AAKO,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACvE,MAAM,CAAC,YAAY,GAAG,IAAA,iNAAQ,EAC5B,IACE,IAAI,4LAAW,CAAC;YACd,gBAAgB;gBACd,SAAS;oBACP,WAAW,IAAI,KAAK;oBACpB,QAAQ,KAAK,KAAK;gBACpB;YACF;QACF;IAGJ,qBACE,8OAAC,6MAAmB;QAAC,QAAQ;kBAAc;;;;;;AAE/C"}},
    {"offset": {"line": 525, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/socket.ts"],"sourcesContent":["// Socket.IO Client for Real-time Features\n\nimport { io, Socket } from 'socket.io-client';\nimport { getToken } from '@/lib/auth/authHelpers';\nimport { BACKEND_ORIGIN } from '@/lib/utils/constants';\n\nconst SOCKET_URL = BACKEND_ORIGIN;\n\nlet socket: Socket | null = null;\n\n// Reaction types matching backend enum\nexport type ReactionType = 'LIKE' | 'CELEBRATE' | 'SUPPORT' | 'INSIGHTFUL' | 'CURIOUS';\n\nexport interface ReactionSummary {\n  type: ReactionType;\n  count: number;\n}\n\nexport interface SocketEventHandlers {\n  onConnect?: () => void;\n  onDisconnect?: () => void;\n  onError?: (error: { message: string }) => void;\n  \n  // Post events\n  onPostCreated?: (data: { post: any }) => void;\n  onPostLiked?: (data: { \n    postId: string; \n    userId: string; \n    liked: boolean; \n    likesCount: number;\n    reactionType?: ReactionType | null;\n    reactionSummary?: ReactionSummary[];\n  }) => void;\n  onPostReacted?: (data: { \n    postId: string; \n    userId: string; \n    liked: boolean; \n    reactionType: ReactionType | null;\n    likesCount: number;\n    reactionSummary: ReactionSummary[];\n  }) => void;\n  \n  // Comment events\n  onCommentCreated?: (data: { postId: string; comment: any; commentsCount: number }) => void;\n  onCommentLiked?: (data: { commentId: string; userId: string; liked: boolean; likesCount: number }) => void;\n  \n  // Poll events\n  onPollUpdated?: (data: { \n    postId: string; \n    pollOptions: any[]; \n    voterId: string;\n    votedOptionId?: string;\n    totalVotes?: number;\n  }) => void;\n  \n  // Notification events\n  onNotificationComment?: (data: any) => void;\n  onNotificationMention?: (data: any) => void;\n  onNotificationLike?: (data: any) => void;\n  onNotificationReaction?: (data: any) => void;\n  onNotificationCommentLike?: (data: any) => void;\n  \n  // User events\n  onUserOnline?: (data: { userId: string }) => void;\n  onUserOffline?: (data: { userId: string }) => void;\n  onUserLocationChanged?: (data: { userId: string; city: string; state: string; country: string }) => void;\n  \n  // Location request\n  onLocationRequest?: (data: { message: string; timestamp: Date }) => void;\n  \n  // Story events\n  onStoryCreated?: (data: { story: any; author: any; timestamp: Date }) => void;\n  onStoryDeleted?: (data: { storyId: string; authorId: string; timestamp: Date }) => void;\n  onStoryViewed?: (data: { storyId: string; viewerId: string; viewCount: number; timestamp: Date }) => void;\n  onStoryReaction?: (data: { storyId: string; user: any; reaction: string; reactionCount: number; timestamp: Date }) => void;\n  onStoryReply?: (data: { storyId: string; reply: any; timestamp: Date }) => void;\n  \n  // Chat events\n  onChatNewMessage?: (data: { conversationId: string; message: any }) => void;\n  onChatNotification?: (data: { type: string; conversationId: string; message: any; sender: any }) => void;\n  onChatUserTyping?: (data: { conversationId: string; userId: string; isTyping: boolean }) => void;\n  onChatMessagesDelivered?: (data: { conversationId: string; deliveredAt: Date }) => void;\n  onChatMessagesRead?: (data: { conversationId: string; readBy: string; readAt: Date }) => void;\n  onChatMessageDeleted?: (data: { messageId: string; conversationId: string; deletedBy?: string; forEveryone: boolean }) => void;\n  onChatMessageEdited?: (data: { messageId: string; conversationId: string; content: string; editedAt: Date }) => void;\n  onChatMessageReaction?: (data: { messageId: string; conversationId: string; userId: string; emoji: string; action: string }) => void;\n  onChatMessageDelivered?: (data: { messageId: string; deliveredAt: Date }) => void;\n  \n  // Reel events\n  onReelEngagementUpdate?: (data: { \n    reelId: string; \n    type: 'like' | 'comment' | 'share'; \n    userId?: string;\n    liked?: boolean;\n    likesCount?: number;\n    commentsCount?: number;\n    sharesCount?: number;\n    comment?: { id: string; author: any; content: string; parentId?: string };\n  }) => void;\n  \n  // New notification event\n  onNotificationNew?: (data: {\n    id: string;\n    type: string;\n    title: string;\n    body: string;\n    actor: any;\n    post?: any;\n    reel?: any;\n    data: any;\n    isRead: boolean;\n    createdAt: string;\n  }) => void;\n}\n\n/**\n * Initialize Socket.IO connection\n */\nexport function initializeSocket(handlers?: SocketEventHandlers): Socket {\n  // If socket exists and is connected, just register new handlers\n  if (socket?.connected) {\n    console.log('Socket already connected, registering handlers');\n    if (handlers) {\n      registerSocketHandlers(socket, handlers);\n    }\n    return socket;\n  }\n  \n  // If socket exists but disconnected, clean it up\n  if (socket) {\n    socket.removeAllListeners();\n    socket.disconnect();\n    socket = null;\n  }\n  \n  const token = getToken();\n  \n  if (!token) {\n    console.warn('⚠️ No auth token found, socket connection may fail');\n  }\n  \n  socket = io(SOCKET_URL, {\n    auth: { token },\n    transports: ['websocket', 'polling'],\n    reconnection: true,\n    reconnectionAttempts: 5,\n    reconnectionDelay: 1000,\n  });\n  \n  // Register handlers if provided\n  if (handlers) {\n    registerSocketHandlers(socket, handlers);\n  }\n  \n  return socket;\n}\n\n/**\n * Register event handlers on an existing socket connection\n */\nfunction registerSocketHandlers(sock: Socket, handlers: SocketEventHandlers): void {\n  // Connection events\n  if (handlers.onConnect) {\n    sock.off('connect'); // Remove previous handler\n    sock.on('connect', () => {\n      console.log('✅ Socket connected:', sock?.id);\n      handlers.onConnect?.();\n    });\n  }\n  \n  if (handlers.onDisconnect) {\n    sock.off('disconnect');\n    sock.on('disconnect', (reason) => {\n      console.log('❌ Socket disconnected:', reason);\n      handlers.onDisconnect?.();\n    });\n  }\n  \n  sock.off('connect_error');\n  sock.on('connect_error', (error) => {\n    console.error('Socket connection error:', error);\n  });\n  \n  if (handlers.onError) {\n    sock.off('error');\n    sock.on('error', (error: { message: string }) => {\n      console.error('Socket error:', error);\n      handlers.onError?.(error);\n    });\n  }\n  \n  // Post events - use addListener to allow multiple handlers\n  if (handlers.onPostCreated) {\n    sock.on('post:created', handlers.onPostCreated);\n  }\n  \n  if (handlers.onPostLiked) {\n    sock.on('post:liked', handlers.onPostLiked);\n  }\n  \n  if (handlers.onPostReacted) {\n    sock.on('post:reacted', handlers.onPostReacted);\n  }\n  \n  // Comment events\n  if (handlers.onCommentCreated) {\n    sock.on('comment:created', handlers.onCommentCreated);\n  }\n  \n  if (handlers.onCommentLiked) {\n    sock.on('comment:liked', handlers.onCommentLiked);\n  }\n  \n  // Poll events\n  if (handlers.onPollUpdated) {\n    sock.on('poll:updated', handlers.onPollUpdated);\n  }\n  \n  // Notification events\n  if (handlers.onNotificationComment) {\n    sock.on('notification:comment', handlers.onNotificationComment);\n  }\n  \n  if (handlers.onNotificationReaction) {\n    sock.on('notification:reaction', handlers.onNotificationReaction);\n  }\n  \n  if (handlers.onNotificationMention) {\n    sock.on('notification:mention', handlers.onNotificationMention);\n  }\n  \n  if (handlers.onNotificationLike) {\n    sock.on('notification:like', handlers.onNotificationLike);\n  }\n  \n  if (handlers.onNotificationCommentLike) {\n    sock.on('notification:comment_like', handlers.onNotificationCommentLike);\n  }\n  \n  // User events\n  if (handlers.onUserOnline) {\n    sock.on('user:online', handlers.onUserOnline);\n  }\n  \n  if (handlers.onUserOffline) {\n    sock.on('user:offline', handlers.onUserOffline);\n  }\n  \n  if (handlers.onUserLocationChanged) {\n    sock.on('user:location_changed', handlers.onUserLocationChanged);\n  }\n  \n  // Location request\n  if (handlers.onLocationRequest) {\n    sock.on('location:request', handlers.onLocationRequest);\n  }\n  \n  // Story events\n  if (handlers.onStoryCreated) {\n    sock.on('story:created', handlers.onStoryCreated);\n  }\n  \n  if (handlers.onStoryDeleted) {\n    sock.on('story:deleted', handlers.onStoryDeleted);\n  }\n  \n  if (handlers.onStoryViewed) {\n    sock.on('story:viewed', handlers.onStoryViewed);\n  }\n  \n  if (handlers.onStoryReaction) {\n    sock.on('story:reaction', handlers.onStoryReaction);\n  }\n  \n  if (handlers.onStoryReply) {\n    sock.on('story:reply', handlers.onStoryReply);\n  }\n  \n  // Chat events\n  if (handlers.onChatNewMessage) {\n    sock.on('chat:new_message', handlers.onChatNewMessage);\n  }\n  \n  if (handlers.onChatNotification) {\n    sock.on('chat:notification', handlers.onChatNotification);\n  }\n  \n  if (handlers.onChatUserTyping) {\n    sock.on('chat:user_typing', handlers.onChatUserTyping);\n  }\n  \n  if (handlers.onChatMessagesDelivered) {\n    sock.on('chat:messages_delivered', handlers.onChatMessagesDelivered);\n  }\n  \n  if (handlers.onChatMessagesRead) {\n    sock.on('chat:messages_read', handlers.onChatMessagesRead);\n  }\n  \n  if (handlers.onChatMessageDeleted) {\n    sock.on('chat:message_deleted', handlers.onChatMessageDeleted);\n  }\n  \n  if (handlers.onChatMessageEdited) {\n    sock.on('chat:message_edited', handlers.onChatMessageEdited);\n  }\n  \n  if (handlers.onChatMessageReaction) {\n    sock.on('chat:message_reaction', handlers.onChatMessageReaction);\n  }\n  \n  if (handlers.onChatMessageDelivered) {\n    sock.on('chat:message_delivered', handlers.onChatMessageDelivered);\n  }\n  \n  // Reel events\n  if (handlers.onReelEngagementUpdate) {\n    sock.on('reel:engagement_update', handlers.onReelEngagementUpdate);\n  }\n  \n  // New notification event\n  if (handlers.onNotificationNew) {\n    sock.on('notification:new', handlers.onNotificationNew);\n  }\n}\n\n/**\n * Get the current socket instance\n */\nexport function getSocket(): Socket | null {\n  return socket;\n}\n\n/**\n * Remove specific event handlers from the socket\n */\nexport function removeSocketHandlers(eventNames: string[]): void {\n  if (!socket) return;\n  eventNames.forEach(event => {\n    socket?.off(event);\n  });\n}\n\n/**\n * Disconnect socket\n */\nexport function disconnectSocket(): void {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n  }\n}\n\n/**\n * Join a post room for real-time updates\n */\nexport function joinPostRoom(postId: string): void {\n  socket?.emit('post:join', { postId });\n}\n\n/**\n * Leave a post room\n */\nexport function leavePostRoom(postId: string): void {\n  socket?.emit('post:leave', { postId });\n}\n\n/**\n * Like/Unlike a post via WebSocket (legacy, uses default LIKE reaction)\n */\nexport function likePost(postId: string): void {\n  socket?.emit('post:like', { postId });\n}\n\n/**\n * React to a post via WebSocket with specific reaction type\n */\nexport function reactToPost(postId: string, reactionType: ReactionType): void {\n  socket?.emit('post:react', { postId, reactionType });\n}\n\n/**\n * Create a comment via WebSocket\n */\nexport function createComment(\n  postId: string,\n  content: string,\n  parentId?: string,\n  mentions?: string[]\n): void {\n  socket?.emit('post:comment', { postId, content, parentId, mentions });\n}\n\n/**\n * Like/Unlike a comment via WebSocket\n */\nexport function likeComment(commentId: string, postId: string): void {\n  socket?.emit('comment:like', { commentId, postId });\n}\n\n/**\n * Vote on a poll via WebSocket\n */\nexport function votePoll(postId: string, optionId: string): void {\n  socket?.emit('poll:vote', { postId, optionId });\n}\n\n/**\n * Update location via WebSocket\n */\nexport function updateLocation(data: {\n  lat?: number;\n  lng?: number;\n  accuracy?: number;\n  activity?: string;\n}): void {\n  socket?.emit('location:update', data);\n}\n\n/**\n * Send typing indicator (for future use)\n */\nexport function sendTypingIndicator(postId: string, isTyping: boolean): void {\n  socket?.emit('typing', { postId, isTyping });\n}\n\n// ============================================\n// CHAT SOCKET FUNCTIONS\n// ============================================\n\n/**\n * Join a chat conversation room\n */\nexport function joinChatRoom(conversationId: string): void {\n  socket?.emit('chat:join', { conversationId });\n}\n\n/**\n * Leave a chat conversation room\n */\nexport function leaveChatRoom(conversationId: string): void {\n  socket?.emit('chat:leave', { conversationId });\n}\n\n/**\n * Send a chat message via WebSocket\n */\nexport function sendChatMessage(data: {\n  conversationId: string;\n  content: string;\n  contentType?: string;\n  mediaUrl?: string;\n  mediaType?: string;\n  fileName?: string;\n  fileSize?: number;\n  replyToId?: string;\n}): void {\n  socket?.emit('chat:send_message', data);\n}\n\n/**\n * Send typing indicator for chat\n */\nexport function sendChatTyping(conversationId: string, isTyping: boolean): void {\n  socket?.emit('chat:typing', { conversationId, isTyping });\n}\n\n/**\n * Mark chat messages as read\n */\nexport function markChatAsRead(conversationId: string): void {\n  socket?.emit('chat:mark_read', { conversationId });\n}\n\n/**\n * Delete a chat message\n */\nexport function deleteChatMessage(messageId: string, conversationId: string, forEveryone?: boolean): void {\n  socket?.emit('chat:delete_message', { messageId, conversationId, forEveryone });\n}\n\n/**\n * Edit a chat message\n */\nexport function editChatMessage(messageId: string, conversationId: string, content: string): void {\n  socket?.emit('chat:edit_message', { messageId, conversationId, content });\n}\n\n/**\n * React to a chat message\n */\nexport function reactToChatMessage(messageId: string, conversationId: string, emoji: string): void {\n  socket?.emit('chat:react', { messageId, conversationId, emoji });\n}\n\n// ============================================\n// REEL SOCKET FUNCTIONS\n// ============================================\n\n/**\n * Join a reel room for real-time updates\n */\nexport function joinReelRoom(reelId: string): void {\n  socket?.emit('reel:join', { reelId });\n}\n\n/**\n * Leave a reel room\n */\nexport function leaveReelRoom(reelId: string): void {\n  socket?.emit('reel:leave', { reelId });\n}\n\n/**\n * Like a reel via WebSocket\n */\nexport function likeReel(reelId: string): void {\n  socket?.emit('reel:like', { reelId });\n}\n\n/**\n * Create a reel comment via WebSocket\n */\nexport function createReelComment(\n  reelId: string,\n  content: string,\n  parentId?: string,\n  mentions?: string[]\n): void {\n  socket?.emit('reel:comment', { reelId, content, parentId, mentions });\n}\n\nexport default {\n  initializeSocket,\n  getSocket,\n  disconnectSocket,\n  joinPostRoom,\n  leavePostRoom,\n  likePost,\n  createComment,\n  likeComment,\n  votePoll,\n  updateLocation,\n  sendTypingIndicator,\n  // Chat functions\n  joinChatRoom,\n  leaveChatRoom,\n  sendChatMessage,\n  sendChatTyping,\n  markChatAsRead,\n  deleteChatMessage,\n  editChatMessage,\n  reactToChatMessage,\n  // Reel functions\n  joinReelRoom,\n  leaveReelRoom,\n  likeReel,\n  createReelComment,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 922, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/auth/useAuth.ts"],"sourcesContent":["import { useAuthContext } from './authContext';\nimport type { User, LoginCredentials, RegisterData, AuthResponse } from '@/types/auth';\n\nexport function useAuth() {\n  const context = useAuthContext();\n  \n  return {\n    user: context.user,\n    isAuthenticated: context.isAuthenticated,\n    loading: context.loading,\n    login: context.login,\n    logout: context.logout,\n    register: context.register,\n    setAuth: context.setAuth,\n    updateUser: context.updateUser,\n  };\n}\n\n"],"names":[],"mappings":";;;;AAAA;;AAGO,SAAS;IACd,MAAM,UAAU,IAAA,oJAAc;IAE9B,OAAO;QACL,MAAM,QAAQ,IAAI;QAClB,iBAAiB,QAAQ,eAAe;QACxC,SAAS,QAAQ,OAAO;QACxB,OAAO,QAAQ,KAAK;QACpB,QAAQ,QAAQ,MAAM;QACtB,UAAU,QAAQ,QAAQ;QAC1B,SAAS,QAAQ,OAAO;QACxB,YAAY,QAAQ,UAAU;IAChC;AACF"}},
    {"offset": {"line": 945, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/notifications/NotificationToast.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useCallback, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { X, Heart, MessageCircle, AtSign, UserPlus, ThumbsUp, PartyPopper, Lightbulb, HelpCircle } from 'lucide-react';\nimport { initializeSocket } from '@/lib/socket';\nimport { useAuth } from '@/lib/auth/useAuth';\nimport type { ReactionType } from '@/types/post';\n\ninterface Toast {\n  id: string;\n  type: 'reaction' | 'comment' | 'mention' | 'follow' | 'comment_like';\n  title: string;\n  message: string;\n  reactionType?: ReactionType;\n  avatarUrl?: string;\n  avatarFallback?: string;\n  postId?: string;\n  createdAt: Date;\n}\n\ninterface ToastContextType {\n  toasts: Toast[];\n  addToast: (toast: Omit<Toast, 'id' | 'createdAt'>) => void;\n  removeToast: (id: string) => void;\n}\n\nconst ToastContext = createContext<ToastContextType | null>(null);\n\nexport function useNotificationToasts() {\n  const context = useContext(ToastContext);\n  if (!context) {\n    throw new Error('useNotificationToasts must be used within NotificationToastProvider');\n  }\n  return context;\n}\n\n// Map reaction types to icons\nconst reactionIcons: Record<ReactionType, React.ElementType> = {\n  LIKE: ThumbsUp,\n  CELEBRATE: PartyPopper,\n  SUPPORT: Heart,\n  INSIGHTFUL: Lightbulb,\n  CURIOUS: HelpCircle,\n};\n\nconst reactionColors: Record<ReactionType, string> = {\n  LIKE: 'text-blue-500',\n  CELEBRATE: 'text-green-500',\n  SUPPORT: 'text-purple-500',\n  INSIGHTFUL: 'text-amber-500',\n  CURIOUS: 'text-pink-500',\n};\n\nexport function NotificationToastProvider({ children }: { children: React.ReactNode }) {\n  const [toasts, setToasts] = useState<Toast[]>([]);\n  const { user } = useAuth();\n\n  const addToast = useCallback((toast: Omit<Toast, 'id' | 'createdAt'>) => {\n    const id = `toast-${Date.now()}-${Math.random().toString(36).substring(2, 9)}`;\n    setToasts(prev => [...prev, { ...toast, id, createdAt: new Date() }]);\n    \n    // Auto-remove after 5 seconds\n    setTimeout(() => {\n      setToasts(prev => prev.filter(t => t.id !== id));\n    }, 5000);\n  }, []);\n\n  const removeToast = useCallback((id: string) => {\n    setToasts(prev => prev.filter(t => t.id !== id));\n  }, []);\n\n  // Listen for real-time notifications\n  useEffect(() => {\n    if (!user) return;\n\n    const socket = initializeSocket({\n      onNotificationReaction: (data: any) => {\n        addToast({\n          type: 'reaction',\n          title: 'New Reaction',\n          message: `Someone reacted to your post`,\n          reactionType: data.reactionType,\n          postId: data.postId,\n        });\n      },\n      onNotificationLike: (data: any) => {\n        addToast({\n          type: 'reaction',\n          title: 'New Like',\n          message: `Someone liked your post`,\n          reactionType: 'LIKE',\n          postId: data.postId,\n        });\n      },\n      onNotificationComment: (data: any) => {\n        addToast({\n          type: 'comment',\n          title: 'New Comment',\n          message: `Someone commented on your post`,\n          postId: data.postId,\n        });\n      },\n      onNotificationMention: (data: any) => {\n        addToast({\n          type: 'mention',\n          title: 'New Mention',\n          message: `You were mentioned in a comment`,\n          postId: data.postId,\n        });\n      },\n      onNotificationCommentLike: (data: any) => {\n        addToast({\n          type: 'comment_like',\n          title: 'Comment Liked',\n          message: `Someone liked your comment`,\n          postId: data.postId,\n        });\n      },\n    });\n\n    return () => {\n      // Cleanup will be handled by the socket singleton\n    };\n  }, [user, addToast]);\n\n  return (\n    <ToastContext.Provider value={{ toasts, addToast, removeToast }}>\n      {children}\n      <NotificationToasts />\n    </ToastContext.Provider>\n  );\n}\n\nfunction NotificationToasts() {\n  const { toasts, removeToast } = useNotificationToasts();\n\n  return (\n    <div className=\"fixed bottom-4 right-4 z-[100] flex flex-col gap-2 max-w-sm\">\n      <AnimatePresence mode=\"popLayout\">\n        {toasts.map((toast) => (\n          <ToastItem key={toast.id} toast={toast} onClose={() => removeToast(toast.id)} />\n        ))}\n      </AnimatePresence>\n    </div>\n  );\n}\n\nfunction ToastItem({ toast, onClose }: { toast: Toast; onClose: () => void }) {\n  const getIcon = () => {\n    switch (toast.type) {\n      case 'reaction':\n        if (toast.reactionType) {\n          const Icon = reactionIcons[toast.reactionType];\n          return <Icon className={`w-5 h-5 ${reactionColors[toast.reactionType]}`} />;\n        }\n        return <ThumbsUp className=\"w-5 h-5 text-blue-500\" />;\n      case 'comment':\n        return <MessageCircle className=\"w-5 h-5 text-blue-500\" />;\n      case 'mention':\n        return <AtSign className=\"w-5 h-5 text-purple-500\" />;\n      case 'follow':\n        return <UserPlus className=\"w-5 h-5 text-green-500\" />;\n      case 'comment_like':\n        return <Heart className=\"w-5 h-5 text-red-500\" />;\n      default:\n        return <Heart className=\"w-5 h-5 text-red-500\" />;\n    }\n  };\n\n  const getBgColor = () => {\n    switch (toast.type) {\n      case 'reaction':\n        return 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800';\n      case 'comment':\n        return 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800';\n      case 'mention':\n        return 'bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800';\n      case 'follow':\n        return 'bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800';\n      case 'comment_like':\n        return 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800';\n      default:\n        return 'bg-gray-50 dark:bg-neutral-800 border-gray-200 dark:border-neutral-700';\n    }\n  };\n\n  return (\n    <motion.div\n      layout\n      initial={{ opacity: 0, y: 50, scale: 0.95 }}\n      animate={{ opacity: 1, y: 0, scale: 1 }}\n      exit={{ opacity: 0, x: 100, scale: 0.95 }}\n      transition={{ type: 'spring', damping: 25, stiffness: 400 }}\n      className={`relative flex items-start gap-3 p-4 rounded-xl border shadow-lg ${getBgColor()}`}\n    >\n      {/* Icon */}\n      <div className=\"flex-shrink-0 p-2 rounded-full bg-white dark:bg-neutral-900\">\n        {getIcon()}\n      </div>\n\n      {/* Content */}\n      <div className=\"flex-1 min-w-0\">\n        <p className=\"font-medium text-gray-900 dark:text-white text-sm\">\n          {toast.title}\n        </p>\n        <p className=\"text-sm text-gray-600 dark:text-neutral-400 truncate\">\n          {toast.message}\n        </p>\n      </div>\n\n      {/* Close Button */}\n      <button\n        onClick={onClose}\n        className=\"flex-shrink-0 p-1 rounded-full hover:bg-gray-200 dark:hover:bg-neutral-700 transition-colors\"\n      >\n        <X className=\"w-4 h-4 text-gray-500 dark:text-neutral-400\" />\n      </button>\n\n      {/* Progress Bar */}\n      <motion.div\n        initial={{ width: '100%' }}\n        animate={{ width: '0%' }}\n        transition={{ duration: 5, ease: 'linear' }}\n        className=\"absolute bottom-0 left-0 h-1 bg-blue-500 rounded-b-xl\"\n      />\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1295, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 1328, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/ui/BottomNavigation.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Link from 'next/link';\n\nimport { cn } from '@/lib/utils';\n\ninterface NavItem {\n    title: string;\n    href: string;\n    icon: React.ReactNode;\n    isActive?: boolean;\n    onClick?: () => void;\n    badge?: number;\n}\n\ninterface BottomNavigationProps {\n    items: NavItem[];\n    className?: string;\n}\n\nexport function BottomNavigation({ items, className }: BottomNavigationProps) {\n\n\n    const handleVibrate = () => {\n        if (typeof navigator !== 'undefined' && navigator.vibrate) {\n            navigator.vibrate(10);\n        }\n    };\n\n    return (\n        <div className={cn(\n            \"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50\",\n            \"w-[calc(100vw-32px)] max-w-[400px]\",\n            \"h-[72px]\", // Height 60-72px\n            \"bg-[#1e1e1e]/90 backdrop-blur-md\", // Dark background with blur\n            \"rounded-[28px]\", // Border radius 24-28px\n            \"shadow-xl shadow-black/20\", // Elevated shadow\n            \"flex items-center justify-between px-2\",\n            \"safe-area-inset-bottom\",\n            className\n        )}>\n            {items.map((item, index) => {\n                const isActive = item.isActive;\n\n                return (\n                    <div key={item.href + index} className=\"relative flex-1 flex items-center justify-center h-full\">\n                        {isActive && (\n                            <motion.div\n                                layoutId=\"active-pill\"\n                                className=\"absolute bg-[#9EFF00] rounded-[24px]\"\n                                initial={false}\n                                transition={{ type: \"spring\", stiffness: 300, damping: 30 }}\n                                style={{\n                                    width: '64px', // Approx pill width\n                                    height: '48px', // Pill height\n                                    zIndex: 0\n                                }}\n                            />\n                        )}\n\n                        <Link\n                            href={item.href}\n                            onClick={(e) => {\n                                handleVibrate();\n                                if (item.onClick) {\n                                    e.preventDefault();\n                                    item.onClick();\n                                }\n                            }}\n                            className={cn(\n                                \"relative z-10 flex items-center justify-center w-full h-full\",\n                                \"transition-colors duration-300\",\n                                isActive ? \"text-[#1E1E1E]\" : \"text-white/60 hover:text-white\"\n                            )}\n                        >\n                            <motion.div\n                                whileTap={{ scale: 0.9 }}\n                                className=\"flex flex-col items-center justify-center w-full h-full\"\n                            >\n                                {/* Icon Container */}\n                                <div className=\"relative\">\n                                    <div className={cn(\"w-6 h-6\", isActive ? \"text-[#1E1E1E]\" : \"text-current\")}>\n                                        {item.icon}\n                                    </div>\n\n                                    {/* Badge */}\n                                    {item.badge && item.badge > 0 && (\n                                        <span className=\"absolute -top-1 -right-1.5 flex h-4 min-w-4 items-center justify-center rounded-full bg-red-500 px-1 text-[10px] font-bold text-white ring-2 ring-[#1E1E1E]\">\n                                            {item.badge > 9 ? '9+' : item.badge}\n                                        </span>\n                                    )}\n                                </div>\n\n                                {/* Label */}\n                                <span className={cn(\n                                    \"text-[10px] font-medium transition-all duration-300 mt-1\",\n                                    isActive ? \"text-[#1E1E1E] font-bold\" : \"text-white/60\"\n                                )}>\n                                    {item.title}\n                                </span>\n                            </motion.div>\n                        </Link>\n                    </div>\n                );\n            })}\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AANA;;;;;AAsBO,SAAS,iBAAiB,EAAE,KAAK,EAAE,SAAS,EAAyB;IAGxE,MAAM,gBAAgB;QAClB,IAAI,OAAO,cAAc,eAAe,UAAU,OAAO,EAAE;YACvD,UAAU,OAAO,CAAC;QACtB;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAW,IAAA,yHAAE,EACd,2DACA,sCACA,YACA,oCACA,kBACA,6BACA,0CACA,0BACA;kBAEC,MAAM,GAAG,CAAC,CAAC,MAAM;YACd,MAAM,WAAW,KAAK,QAAQ;YAE9B,qBACI,8OAAC;gBAA4B,WAAU;;oBAClC,0BACG,8OAAC,oMAAM,CAAC,GAAG;wBACP,UAAS;wBACT,WAAU;wBACV,SAAS;wBACT,YAAY;4BAAE,MAAM;4BAAU,WAAW;4BAAK,SAAS;wBAAG;wBAC1D,OAAO;4BACH,OAAO;4BACP,QAAQ;4BACR,QAAQ;wBACZ;;;;;;kCAIR,8OAAC,uKAAI;wBACD,MAAM,KAAK,IAAI;wBACf,SAAS,CAAC;4BACN;4BACA,IAAI,KAAK,OAAO,EAAE;gCACd,EAAE,cAAc;gCAChB,KAAK,OAAO;4BAChB;wBACJ;wBACA,WAAW,IAAA,yHAAE,EACT,gEACA,kCACA,WAAW,mBAAmB;kCAGlC,cAAA,8OAAC,oMAAM,CAAC,GAAG;4BACP,UAAU;gCAAE,OAAO;4BAAI;4BACvB,WAAU;;8CAGV,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAW,IAAA,yHAAE,EAAC,WAAW,WAAW,mBAAmB;sDACvD,KAAK,IAAI;;;;;;wCAIb,KAAK,KAAK,IAAI,KAAK,KAAK,GAAG,mBACxB,8OAAC;4CAAK,WAAU;sDACX,KAAK,KAAK,GAAG,IAAI,OAAO,KAAK,KAAK;;;;;;;;;;;;8CAM/C,8OAAC;oCAAK,WAAW,IAAA,yHAAE,EACf,4DACA,WAAW,6BAA6B;8CAEvC,KAAK,KAAK;;;;;;;;;;;;;;;;;;eArDjB,KAAK,IAAI,GAAG;;;;;QA2D9B;;;;;;AAGZ"}},
    {"offset": {"line": 1450, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/ui/dock.tsx"],"sourcesContent":["'use client';\n\nimport {\n  motion,\n  MotionValue,\n  useMotionValue,\n  useSpring,\n  useTransform,\n  type SpringOptions,\n  AnimatePresence,\n} from 'framer-motion';\nimport {\n  Children,\n  cloneElement,\n  createContext,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { cn } from '@/lib/utils';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport { HomeIcon, Users, Plus, Bell, MessageCircle, UsersRound, MoreHorizontal, Film } from 'lucide-react';\nimport dynamic from 'next/dynamic';\nimport { useAuth } from '@/lib/auth/useAuth';\nimport { BottomNavigation } from './BottomNavigation';\n\n// Dynamically import CreatePostModal to avoid circular dependencies\nconst CreatePostModal = dynamic(() => import('@/components/feed/CreatePostModal'), {\n  ssr: false,\n});\n\n\nconst DOCK_HEIGHT = 128;\nconst DEFAULT_MAGNIFICATION = 80;\nconst DEFAULT_DISTANCE = 150;\nconst DEFAULT_PANEL_HEIGHT = 64;\n\ntype DockProps = {\n  children: React.ReactNode;\n  className?: string;\n  distance?: number;\n  panelHeight?: number;\n  magnification?: number;\n  spring?: SpringOptions;\n};\n\ntype DockItemProps = {\n  className?: string;\n  children: React.ReactNode;\n  href?: string;\n  isActive?: boolean;\n};\n\ntype DockLabelProps = {\n  className?: string;\n  children: React.ReactNode;\n  isHovered?: MotionValue<number>;\n};\n\ntype DockIconProps = {\n  className?: string;\n  children: React.ReactNode;\n  width?: MotionValue<number>;\n};\n\ntype DockContextType = {\n  mouseX: MotionValue;\n  spring: SpringOptions;\n  magnification: number;\n  distance: number;\n};\n\ntype DockProviderProps = {\n  children: React.ReactNode;\n  value: DockContextType;\n};\n\nconst DockContext = createContext<DockContextType | undefined>(undefined);\n\nfunction DockProvider({ children, value }: DockProviderProps) {\n  return <DockContext.Provider value={value}>{children}</DockContext.Provider>;\n}\n\nfunction useDock() {\n  const context = useContext(DockContext);\n  if (!context) {\n    throw new Error('useDock must be used within a DockProvider');\n  }\n  return context;\n}\n\nfunction Dock({\n  children,\n  className,\n  spring = { mass: 0.1, stiffness: 150, damping: 12 },\n  magnification = DEFAULT_MAGNIFICATION,\n  distance = DEFAULT_DISTANCE,\n  panelHeight = DEFAULT_PANEL_HEIGHT,\n}: DockProps) {\n  const mouseX = useMotionValue(Infinity);\n  const isHovered = useMotionValue(0);\n  const maxHeight = useMemo(() => {\n    return Math.max(DOCK_HEIGHT, magnification + magnification / 2 + 4);\n  }, [magnification]);\n  const heightRow = useTransform(isHovered, [0, 1], [panelHeight, maxHeight]);\n  const height = useSpring(heightRow, spring);\n\n  return (\n    <motion.div\n      style={{\n        height: height,\n        scrollbarWidth: 'none',\n      }}\n      className=\"mx-2 flex max-w-full items-end overflow-x-auto\"\n    >\n      <motion.div\n        onMouseMove={({ pageX }) => {\n          isHovered.set(1);\n          mouseX.set(pageX);\n        }}\n        onMouseLeave={() => {\n          isHovered.set(0);\n          mouseX.set(Infinity);\n        }}\n        className={cn(\n          'mx-auto flex w-fit gap-4 rounded-2xl bg-gray-50 px-4 dark:bg-neutral-900 border border-gray-200 dark:border-neutral-800',\n          className\n        )}\n        style={{ height: panelHeight }}\n        role=\"toolbar\"\n        aria-label=\"Application dock\"\n      >\n        <DockProvider value={{ mouseX, spring, distance, magnification }}>\n          {children}\n        </DockProvider>\n      </motion.div>\n    </motion.div>\n  );\n}\n\nfunction DockItem({ children, className, href, isActive }: DockItemProps) {\n  const ref = useRef<HTMLDivElement>(null);\n  const { distance, magnification, mouseX, spring } = useDock();\n  const isHovered = useMotionValue(0);\n  const mouseDistance = useTransform(mouseX, (val) => {\n    const domRect = ref.current?.getBoundingClientRect() ?? { x: 0, width: 0 };\n    return val - domRect.x - domRect.width / 2;\n  });\n  const widthTransform = useTransform(\n    mouseDistance,\n    [-distance, 0, distance],\n    [40, magnification, 40]\n  );\n  const width = useSpring(widthTransform, spring);\n\n  const content = (\n    <motion.div\n      ref={ref}\n      style={{ width }}\n      onHoverStart={() => isHovered.set(1)}\n      onHoverEnd={() => isHovered.set(0)}\n      onFocus={() => isHovered.set(1)}\n      onBlur={() => isHovered.set(0)}\n      className={cn(\n        'relative inline-flex items-center justify-center',\n        isActive && 'ring-2 ring-blue-500 dark:ring-blue-400 rounded-full',\n        className\n      )}\n      tabIndex={0}\n      role=\"button\"\n      aria-haspopup=\"true\"\n    >\n      {Children.map(children, (child) =>\n        cloneElement(child as React.ReactElement<DockIconProps | DockLabelProps>, {\n          width,\n          isHovered\n        } as Partial<DockIconProps & DockLabelProps>)\n      )}\n    </motion.div>\n  );\n\n  if (href) {\n    return (\n      <Link href={href} className=\"flex items-center justify-center\">\n        {content}\n      </Link>\n    );\n  }\n\n  return content;\n}\n\nfunction DockLabel({ children, className, isHovered, ...rest }: DockLabelProps) {\n  const [isVisible, setIsVisible] = useState(false);\n\n  useEffect(() => {\n    if (!isHovered) return;\n    const unsubscribe = isHovered.on('change', (latest) => {\n      setIsVisible(latest === 1);\n    });\n    return () => unsubscribe();\n  }, [isHovered]);\n\n  return (\n    <AnimatePresence>\n      {isVisible && (\n        <motion.div\n          initial={{ opacity: 0, y: 0 }}\n          animate={{ opacity: 1, y: -10 }}\n          exit={{ opacity: 0, y: 0 }}\n          transition={{ duration: 0.2 }}\n          className={cn(\n            'absolute -top-6 left-1/2 w-fit whitespace-pre rounded-md border border-gray-200 bg-gray-100 px-2 py-0.5 text-xs text-neutral-700 dark:border-neutral-900 dark:bg-neutral-800 dark:text-white',\n            className\n          )}\n          role=\"tooltip\"\n          style={{ x: '-50%' }}\n        >\n          {children}\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n\nfunction DockIcon({ children, className, width, ...rest }: DockIconProps) {\n  const defaultWidth = useMotionValue(40);\n  const widthValue = width || defaultWidth;\n  const widthTransform = useTransform(widthValue, (val) => val / 2);\n  return (\n    <motion.div\n      style={{ width: widthTransform }}\n      className={cn('flex items-center justify-center', className)}\n    >\n      {children}\n    </motion.div>\n  );\n}\n\n// Vormex Dock Navigation Component\nexport function VormexDock() {\n  const pathname = usePathname();\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const { user } = useAuth();\n\n  // Hide dock on login and auth pages\n  const authPages = ['/login', '/forgot-password', '/reset-password', '/verify-email'];\n  if (authPages.includes(pathname)) {\n    return null;\n  }\n\n  // Profile picture component\n  const ProfilePicture = ({ size = 'full' }: { size?: 'full' | 'small' }) => {\n    const sizeClass = size === 'small' ? 'w-6 h-6' : 'h-full w-full';\n\n    if (user?.profileImage) {\n      return (\n        <img\n          src={user.profileImage}\n          alt={user.name || 'Profile'}\n          className={`${sizeClass} rounded-full object-cover`}\n        />\n      );\n    }\n\n    // Fallback to initials\n    return (\n      <div className={`${sizeClass} rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center`}>\n        <span className={`text-white font-semibold ${size === 'small' ? 'text-xs' : 'text-sm'}`}>\n          {user?.name?.charAt(0)?.toUpperCase() || '?'}\n        </span>\n      </div>\n    );\n  };\n\n  const navItems: Array<{\n    title: string;\n    href: string;\n    icon: React.ReactElement;\n    isCreate?: boolean;\n    isProfile?: boolean;\n    badge?: number;\n  }> = [\n      {\n        title: 'Home',\n        href: '/',\n        icon: <HomeIcon className=\"h-full w-full text-neutral-600 dark:text-neutral-300\" />,\n      },\n      {\n        title: 'Reels',\n        href: '/reels',\n        icon: <Film className=\"h-full w-full text-neutral-600 dark:text-neutral-300\" />,\n      },\n      {\n        title: 'Find People',\n        href: '/find-people',\n        icon: <Users className=\"h-full w-full text-neutral-600 dark:text-neutral-300\" />,\n      },\n      {\n        title: 'Groups',\n        href: '/groups',\n        icon: <UsersRound className=\"h-full w-full text-neutral-600 dark:text-neutral-300\" />,\n      },\n      {\n        title: 'Create',\n        href: '#create',\n        icon: <Plus className=\"h-full w-full text-neutral-600 dark:text-neutral-300\" />,\n        isCreate: true,\n      },\n      {\n        title: 'Messages',\n        href: '/messages',\n        icon: <MessageCircle className=\"h-full w-full text-neutral-600 dark:text-neutral-300\" />,\n      },\n      {\n        title: 'Notifications',\n        href: '/notifications',\n        icon: <Bell className=\"h-full w-full text-neutral-600 dark:text-neutral-300\" />,\n      },\n      {\n        title: 'More',\n        href: '/more',\n        icon: <MoreHorizontal className=\"h-full w-full text-neutral-600 dark:text-neutral-300\" />,\n      },\n      {\n        title: 'Profile',\n        href: '/profile',\n        icon: <ProfilePicture />,\n        isProfile: true,\n      },\n    ];\n\n  const isActive = (href: string) => {\n    if (href === '/') {\n      return pathname === '/';\n    }\n    if (href === '#create') {\n      return false;\n    }\n    return pathname.startsWith(href);\n  };\n\n  return (\n    <>\n      <div className=\"hidden lg:block fixed bottom-4 left-1/2 -translate-x-1/2 z-50 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-md rounded-2xl px-4 py-2 shadow-lg border border-white/20 dark:border-neutral-800/50\">\n        <Dock className=\"items-end pb-3\">\n          {navItems.map((item) => (\n            item.isCreate ? (\n              <div\n                key={item.href}\n                onClick={() => setShowCreateModal(true)}\n                className=\"cursor-pointer\"\n              >\n                <DockItem\n                  isActive={false}\n                  className=\"aspect-square rounded-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 transition-colors\"\n                >\n                  <DockLabel>{item.title}</DockLabel>\n                  <DockIcon>\n                    <Plus className=\"h-full w-full text-white\" />\n                  </DockIcon>\n                </DockItem>\n              </div>\n            ) : item.isProfile ? (\n              <DockItem\n                key={item.href}\n                href={item.href}\n                isActive={isActive(item.href)}\n                className={`aspect-square rounded-full overflow-hidden ${isActive(item.href)\n                    ? 'ring-2 ring-blue-500 ring-offset-2 ring-offset-white dark:ring-offset-neutral-900'\n                    : 'hover:ring-2 hover:ring-gray-300 dark:hover:ring-neutral-600'\n                  } transition-all`}\n              >\n                <DockLabel>{item.title}</DockLabel>\n                <DockIcon>{item.icon}</DockIcon>\n              </DockItem>\n            ) : (\n              <DockItem\n                key={item.href}\n                href={item.href}\n                isActive={isActive(item.href)}\n                className=\"aspect-square rounded-full bg-gray-200 dark:bg-neutral-800 hover:bg-gray-300 dark:hover:bg-neutral-700 transition-colors\"\n              >\n                <DockLabel>{item.title}</DockLabel>\n                <DockIcon>{item.icon}</DockIcon>\n              </DockItem>\n            )\n          ))}\n        </Dock>\n      </div>\n\n      {/* Mobile Bottom Navigation */}\n      <BottomNavigation\n        className=\"lg:hidden\"\n        items={[\n          {\n            title: 'Home',\n            href: '/',\n            icon: <HomeIcon className=\"w-full h-full\" />,\n            isActive: pathname === '/'\n          },\n          {\n            title: 'Reels',\n            href: '/reels',\n            icon: <Film className=\"w-full h-full\" />,\n            isActive: pathname.startsWith('/reels')\n          },\n          {\n            title: 'Create',\n            href: '#create',\n            icon: <Plus className=\"w-full h-full\" />,\n            isActive: false,\n            onClick: () => setShowCreateModal(true)\n          },\n          {\n            title: 'Messages',\n            href: '/messages',\n            icon: <MessageCircle className=\"w-full h-full\" />,\n            isActive: pathname.startsWith('/messages')\n          },\n          {\n            title: 'Profile',\n            href: '/profile',\n            icon: <ProfilePicture size=\"small\" />,\n            isActive: pathname.startsWith('/profile')\n          }\n        ]}\n      />\n\n      {/* Create Post Modal */}\n      <CreatePostModal\n        isOpen={showCreateModal}\n        onClose={() => setShowCreateModal(false)}\n      />\n\n    </>\n  );\n}\n\nexport { Dock, DockIcon, DockItem, DockLabel };\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2051, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/agent/AgentContext.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useState, useCallback } from 'react';\n\ninterface AgentContextType {\n  isOpen: boolean;\n  openAgent: () => void;\n  closeAgent: () => void;\n  toggleAgent: () => void;\n}\n\nconst AgentContext = createContext<AgentContextType | undefined>(undefined);\n\nexport function AgentProvider({ children }: { children: React.ReactNode }) {\n  const [isOpen, setIsOpen] = useState(false);\n  const openAgent = useCallback(() => setIsOpen(true), []);\n  const closeAgent = useCallback(() => setIsOpen(false), []);\n  const toggleAgent = useCallback(() => setIsOpen((prev) => !prev), []);\n\n  return (\n    <AgentContext.Provider\n      value={{ isOpen, openAgent, closeAgent, toggleAgent }}\n    >\n      {children}\n    </AgentContext.Provider>\n  );\n}\n\nexport function useAgent(): AgentContextType {\n  const ctx = useContext(AgentContext);\n  if (!ctx) {\n    return {\n      isOpen: false,\n      openAgent: () => {},\n      closeAgent: () => {},\n      toggleAgent: () => {},\n    };\n  }\n  return ctx;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AAFA;;;AAWA,MAAM,6BAAe,IAAA,sNAAa,EAA+B;AAE1D,SAAS,cAAc,EAAE,QAAQ,EAAiC;IACvE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC;IACrC,MAAM,YAAY,IAAA,oNAAW,EAAC,IAAM,UAAU,OAAO,EAAE;IACvD,MAAM,aAAa,IAAA,oNAAW,EAAC,IAAM,UAAU,QAAQ,EAAE;IACzD,MAAM,cAAc,IAAA,oNAAW,EAAC,IAAM,UAAU,CAAC,OAAS,CAAC,OAAO,EAAE;IAEpE,qBACE,8OAAC,aAAa,QAAQ;QACpB,OAAO;YAAE;YAAQ;YAAW;YAAY;QAAY;kBAEnD;;;;;;AAGP;AAEO,SAAS;IACd,MAAM,MAAM,IAAA,mNAAU,EAAC;IACvB,IAAI,CAAC,KAAK;QACR,OAAO;YACL,QAAQ;YACR,WAAW,KAAO;YAClB,YAAY,KAAO;YACnB,aAAa,KAAO;QACtB;IACF;IACA,OAAO;AACT"}},
    {"offset": {"line": 2098, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/lib/api/engagement.ts"],"sourcesContent":["import apiClient from './client';\n\n// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n// TYPES\n// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n\nexport interface StreakData {\n  connectionStreak: number;\n  longestConnectionStreak: number;\n  loginStreak: number;\n  longestLoginStreak: number;\n  postingStreak: number;\n  longestPostingStreak: number;\n  messagingStreak: number;\n  longestMessagingStreak: number;\n  overallBestStreak: number;\n  weeklyConnectionsMade: number;\n  weeklyConnectionsGoal: number;\n  streakFreezes: number;\n  streakShieldActive: boolean;\n  totalFreezesUsed: number;\n  isAtRisk: Record<string, boolean>;\n  engagementScore: number;\n  showOnProfile: boolean;\n}\n\nexport interface PublicStreakData {\n  visible: boolean;\n  bestCurrentStreak: number | null;\n  overallBestStreak: number | null;\n  streaks: {\n    connection: { current: number; longest: number };\n    login: { current: number; longest: number };\n    posting: { current: number; longest: number };\n    messaging: { current: number; longest: number };\n  } | null;\n  engagementScore: number | null;\n}\n\nexport interface StreakHistoryItem {\n  id: string;\n  streakId: string;\n  userId: string;\n  streakType: string;\n  event: string;\n  streakBefore: number;\n  streakAfter: number;\n  milestoneDay: number | null;\n  badgeSlug: string | null;\n  xpEarned: number;\n  createdAt: string;\n}\n\nexport type StreakType = 'connection' | 'login' | 'posting' | 'messaging';\n\nexport interface StreakLeaderboardEntry {\n  rank: number;\n  user: {\n    id: string;\n    username: string;\n    name: string;\n    profileImage: string | null;\n    college: string | null;\n  };\n  currentStreak: number;\n  longestStreak: number;\n}\n\nexport interface StreakLeaderboardResponse {\n  streakType: string;\n  leaderboard: StreakLeaderboardEntry[];\n  updatedAt: string | null;\n}\n\nexport interface StreakFreezeResponse {\n  message: string;\n  freezesRemaining: number;\n  xpSpent: number;\n}\n\nexport interface StreakShieldResponse {\n  message: string;\n  shieldActive: boolean;\n}\n\nexport interface StreakVisibilityResponse {\n  message: string;\n  showOnProfile: boolean;\n}\n\nexport interface ConnectionReward {\n  animationType: string;\n  showConfetti: boolean;\n  celebrationMessage: string;\n  receiverReplyRate: number;\n  replyRateMessage: string;\n}\n\nexport interface DailyMatch {\n  id: string;\n  username: string;\n  name: string;\n  profileImage: string | null;\n  headline: string | null;\n  college: string | null;\n  interests: string[];\n  isOnline: boolean;\n  replyRate: number;\n}\n\nexport interface DailyMatchesResponse {\n  matches: DailyMatch[];\n  matchCount: number;\n  surpriseMessage?: string;\n}\n\nexport type HiddenGemResponse = {\n  match: DailyMatch;\n  message: string;\n} | null;\n\nexport interface LiveActivity {\n  activeUsersNow: number;\n  connectionsToday: number;\n  newUsersToday: number;\n  locationLabel: string;\n}\n\nexport interface LeaderboardEntry {\n  id: string;\n  username: string;\n  name: string;\n  profileImage: string | null;\n  college: string | null;\n  connectionCount: number;\n}\n\nexport interface LeaderboardResponse {\n  period: string;\n  leaderboard: LeaderboardEntry[];\n  updatedAt: string;\n}\n\nexport interface ProgressNudge {\n  type: string;\n  message: string;\n  progress: number;\n  target: number;\n  icon: string;\n}\n\nexport interface WeeklyGoals {\n  id: string;\n  weekStart: string;\n  connectionsTarget: number;\n  postsTarget: number;\n  messagesTarget: number;\n  connectionsMade: number;\n  postsMade: number;\n  messagesSent: number;\n  isCompleted: boolean;\n  xpEarned: number;\n  connectionsProgress: number;\n  postsProgress: number;\n  messagesProgress: number;\n}\n\nexport interface ConnectionLimit {\n  canSend: boolean;\n  remaining: number;\n  limit: number;\n  resetsAt: string;\n}\n\nexport interface SessionSummary {\n  connectionsAccepted: number;\n  newPosts: number;\n  messagesCount: number;\n  message: string;\n  emoji: string;\n}\n\nexport interface CelebrationData {\n  otherUser: {\n    name: string;\n    profileImage: string | null;\n    username: string;\n  };\n  mutualConnections: number;\n  celebrationMessage: string;\n  showConfetti: boolean;\n}\n\nexport interface EngagementDashboard {\n  streaks: StreakData;\n  weeklyGoals: WeeklyGoals;\n  nudges: ProgressNudge[];\n  connectionLimit: ConnectionLimit;\n  liveActivity: LiveActivity;\n  trending: {\n    isActive: boolean;\n    message?: string;\n    viewCount?: number;\n  };\n}\n\n// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n// API CALLS\n// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n\nexport const getEngagementDashboard = async (): Promise<EngagementDashboard> => {\n  const res = await apiClient.get('/engagement/dashboard');\n  return res.data;\n};\n\nexport const getStreaks = async (): Promise<StreakData> => {\n  const res = await apiClient.get('/engagement/streaks');\n  return res.data;\n};\n\nexport const recordLogin = async (): Promise<void> => {\n  await apiClient.post('/engagement/login');\n};\n\nexport const getDailyMatches = async (): Promise<DailyMatchesResponse> => {\n  const res = await apiClient.get('/engagement/daily-matches');\n  return res.data;\n};\n\nexport const getHiddenGem = async (): Promise<HiddenGemResponse> => {\n  const res = await apiClient.get('/engagement/hidden-gem');\n  return res.data;\n};\n\nexport const getLiveActivity = async (location?: string): Promise<LiveActivity> => {\n  const res = await apiClient.get('/engagement/live-activity', {\n    params: location ? { location } : {},\n  });\n  return res.data;\n};\n\nexport const getLeaderboard = async (\n  period: 'weekly' | 'monthly' = 'weekly',\n  limit: number = 10\n): Promise<LeaderboardResponse> => {\n  const res = await apiClient.get('/engagement/leaderboard', {\n    params: { period, limit },\n  });\n  // Backend returns { data: { period, leaderboard, updatedAt } }; apiClient returns response.data\n  const payload = (res as { data?: LeaderboardResponse }).data ?? res;\n  return payload as LeaderboardResponse;\n};\n\nexport const getNudges = async (): Promise<ProgressNudge[]> => {\n  const res = await apiClient.get('/engagement/nudges');\n  return res.data;\n};\n\nexport const getWeeklyGoals = async (): Promise<WeeklyGoals> => {\n  const res = await apiClient.get('/engagement/weekly-goals');\n  return res.data;\n};\n\nexport const getConnectionLimit = async (): Promise<ConnectionLimit> => {\n  const res = await apiClient.get('/engagement/connection-limit');\n  return res.data;\n};\n\nexport const getSessionSummary = async (): Promise<SessionSummary> => {\n  const res = await apiClient.get('/engagement/session-summary');\n  return res.data;\n};\n\nexport const getConnectionCelebration = async (connectionId: string): Promise<CelebrationData | null> => {\n  const res = await apiClient.get(`/engagement/celebration/${connectionId}`);\n  return res.data;\n};\n\nexport const getRecentJoins = async (groupId?: string): Promise<{ count: number; label: string }> => {\n  const res = await apiClient.get('/engagement/recent-joins', {\n    params: groupId ? { groupId } : {},\n  });\n  return res.data;\n};\n\n// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n// STREAK API CALLS\n// ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━\n\nexport const getPublicStreaks = async (userId: string): Promise<PublicStreakData> => {\n  const res = await apiClient.get(`/engagement/streaks/${userId}`);\n  return res.data;\n};\n\nexport const purchaseStreakFreeze = async (): Promise<StreakFreezeResponse> => {\n  const res = await apiClient.post('/engagement/streaks/freeze');\n  return res.data;\n};\n\nexport const toggleStreakShield = async (): Promise<StreakShieldResponse> => {\n  const res = await apiClient.post('/engagement/streaks/shield');\n  return res.data;\n};\n\nexport const getStreakHistory = async (limit: number = 20): Promise<StreakHistoryItem[]> => {\n  const res = await apiClient.get('/engagement/streaks/history', {\n    params: { limit },\n  });\n  return res.data;\n};\n\nexport const getStreakLeaderboard = async (\n  type: StreakType = 'connection',\n  limit: number = 20\n): Promise<StreakLeaderboardResponse> => {\n  const res = await apiClient.get('/engagement/streaks/leaderboard', {\n    params: { type, limit },\n  });\n  return res.data;\n};\n\nexport const toggleStreakVisibility = async (): Promise<StreakVisibilityResponse> => {\n  const res = await apiClient.post('/engagement/streaks/visibility');\n  return res.data;\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2243, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/engagement/ExitMessage.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { X } from 'lucide-react';\nimport { getSessionSummary, type SessionSummary } from '@/lib/api/engagement';\n\n/**\n * ExitMessage - Clean toast-style session summary\n * Subtle, professional design that doesn't feel intrusive\n */\nexport default function ExitMessage() {\n  const [summary, setSummary] = useState<SessionSummary | null>(null);\n  const [isVisible, setIsVisible] = useState(false);\n\n  const showExitMessage = useCallback(async () => {\n    try {\n      const data = await getSessionSummary();\n      setSummary(data);\n      setIsVisible(true);\n    } catch (error) {\n      console.error('Failed to fetch session summary:', error);\n    }\n  }, []);\n\n  useEffect(() => {\n    let inactivityTimer: NodeJS.Timeout;\n\n    const handleVisibilityChange = () => {\n      if (document.visibilityState === 'hidden') {\n        showExitMessage();\n      }\n    };\n\n    const resetInactivity = () => {\n      clearTimeout(inactivityTimer);\n      setIsVisible(false);\n      inactivityTimer = setTimeout(() => {\n        showExitMessage();\n      }, 5 * 60 * 1000);\n    };\n\n    document.addEventListener('visibilitychange', handleVisibilityChange);\n    document.addEventListener('mousemove', resetInactivity);\n    document.addEventListener('touchstart', resetInactivity);\n\n    resetInactivity();\n\n    return () => {\n      clearTimeout(inactivityTimer);\n      document.removeEventListener('visibilitychange', handleVisibilityChange);\n      document.removeEventListener('mousemove', resetInactivity);\n      document.removeEventListener('touchstart', resetInactivity);\n    };\n  }, [showExitMessage]);\n\n  if (!summary) return null;\n\n  const hasStats = summary.connectionsAccepted > 0 || summary.newPosts > 0 || summary.messagesCount > 0;\n\n  return (\n    <AnimatePresence>\n      {isVisible && (\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          exit={{ opacity: 0, y: 20 }}\n          transition={{ duration: 0.2 }}\n          className=\"fixed bottom-20 left-1/2 -translate-x-1/2 z-50 w-[90%] max-w-sm\"\n        >\n          <div className=\"bg-white dark:bg-neutral-900 rounded-xl px-4 py-3.5 shadow-lg border border-gray-200 dark:border-neutral-700 relative\">\n            <button\n              onClick={() => setIsVisible(false)}\n              className=\"absolute top-2.5 right-2.5 p-0.5 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded transition-colors\"\n            >\n              <X className=\"w-3.5 h-3.5 text-gray-300 dark:text-neutral-500\" />\n            </button>\n\n            <p className=\"text-sm text-gray-900 dark:text-white pr-6 leading-relaxed\">\n              {summary.message}\n            </p>\n\n            {hasStats && (\n              <div className=\"flex items-center gap-4 mt-2 text-xs text-gray-400 dark:text-neutral-500\">\n                {summary.connectionsAccepted > 0 && (\n                  <span>{summary.connectionsAccepted} connection{summary.connectionsAccepted > 1 ? 's' : ''}</span>\n                )}\n                {summary.newPosts > 0 && (\n                  <span>{summary.newPosts} post{summary.newPosts > 1 ? 's' : ''}</span>\n                )}\n                {summary.messagesCount > 0 && (\n                  <span>{summary.messagesCount} message{summary.messagesCount > 1 ? 's' : ''}</span>\n                )}\n              </div>\n            )}\n          </div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AALA;;;;;;AAWe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAwB;IAC9D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,MAAM,kBAAkB,IAAA,oNAAW,EAAC;QAClC,IAAI;YACF,MAAM,OAAO,MAAM,IAAA,oJAAiB;YACpC,WAAW;YACX,aAAa;QACf,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,oCAAoC;QACpD;IACF,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,IAAI;QAEJ,MAAM,yBAAyB;YAC7B,IAAI,SAAS,eAAe,KAAK,UAAU;gBACzC;YACF;QACF;QAEA,MAAM,kBAAkB;YACtB,aAAa;YACb,aAAa;YACb,kBAAkB,WAAW;gBAC3B;YACF,GAAG,IAAI,KAAK;QACd;QAEA,SAAS,gBAAgB,CAAC,oBAAoB;QAC9C,SAAS,gBAAgB,CAAC,aAAa;QACvC,SAAS,gBAAgB,CAAC,cAAc;QAExC;QAEA,OAAO;YACL,aAAa;YACb,SAAS,mBAAmB,CAAC,oBAAoB;YACjD,SAAS,mBAAmB,CAAC,aAAa;YAC1C,SAAS,mBAAmB,CAAC,cAAc;QAC7C;IACF,GAAG;QAAC;KAAgB;IAEpB,IAAI,CAAC,SAAS,OAAO;IAErB,MAAM,WAAW,QAAQ,mBAAmB,GAAG,KAAK,QAAQ,QAAQ,GAAG,KAAK,QAAQ,aAAa,GAAG;IAEpG,qBACE,8OAAC,4MAAe;kBACb,2BACC,8OAAC,oMAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAG;YAC7B,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAE;YAC5B,MAAM;gBAAE,SAAS;gBAAG,GAAG;YAAG;YAC1B,YAAY;gBAAE,UAAU;YAAI;YAC5B,WAAU;sBAEV,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,SAAS,IAAM,aAAa;wBAC5B,WAAU;kCAEV,cAAA,8OAAC,iMAAC;4BAAC,WAAU;;;;;;;;;;;kCAGf,8OAAC;wBAAE,WAAU;kCACV,QAAQ,OAAO;;;;;;oBAGjB,0BACC,8OAAC;wBAAI,WAAU;;4BACZ,QAAQ,mBAAmB,GAAG,mBAC7B,8OAAC;;oCAAM,QAAQ,mBAAmB;oCAAC;oCAAY,QAAQ,mBAAmB,GAAG,IAAI,MAAM;;;;;;;4BAExF,QAAQ,QAAQ,GAAG,mBAClB,8OAAC;;oCAAM,QAAQ,QAAQ;oCAAC;oCAAM,QAAQ,QAAQ,GAAG,IAAI,MAAM;;;;;;;4BAE5D,QAAQ,aAAa,GAAG,mBACvB,8OAAC;;oCAAM,QAAQ,aAAa;oCAAC;oCAAS,QAAQ,aAAa,GAAG,IAAI,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAS1F"}},
    {"offset": {"line": 2407, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/engagement/EngagementProvider.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useRef } from 'react';\nimport { useAuth } from '@/lib/auth/useAuth';\nimport { recordLogin } from '@/lib/api/engagement';\nimport ExitMessage from './ExitMessage';\n\n/**\n * EngagementProvider - Wraps the app to handle:\n * 1. Login streak tracking (Habit Loop cue)\n * 2. Exit message display (Peak-End Rule)\n * \n * Place inside AuthProvider in layout.tsx\n */\nexport default function EngagementProvider({ children }: { children: React.ReactNode }) {\n  const { user } = useAuth();\n  const loginRecorded = useRef(false);\n\n  // Record login for streak tracking\n  useEffect(() => {\n    if (user && !loginRecorded.current) {\n      loginRecorded.current = true;\n      recordLogin().catch(console.error);\n    }\n  }, [user]);\n\n  return (\n    <>\n      {children}\n      {/* Peak-End Rule: Show positive message when user exits */}\n      {user && <ExitMessage />}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAce,SAAS,mBAAmB,EAAE,QAAQ,EAAiC;IACpF,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,wIAAO;IACxB,MAAM,gBAAgB,IAAA,+MAAM,EAAC;IAE7B,mCAAmC;IACnC,IAAA,kNAAS,EAAC;QACR,IAAI,QAAQ,CAAC,cAAc,OAAO,EAAE;YAClC,cAAc,OAAO,GAAG;YACxB,IAAA,8IAAW,IAAG,KAAK,CAAC,QAAQ,KAAK;QACnC;IACF,GAAG;QAAC;KAAK;IAET,qBACE;;YACG;YAEA,sBAAQ,8OAAC,0JAAW;;;;;;;AAG3B"}}]
}
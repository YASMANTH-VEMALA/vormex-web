module.exports=[25015,a=>{"use strict";let b=(0,a.i(70106).default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);a.s(["Play",()=>b],25015)},210,a=>{"use strict";let b=(0,a.i(70106).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);a.s(["Clock",()=>b],41710)},92e3,a=>{"use strict";let b=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],92e3)},90925,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(3512);function f({children:a}){let{isAuthenticated:f,loading:g}=(0,e.useAuth)(),h=(0,d.useRouter)();return(c.default.useEffect(()=>{g||f||h.push("/login")},[f,g,h]),g)?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 dark:bg-neutral-950",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-gray-600 dark:text-neutral-400",children:"Loading..."})]})}):f?(0,b.jsx)(b.Fragment,{children:a}):null}a.s(["ProtectedRoute",()=>f])},1027,a=>{"use strict";let b=(0,a.i(70106).default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);a.s(["Zap",()=>b],1027)},50429,a=>{"use strict";let b=(0,a.i(70106).default)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);a.s(["Target",()=>b],50429)},83077,a=>{"use strict";let b=(0,a.i(70106).default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);a.s(["Trophy",()=>b],83077)},87654,a=>{"use strict";let b=(0,a.i(70106).default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);a.s(["RotateCcw",()=>b],87654)},80486,a=>{"use strict";let b=(0,a.i(70106).default)("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);a.s(["Keyboard",()=>b],80486)},72453,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(46271),f=a.i(210),g=a.i(80486),h=a.i(1027),i=a.i(83077),j=a.i(41710),k=a.i(87654),l=a.i(25015);let m=(0,a.i(70106).default)("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);var n=a.i(50429),o=a.i(92e3),p=a.i(90925),q=a.i(41729),r=a.i(44783);function s(){let[a,s]=(0,c.useState)([]),[t,u]=(0,c.useState)(0),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)("loading"),[z,A]=(0,c.useState)("MEDIUM"),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(0),[J,K]=(0,c.useState)(0),[L,M]=(0,c.useState)(new Set),[N,O]=(0,c.useState)(null),P=(0,c.useRef)(null),Q=(0,c.useRef)(null),R=a[t];(0,c.useEffect)(()=>{S()},[z]);let S=async()=>{y("loading");try{let a=await (0,q.getTypingTexts)(z);s(a.texts||[]),y("ready")}catch(a){console.error("Failed to fetch typing texts:",a),y("error")}},T=async()=>{if(R){w(""),K(0),M(new Set),E(null),G(null);try{let a=await (0,q.startTypingRace)(R.id);O(a.race.id),C(Date.now()),y("playing"),setTimeout(()=>{P.current?.focus()},100)}catch(a){console.error("Failed to start race:",a),C(Date.now()),y("playing"),setTimeout(()=>{P.current?.focus()},100)}}},U=(0,c.useCallback)((a,b,c)=>{let d=0,e=0;for(let c=0;c<a.length;c++)a[c]===b[c]?d++:e++;return{wpm:Math.round(d/5/(c/6e4)),accuracy:Math.round(d/a.length*100),correctChars:d,totalChars:a.length,errors:e,time:c}},[]),V=(0,c.useCallback)(a=>{if("playing"!==x||!R)return;let b=a.target.value,c=R.content;if(b.length>v.length){let a=b.length-1;b[a]!==c[a]&&M(b=>new Set([...b,a]))}if(w(b),K(b.length),b.length>=c.length){let a=Date.now();E(a);let d=U(b,c,a-(B||a));G(d),W(d),y("completed"),d.accuracy>=90&&d.wpm>=40&&(0,r.default)({particleCount:100,spread:70,origin:{y:.6}})}},[x,R,v,B,U]),W=async a=>{if(R&&N)try{let b=await (0,q.finishTypingRace)(N,{wpm:a.wpm,accuracy:a.accuracy,rawWpm:a.wpm,timeSpent:Math.round(a.time/1e3),mistakes:a.errors,charsTyped:a.totalChars});I(b.xpEarned)}catch(a){console.error("Failed to submit result:",a)}},X=()=>{w(""),K(0),M(new Set),C(null),E(null),G(null),O(null),y("ready")},Y=a=>{switch(a){case"EASY":return"bg-green-100 text-green-600 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800";case"MEDIUM":return"bg-amber-100 text-amber-600 border-amber-200 dark:bg-amber-900/30 dark:text-amber-400 dark:border-amber-800";case"HARD":return"bg-red-100 text-red-600 border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800";default:return"bg-gray-100 text-gray-600 border-gray-200"}},Z=a=>a>=80?{label:"Excellent!",color:"text-green-500"}:a>=60?{label:"Great!",color:"text-blue-500"}:a>=40?{label:"Good",color:"text-amber-500"}:{label:"Keep Practicing",color:"text-gray-500"};return(0,b.jsx)(p.ProtectedRoute,{children:(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,b.jsx)("div",{className:"sticky top-0 z-50 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-b border-gray-200 dark:border-gray-800",children:(0,b.jsx)("div",{className:"max-w-3xl mx-auto px-4 py-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(d.default,{href:"/more/games",className:"p-2 -ml-2 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,b.jsx)(f.ArrowLeft,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,b.jsxs)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,b.jsx)(g.Keyboard,{className:"w-6 h-6 text-blue-500"}),"Typing Race"]})]}),H>0&&(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:[(0,b.jsx)(h.Zap,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),(0,b.jsxs)("span",{className:"text-sm font-semibold text-purple-600 dark:text-purple-400",children:["+",H," XP"]})]})]})})}),(0,b.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-6 space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-center gap-2",children:["EASY","MEDIUM","HARD"].map(a=>(0,b.jsx)("button",{onClick:()=>{A(a),u(0)},className:`px-4 py-2 rounded-xl font-medium transition-all border ${z===a?Y(a):"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 hover:border-gray-300"}`,children:a},a))}),"loading"===x&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,b.jsx)("div",{className:"w-16 h-16 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),(0,b.jsx)("p",{className:"mt-4 text-gray-500",children:"Loading typing texts..."})]}),"error"===x&&(0,b.jsxs)("div",{className:"text-center py-20",children:[(0,b.jsx)(o.AlertCircle,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Couldn't load typing texts"}),(0,b.jsx)("button",{onClick:S,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors",children:"Try Again"})]}),"ready"===x&&R&&(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("span",{className:`px-3 py-1 text-xs font-semibold rounded-full border ${Y(R.difficulty)}`,children:R.difficulty}),(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:[R.content.length," characters"]})]}),(0,b.jsx)("p",{className:"font-mono text-gray-700 dark:text-gray-300 leading-relaxed",children:R.content})]}),(0,b.jsxs)("button",{onClick:T,className:"w-full py-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-semibold transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(l.Play,{className:"w-5 h-5"}),"Start Typing"]}),(0,b.jsx)("div",{className:"flex items-center justify-center gap-2",children:a.map((a,c)=>(0,b.jsx)("button",{onClick:()=>u(c),className:`w-3 h-3 rounded-full transition-all ${c===t?"bg-blue-600 scale-125":"bg-gray-300 dark:bg-gray-600 hover:bg-gray-400"}`},c))})]}),"playing"===x&&R&&(0,b.jsxs)(e.motion.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",ref:Q,onClick:()=>{"playing"===x&&P.current?.focus()},children:[(0,b.jsx)("div",{className:"flex items-center justify-center",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-full",children:[(0,b.jsx)(j.Clock,{className:"w-5 h-5 text-gray-500"}),(0,b.jsxs)("span",{className:"font-mono text-lg font-semibold text-gray-700 dark:text-gray-300",children:[B?Math.floor((Date.now()-B)/1e3):0,"s"]})]})}),(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border-2 border-blue-500 p-6 cursor-text",children:[(0,b.jsx)("p",{className:"font-mono text-lg leading-relaxed select-none",children:R.content.split("").map((a,c)=>{let d="text-gray-400 dark:text-gray-500";return c<J?d=L.has(c)?"text-red-500 bg-red-100 dark:bg-red-900/30":"text-green-600 dark:text-green-400":c===J&&(d="bg-blue-500 text-white animate-pulse"),(0,b.jsx)("span",{className:`${d} ${" "===a&&c===J?"px-0.5":""}`,children:a},c)})}),(0,b.jsx)("input",{ref:P,type:"text",value:v,onChange:V,className:"absolute opacity-0 pointer-events-none",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:!1})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm text-gray-500",children:[(0,b.jsxs)("span",{children:[J," / ",R.content.length]}),(0,b.jsxs)("span",{children:[Math.round(J/R.content.length*100),"%"]})]}),(0,b.jsx)("div",{className:"h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-blue-600 transition-all",style:{width:`${J/R.content.length*100}%`}})})]}),(0,b.jsx)("p",{className:"text-center text-gray-500 text-sm",children:"Click here and start typing..."})]}),"completed"===x&&F&&(0,b.jsxs)(e.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 p-6 text-center",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)(i.Trophy,{className:"w-16 h-16 text-amber-500 mx-auto mb-4"}),(0,b.jsx)("h2",{className:`text-2xl font-bold ${Z(F.wpm).color}`,children:Z(F.wpm).label})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,b.jsx)(m,{className:"w-5 h-5 text-blue-500"}),(0,b.jsx)("span",{className:"text-sm text-gray-500",children:"Speed"})]}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:F.wpm}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"WPM"})]}),(0,b.jsxs)("div",{className:"p-4 bg-gray-50 dark:bg-gray-700/50 rounded-xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,b.jsx)(n.Target,{className:"w-5 h-5 text-green-500"}),(0,b.jsx)("span",{className:"text-sm text-gray-500",children:"Accuracy"})]}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[F.accuracy,"%"]}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[F.correctChars,"/",F.totalChars," chars"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-4 text-sm text-gray-500 mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(j.Clock,{className:"w-4 h-4"}),(0,b.jsxs)("span",{children:[(F.time/1e3).toFixed(1),"s"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(o.AlertCircle,{className:"w-4 h-4 text-red-500"}),(0,b.jsxs)("span",{children:[F.errors," errors"]})]})]}),H>0&&(0,b.jsxs)("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-100 dark:bg-purple-900/30 rounded-full mb-6",children:[(0,b.jsx)(h.Zap,{className:"w-5 h-5 text-purple-600"}),(0,b.jsxs)("span",{className:"font-semibold text-purple-600",children:["+",H," XP Earned!"]})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:X,className:"flex-1 py-3 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-900 dark:text-white rounded-xl font-medium transition-colors flex items-center justify-center gap-2",children:[(0,b.jsx)(k.RotateCcw,{className:"w-5 h-5"}),"Try Again"]}),(0,b.jsxs)("button",{onClick:()=>{t<a.length-1?u(a=>a+1):u(0),X()},className:"flex-1 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors flex items-center justify-center gap-2",children:["Next Text",(0,b.jsx)(g.Keyboard,{className:"w-5 h-5"})]})]}),(0,b.jsx)(d.default,{href:"/more/games",className:"block text-center text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 transition-colors",children:"â† Back to Games"})]})]})]})})}a.s(["default",()=>s],72453)}];

//# sourceMappingURL=_2da4264e._.js.map
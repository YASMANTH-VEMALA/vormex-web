{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/engagement/StreakCounter.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { Flame, Trophy, Target, TrendingUp, X, LogIn, FileText, MessageCircle, ChevronRight } from 'lucide-react';\nimport Link from 'next/link';\nimport { getStreaks, type StreakData } from '@/lib/api/engagement';\n\n/**\n * StreakCounter - Professional streak badge with clean detail panel\n */\nexport default function StreakCounter() {\n  const [streak, setStreak] = useState<StreakData | null>(null);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchStreaks = async () => {\n      try {\n        const data = await getStreaks();\n        setStreak(data);\n      } catch (error) {\n        console.error('Failed to fetch streaks:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchStreaks();\n  }, []);\n\n  if (loading || !streak) return null;\n\n  const bestCurrentStreak = Math.max(\n    streak.connectionStreak,\n    streak.loginStreak,\n    streak.postingStreak,\n    streak.messagingStreak\n  );\n  const hasStreak = bestCurrentStreak > 0;\n  const anyAtRisk = streak.isAtRisk ? Object.values(streak.isAtRisk).some(Boolean) : false;\n\n  return (\n    <>\n      {/* Compact Badge */}\n      <button\n        onClick={() => setIsExpanded(true)}\n        className={`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${\n          hasStreak\n            ? 'bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 hover:bg-orange-100 dark:hover:bg-orange-900/30'\n            : 'bg-gray-100 dark:bg-neutral-800 text-gray-500 dark:text-neutral-400 hover:bg-gray-200 dark:hover:bg-neutral-700'\n        }`}\n      >\n        <Flame className=\"w-4 h-4\" />\n        <span>{bestCurrentStreak}</span>\n        {anyAtRisk && hasStreak && (\n          <span className=\"w-1.5 h-1.5 rounded-full bg-amber-500\" />\n        )}\n      </button>\n\n      {/* Detail Panel */}\n      <AnimatePresence>\n        {isExpanded && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.15 }}\n            className=\"fixed inset-0 bg-black/30 z-50 flex items-center justify-center p-4\"\n            onClick={() => setIsExpanded(false)}\n          >\n            <motion.div\n              initial={{ opacity: 0, scale: 0.95 }}\n              animate={{ opacity: 1, scale: 1 }}\n              exit={{ opacity: 0, scale: 0.95 }}\n              transition={{ duration: 0.15 }}\n              className=\"bg-white dark:bg-neutral-900 rounded-xl w-full max-w-sm shadow-lg border border-gray-200 dark:border-neutral-800\"\n              onClick={(e) => e.stopPropagation()}\n            >\n              {/* Header */}\n              <div className=\"flex items-center justify-between px-5 py-4 border-b border-gray-100 dark:border-neutral-800\">\n                <h3 className=\"text-base font-semibold text-gray-900 dark:text-white\">Your Streaks</h3>\n                <button onClick={() => setIsExpanded(false)} className=\"p-1 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded-lg transition-colors\">\n                  <X className=\"w-4 h-4 text-gray-400\" />\n                </button>\n              </div>\n\n              <div className=\"p-5 space-y-4\">\n                {/* Streak rows */}\n                {[\n                  { label: 'Networking', value: streak.connectionStreak, longest: streak.longestConnectionStreak, icon: Flame, color: 'text-orange-500', bg: 'bg-orange-50 dark:bg-orange-900/20', riskKey: 'connection' },\n                  { label: 'Login', value: streak.loginStreak, longest: streak.longestLoginStreak, icon: LogIn, color: 'text-blue-500', bg: 'bg-blue-50 dark:bg-blue-900/20', riskKey: 'login' },\n                  { label: 'Posting', value: streak.postingStreak, longest: streak.longestPostingStreak, icon: FileText, color: 'text-green-500', bg: 'bg-green-50 dark:bg-green-900/20', riskKey: 'posting' },\n                  { label: 'Messaging', value: streak.messagingStreak, longest: streak.longestMessagingStreak, icon: MessageCircle, color: 'text-purple-500', bg: 'bg-purple-50 dark:bg-purple-900/20', riskKey: 'messaging' },\n                ].map((item) => {\n                  const Icon = item.icon;\n                  const atRisk = streak.isAtRisk?.[item.riskKey] ?? false;\n                  return (\n                    <div key={item.riskKey} className=\"flex items-center gap-3\">\n                      <div className={`w-9 h-9 rounded-lg ${item.bg} flex items-center justify-center flex-shrink-0`}>\n                        <Icon className={`w-4 h-4 ${item.color}`} />\n                      </div>\n                      <div className=\"flex-1\">\n                        <p className=\"text-sm font-semibold text-gray-900 dark:text-white leading-tight\">\n                          {item.value} <span className=\"text-xs font-normal text-gray-400 dark:text-neutral-500\">/ best {item.longest}</span>\n                        </p>\n                        <p className=\"text-xs text-gray-500 dark:text-neutral-400\">{item.label}</p>\n                      </div>\n                      {atRisk && (\n                        <span className=\"px-1.5 py-0.5 bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 text-[10px] rounded font-medium\">\n                          At risk\n                        </span>\n                      )}\n                    </div>\n                  );\n                })}\n\n                {/* Stats Row */}\n                <div className=\"grid grid-cols-2 gap-3 pt-2 border-t border-gray-100 dark:border-neutral-800\">\n                  <div className=\"py-3 text-center\">\n                    <Trophy className=\"w-4 h-4 text-amber-500 mx-auto mb-1.5\" />\n                    <p className=\"text-base font-semibold text-gray-900 dark:text-white\">{streak.overallBestStreak}</p>\n                    <p className=\"text-[11px] text-gray-400 dark:text-neutral-500 mt-0.5\">Best ever</p>\n                  </div>\n                  <div className=\"py-3 text-center\">\n                    <Target className=\"w-4 h-4 text-blue-500 mx-auto mb-1.5\" />\n                    <p className=\"text-base font-semibold text-gray-900 dark:text-white\">\n                      {streak.weeklyConnectionsMade}/{streak.weeklyConnectionsGoal}\n                    </p>\n                    <p className=\"text-[11px] text-gray-400 dark:text-neutral-500 mt-0.5\">This week</p>\n                  </div>\n                </div>\n\n                {/* View Full Dashboard Link */}\n                <Link\n                  href=\"/streaks\"\n                  onClick={() => setIsExpanded(false)}\n                  className=\"flex items-center justify-center gap-1.5 w-full py-2.5 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/10 rounded-lg transition-colors\"\n                >\n                  View Full Dashboard\n                  <ChevronRight className=\"w-3.5 h-3.5\" />\n                </Link>\n              </div>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 389, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/engagement/SocialProofBar.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { AnimatePresence, motion } from 'framer-motion';\nimport { getLiveActivity, type LiveActivity } from '@/lib/api/engagement';\n\n/**\n * SocialProofBar - Subtle live activity ticker\n * Clean, minimal design — single line of text with a green dot\n */\nexport default function SocialProofBar({ location }: { location?: string }) {\n  const [activity, setActivity] = useState<LiveActivity | null>(null);\n  const [currentStat, setCurrentStat] = useState(0);\n\n  const fetchActivity = useCallback(async () => {\n    try {\n      const data = await getLiveActivity(location);\n      setActivity(data);\n    } catch (error) {\n      console.error('Failed to fetch live activity:', error);\n    }\n  }, [location]);\n\n  useEffect(() => {\n    fetchActivity();\n    const interval = setInterval(fetchActivity, 30000);\n    return () => clearInterval(interval);\n  }, [fetchActivity]);\n\n  useEffect(() => {\n    if (!activity) return;\n    const interval = setInterval(() => {\n      setCurrentStat((prev) => (prev + 1) % 3);\n    }, 5000);\n    return () => clearInterval(interval);\n  }, [activity]);\n\n  if (!activity) return null;\n\n  const stats = [\n    `${activity.activeUsersNow ?? 0} ${(activity.activeUsersNow ?? 0) === 1 ? 'person' : 'people'} networking${activity.locationLabel ? ` ${activity.locationLabel}` : ''}`,\n    `${activity.connectionsToday ?? 0} connections made today`,\n    `${activity.newUsersToday ?? 0} new ${(activity.newUsersToday ?? 0) === 1 ? 'member' : 'members'} joined today`,\n  ];\n\n  return (\n    <div className=\"flex items-center gap-2 px-1 py-1 overflow-hidden\">\n      <span className=\"relative flex h-1.5 w-1.5 flex-shrink-0\">\n        <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-500 opacity-60\" />\n        <span className=\"relative inline-flex rounded-full h-1.5 w-1.5 bg-green-500\" />\n      </span>\n      <AnimatePresence mode=\"wait\">\n        <motion.span\n          key={currentStat}\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          transition={{ duration: 0.25 }}\n          className=\"text-xs text-gray-500 dark:text-neutral-400\"\n        >\n          {stats[currentStat]}\n        </motion.span>\n      </AnimatePresence>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAUe,SAAS,eAAe,EAAE,QAAQ,EAAyB;IACxE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAsB;IAC9D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,MAAM,gBAAgB,IAAA,oNAAW,EAAC;QAChC,IAAI;YACF,MAAM,OAAO,MAAM,IAAA,kJAAe,EAAC;YACnC,YAAY;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kCAAkC;QAClD;IACF,GAAG;QAAC;KAAS;IAEb,IAAA,kNAAS,EAAC;QACR;QACA,MAAM,WAAW,YAAY,eAAe;QAC5C,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;KAAc;IAElB,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,UAAU;QACf,MAAM,WAAW,YAAY;YAC3B,eAAe,CAAC,OAAS,CAAC,OAAO,CAAC,IAAI;QACxC,GAAG;QACH,OAAO,IAAM,cAAc;IAC7B,GAAG;QAAC;KAAS;IAEb,IAAI,CAAC,UAAU,OAAO;IAEtB,MAAM,QAAQ;QACZ,GAAG,SAAS,cAAc,IAAI,EAAE,CAAC,EAAE,CAAC,SAAS,cAAc,IAAI,CAAC,MAAM,IAAI,WAAW,SAAS,WAAW,EAAE,SAAS,aAAa,GAAG,CAAC,CAAC,EAAE,SAAS,aAAa,EAAE,GAAG,IAAI;QACvK,GAAG,SAAS,gBAAgB,IAAI,EAAE,uBAAuB,CAAC;QAC1D,GAAG,SAAS,aAAa,IAAI,EAAE,KAAK,EAAE,CAAC,SAAS,aAAa,IAAI,CAAC,MAAM,IAAI,WAAW,UAAU,aAAa,CAAC;KAChH;IAED,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAK,WAAU;;kCACd,8OAAC;wBAAK,WAAU;;;;;;kCAChB,8OAAC;wBAAK,WAAU;;;;;;;;;;;;0BAElB,8OAAC,4MAAe;gBAAC,MAAK;0BACpB,cAAA,8OAAC,oMAAM,CAAC,IAAI;oBAEV,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,MAAM;wBAAE,SAAS;oBAAE;oBACnB,YAAY;wBAAE,UAAU;oBAAK;oBAC7B,WAAU;8BAET,KAAK,CAAC,YAAY;mBAPd;;;;;;;;;;;;;;;;AAYf"}},
    {"offset": {"line": 502, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/engagement/ProgressNudges.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Target, MessageSquare, FileText, Users, CheckCircle, X } from 'lucide-react';\nimport { getWeeklyGoals, getNudges, type WeeklyGoals, type ProgressNudge } from '@/lib/api/engagement';\n\n/**\n * ProgressNudges - Weekly goals + nudge cards\n * Clean, professional design with subtle progress indicators\n */\nexport default function ProgressNudges() {\n  const [goals, setGoals] = useState<WeeklyGoals | null>(null);\n  const [nudges, setNudges] = useState<ProgressNudge[]>([]);\n  const [dismissedNudges, setDismissedNudges] = useState<Set<string>>(new Set());\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [goalsData, nudgesData] = await Promise.all([\n          getWeeklyGoals(),\n          getNudges(),\n        ]);\n        setGoals(goalsData);\n        setNudges(nudgesData);\n      } catch (error) {\n        console.error('Failed to fetch progress:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  const dismissNudge = (type: string) => {\n    setDismissedNudges(prev => new Set([...prev, type]));\n  };\n\n  if (loading) return null;\n\n  const visibleNudges = nudges.filter(n => !dismissedNudges.has(n.type));\n\n  return (\n    <div className=\"space-y-3\">\n      {/* Weekly Goals */}\n      {goals && !goals.isCompleted && (\n        <div className=\"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden\">\n          <div className=\"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-neutral-800\">\n            <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">Weekly Goals</h3>\n            {goals.isCompleted && (\n              <span className=\"flex items-center gap-1 text-xs text-green-600 dark:text-green-400 font-medium\">\n                <CheckCircle className=\"w-3.5 h-3.5\" /> Completed\n              </span>\n            )}\n          </div>\n\n          <div className=\"px-4 py-3 space-y-3\">\n            <GoalBar\n              icon={<Users className=\"w-3.5 h-3.5 text-gray-400\" />}\n              label=\"Connections\"\n              current={goals.connectionsMade}\n              target={goals.connectionsTarget}\n              progress={goals.connectionsProgress}\n            />\n            <GoalBar\n              icon={<FileText className=\"w-3.5 h-3.5 text-gray-400\" />}\n              label=\"Posts\"\n              current={goals.postsMade}\n              target={goals.postsTarget}\n              progress={goals.postsProgress}\n            />\n            <GoalBar\n              icon={<MessageSquare className=\"w-3.5 h-3.5 text-gray-400\" />}\n              label=\"Messages\"\n              current={goals.messagesSent}\n              target={goals.messagesTarget}\n              progress={goals.messagesProgress}\n            />\n          </div>\n        </div>\n      )}\n\n      {/* Nudges */}\n      <AnimatePresence>\n        {visibleNudges.map((nudge) => (\n          <motion.div\n            key={nudge.type}\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: 'auto' }}\n            exit={{ opacity: 0, height: 0 }}\n            transition={{ duration: 0.15 }}\n            className=\"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 p-3\"\n          >\n            <div className=\"flex items-start gap-2.5\">\n              <span className=\"text-base mt-0.5\">{nudge.icon}</span>\n              <p className=\"flex-1 text-sm text-gray-600 dark:text-neutral-300 leading-relaxed\">{nudge.message}</p>\n              <button\n                onClick={() => dismissNudge(nudge.type)}\n                className=\"p-0.5 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded transition-colors flex-shrink-0\"\n              >\n                <X className=\"w-3.5 h-3.5 text-gray-300 dark:text-neutral-500\" />\n              </button>\n            </div>\n\n            {nudge.target > 0 && nudge.progress >= 0 && (\n              <div className=\"mt-2 ml-7\">\n                <div className=\"w-full bg-gray-100 dark:bg-neutral-800 rounded-full h-1\">\n                  <motion.div\n                    className=\"bg-blue-500 h-1 rounded-full\"\n                    initial={{ width: 0 }}\n                    animate={{ width: `${Math.min((nudge.progress / nudge.target) * 100, 100)}%` }}\n                    transition={{ duration: 0.8, delay: 0.2 }}\n                  />\n                </div>\n              </div>\n            )}\n          </motion.div>\n        ))}\n      </AnimatePresence>\n    </div>\n  );\n}\n\nfunction GoalBar({\n  icon,\n  label,\n  current,\n  target,\n  progress,\n}: {\n  icon: React.ReactNode;\n  label: string;\n  current: number;\n  target: number;\n  progress: number;\n}) {\n  return (\n    <div>\n      <div className=\"flex items-center justify-between mb-1.5\">\n        <div className=\"flex items-center gap-1.5\">\n          {icon}\n          <span className=\"text-xs text-gray-500 dark:text-neutral-400\">{label}</span>\n        </div>\n        <span className=\"text-xs font-medium text-gray-700 dark:text-neutral-300 tabular-nums\">\n          {current}/{target}\n        </span>\n      </div>\n      <div className=\"w-full bg-gray-100 dark:bg-neutral-800 rounded-full h-1.5\">\n        <motion.div\n          className=\"bg-blue-500 h-1.5 rounded-full\"\n          initial={{ width: 0 }}\n          animate={{ width: `${Math.min(progress, 100)}%` }}\n          transition={{ duration: 0.8, delay: 0.1 }}\n        />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AALA;;;;;;AAWe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAqB;IACvD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAkB,EAAE;IACxD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAc,IAAI;IACxE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY;YAChB,IAAI;gBACF,MAAM,CAAC,WAAW,WAAW,GAAG,MAAM,QAAQ,GAAG,CAAC;oBAChD,IAAA,iJAAc;oBACd,IAAA,4IAAS;iBACV;gBACD,SAAS;gBACT,UAAU;YACZ,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,6BAA6B;YAC7C,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG,EAAE;IAEL,MAAM,eAAe,CAAC;QACpB,mBAAmB,CAAA,OAAQ,IAAI,IAAI;mBAAI;gBAAM;aAAK;IACpD;IAEA,IAAI,SAAS,OAAO;IAEpB,MAAM,gBAAgB,OAAO,MAAM,CAAC,CAAA,IAAK,CAAC,gBAAgB,GAAG,CAAC,EAAE,IAAI;IAEpE,qBACE,8OAAC;QAAI,WAAU;;YAEZ,SAAS,CAAC,MAAM,WAAW,kBAC1B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAsD;;;;;;4BACnE,MAAM,WAAW,kBAChB,8OAAC;gCAAK,WAAU;;kDACd,8OAAC,0OAAW;wCAAC,WAAU;;;;;;oCAAgB;;;;;;;;;;;;;kCAK7C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,oBAAM,8OAAC,6MAAK;oCAAC,WAAU;;;;;;gCACvB,OAAM;gCACN,SAAS,MAAM,eAAe;gCAC9B,QAAQ,MAAM,iBAAiB;gCAC/B,UAAU,MAAM,mBAAmB;;;;;;0CAErC,8OAAC;gCACC,oBAAM,8OAAC,0NAAQ;oCAAC,WAAU;;;;;;gCAC1B,OAAM;gCACN,SAAS,MAAM,SAAS;gCACxB,QAAQ,MAAM,WAAW;gCACzB,UAAU,MAAM,aAAa;;;;;;0CAE/B,8OAAC;gCACC,oBAAM,8OAAC,yOAAa;oCAAC,WAAU;;;;;;gCAC/B,OAAM;gCACN,SAAS,MAAM,YAAY;gCAC3B,QAAQ,MAAM,cAAc;gCAC5B,UAAU,MAAM,gBAAgB;;;;;;;;;;;;;;;;;;0BAOxC,8OAAC,4MAAe;0BACb,cAAc,GAAG,CAAC,CAAC,sBAClB,8OAAC,oMAAM,CAAC,GAAG;wBAET,SAAS;4BAAE,SAAS;4BAAG,QAAQ;wBAAE;wBACjC,SAAS;4BAAE,SAAS;4BAAG,QAAQ;wBAAO;wBACtC,MAAM;4BAAE,SAAS;4BAAG,QAAQ;wBAAE;wBAC9B,YAAY;4BAAE,UAAU;wBAAK;wBAC7B,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAK,WAAU;kDAAoB,MAAM,IAAI;;;;;;kDAC9C,8OAAC;wCAAE,WAAU;kDAAsE,MAAM,OAAO;;;;;;kDAChG,8OAAC;wCACC,SAAS,IAAM,aAAa,MAAM,IAAI;wCACtC,WAAU;kDAEV,cAAA,8OAAC,iMAAC;4CAAC,WAAU;;;;;;;;;;;;;;;;;4BAIhB,MAAM,MAAM,GAAG,KAAK,MAAM,QAAQ,IAAI,mBACrC,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,oMAAM,CAAC,GAAG;wCACT,WAAU;wCACV,SAAS;4CAAE,OAAO;wCAAE;wCACpB,SAAS;4CAAE,OAAO,GAAG,KAAK,GAAG,CAAC,AAAC,MAAM,QAAQ,GAAG,MAAM,MAAM,GAAI,KAAK,KAAK,CAAC,CAAC;wCAAC;wCAC7E,YAAY;4CAAE,UAAU;4CAAK,OAAO;wCAAI;;;;;;;;;;;;;;;;;uBAzB3C,MAAM,IAAI;;;;;;;;;;;;;;;;AAmC3B;AAEA,SAAS,QAAQ,EACf,IAAI,EACJ,KAAK,EACL,OAAO,EACP,MAAM,EACN,QAAQ,EAOT;IACC,qBACE,8OAAC;;0BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;4BACZ;0CACD,8OAAC;gCAAK,WAAU;0CAA+C;;;;;;;;;;;;kCAEjE,8OAAC;wBAAK,WAAU;;4BACb;4BAAQ;4BAAE;;;;;;;;;;;;;0BAGf,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,oMAAM,CAAC,GAAG;oBACT,WAAU;oBACV,SAAS;wBAAE,OAAO;oBAAE;oBACpB,SAAS;wBAAE,OAAO,GAAG,KAAK,GAAG,CAAC,UAAU,KAAK,CAAC,CAAC;oBAAC;oBAChD,YAAY;wBAAE,UAAU;wBAAK,OAAO;oBAAI;;;;;;;;;;;;;;;;;AAKlD"}},
    {"offset": {"line": 843, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/engagement/ConnectionCelebration.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { X, Check, Flame, Zap } from 'lucide-react';\nimport { getConnectionCelebration, type CelebrationData } from '@/lib/api/engagement';\n\n/**\n * ConnectionCelebration - Enhanced connection confirmation overlay\n * Supports confetti animation and streak reward display\n */\n\ninterface ConnectionCelebrationProps {\n  connectionId: string | null;\n  onClose: () => void;\n}\n\nexport default function ConnectionCelebration({ connectionId, onClose }: ConnectionCelebrationProps) {\n  const [celebration, setCelebration] = useState<CelebrationData | null>(null);\n\n  const fireConfetti = useCallback(async () => {\n    try {\n      const confetti = (await import('canvas-confetti')).default;\n      // Burst from both sides\n      confetti({\n        particleCount: 80,\n        spread: 60,\n        origin: { x: 0.25, y: 0.6 },\n        colors: ['#f97316', '#eab308', '#22c55e', '#3b82f6', '#a855f7'],\n      });\n      confetti({\n        particleCount: 80,\n        spread: 60,\n        origin: { x: 0.75, y: 0.6 },\n        colors: ['#f97316', '#eab308', '#22c55e', '#3b82f6', '#a855f7'],\n      });\n    } catch {\n      // canvas-confetti not available, skip silently\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!connectionId) return;\n\n    const fetchCelebration = async () => {\n      try {\n        const data = await getConnectionCelebration(connectionId);\n        if (data) {\n          setCelebration(data);\n          if (data.showConfetti) {\n            setTimeout(fireConfetti, 300);\n          }\n          setTimeout(() => {\n            onClose();\n          }, 5000);\n        }\n      } catch (error) {\n        console.error('Failed to fetch celebration:', error);\n      }\n    };\n\n    fetchCelebration();\n  }, [connectionId, onClose, fireConfetti]);\n\n  if (!connectionId || !celebration) return null;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        transition={{ duration: 0.15 }}\n        className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black/40\"\n        onClick={onClose}\n      >\n        <motion.div\n          initial={{ opacity: 0, scale: 0.95 }}\n          animate={{ opacity: 1, scale: 1 }}\n          exit={{ opacity: 0, scale: 0.95 }}\n          transition={{ duration: 0.2 }}\n          className=\"bg-white dark:bg-neutral-900 rounded-xl p-6 max-w-xs w-full mx-4 shadow-lg border border-gray-200 dark:border-neutral-800 text-center relative\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          <button\n            onClick={onClose}\n            className=\"absolute top-3 right-3 p-0.5 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded transition-colors\"\n          >\n            <X className=\"w-4 h-4 text-gray-300 dark:text-neutral-500\" />\n          </button>\n\n          {/* Success icon */}\n          <motion.div\n            initial={{ scale: 0 }}\n            animate={{ scale: 1 }}\n            transition={{ type: 'spring', stiffness: 400, damping: 15, delay: 0.1 }}\n            className=\"w-12 h-12 mx-auto mb-4 rounded-full bg-green-50 dark:bg-green-900/20 flex items-center justify-center\"\n          >\n            <Check className=\"w-6 h-6 text-green-600 dark:text-green-400\" />\n          </motion.div>\n\n          {/* Profile */}\n          <div className=\"flex items-center justify-center mb-3\">\n            {celebration.otherUser.profileImage ? (\n              <img\n                src={celebration.otherUser.profileImage}\n                alt={celebration.otherUser.name}\n                className=\"w-14 h-14 rounded-full object-cover border-2 border-white dark:border-neutral-800 shadow-sm\"\n              />\n            ) : (\n              <div className=\"w-14 h-14 rounded-full bg-gray-200 dark:bg-neutral-700 flex items-center justify-center text-gray-500 dark:text-neutral-400 text-lg font-semibold border-2 border-white dark:border-neutral-800 shadow-sm\">\n                {celebration.otherUser.name.charAt(0)}\n              </div>\n            )}\n          </div>\n\n          {/* Message */}\n          <h2 className=\"text-base font-semibold text-gray-900 dark:text-white mb-1\">\n            {celebration.celebrationMessage}\n          </h2>\n\n          {celebration.mutualConnections > 0 && (\n            <p className=\"text-xs text-gray-400 dark:text-neutral-500 mb-3\">\n              {celebration.mutualConnections} mutual connection{celebration.mutualConnections > 1 ? 's' : ''}\n            </p>\n          )}\n\n          {/* Streak & reward info */}\n          {celebration.showConfetti && (\n            <motion.div\n              initial={{ opacity: 0, y: 5 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.3 }}\n              className=\"flex items-center justify-center gap-3 mb-3 px-3 py-2 bg-orange-50 dark:bg-orange-900/10 rounded-lg\"\n            >\n              <div className=\"flex items-center gap-1 text-orange-600 dark:text-orange-400\">\n                <Flame className=\"w-3.5 h-3.5\" />\n                <span className=\"text-xs font-medium\">Streak extended!</span>\n              </div>\n            </motion.div>\n          )}\n\n          <button\n            onClick={onClose}\n            className=\"mt-2 px-5 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium rounded-full transition-colors\"\n          >\n            Continue\n          </button>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1117, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/engagement/ConnectionLimitBanner.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { Clock, Info } from 'lucide-react';\nimport { getConnectionLimit, type ConnectionLimit } from '@/lib/api/engagement';\n\n/**\n * ConnectionLimitBanner - Subtle info bar for daily connection limits\n * Professional, non-alarming design\n */\nexport default function ConnectionLimitBanner() {\n  const [limit, setLimit] = useState<ConnectionLimit | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchLimit = async () => {\n      try {\n        const data = await getConnectionLimit();\n        setLimit(data);\n      } catch (error) {\n        console.error('Failed to fetch connection limit:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchLimit();\n  }, []);\n\n  if (loading || !limit) return null;\n  if (limit.remaining > 5) return null;\n\n  const isDepleted = limit.remaining === 0;\n\n  const resetTime = new Date(limit.resetsAt);\n  const now = new Date();\n  const hoursUntilReset = Math.max(1, Math.ceil((resetTime.getTime() - now.getTime()) / (1000 * 60 * 60)));\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      transition={{ duration: 0.2 }}\n      className=\"flex items-center gap-2.5 px-4 py-2.5 bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800\"\n    >\n      <Info className=\"w-4 h-4 text-gray-400 flex-shrink-0\" />\n      <p className=\"flex-1 text-xs text-gray-600 dark:text-neutral-400\">\n        {isDepleted\n          ? 'Daily connection limit reached'\n          : `${limit.remaining} connection request${limit.remaining !== 1 ? 's' : ''} remaining today`}\n      </p>\n      {isDepleted && (\n        <span className=\"flex items-center gap-1 text-xs text-gray-400 dark:text-neutral-500 flex-shrink-0\">\n          <Clock className=\"w-3 h-3\" />\n          Resets in {hoursUntilReset}h\n        </span>\n      )}\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AALA;;;;;;AAWe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAyB;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,aAAa;YACjB,IAAI;gBACF,MAAM,OAAO,MAAM,IAAA,qJAAkB;gBACrC,SAAS;YACX,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,qCAAqC;YACrD,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG,EAAE;IAEL,IAAI,WAAW,CAAC,OAAO,OAAO;IAC9B,IAAI,MAAM,SAAS,GAAG,GAAG,OAAO;IAEhC,MAAM,aAAa,MAAM,SAAS,KAAK;IAEvC,MAAM,YAAY,IAAI,KAAK,MAAM,QAAQ;IACzC,MAAM,MAAM,IAAI;IAChB,MAAM,kBAAkB,KAAK,GAAG,CAAC,GAAG,KAAK,IAAI,CAAC,CAAC,UAAU,OAAO,KAAK,IAAI,OAAO,EAAE,IAAI,CAAC,OAAO,KAAK,EAAE;IAErG,qBACE,8OAAC,oMAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;QAAE;QACtB,SAAS;YAAE,SAAS;QAAE;QACtB,YAAY;YAAE,UAAU;QAAI;QAC5B,WAAU;;0BAEV,8OAAC,0MAAI;gBAAC,WAAU;;;;;;0BAChB,8OAAC;gBAAE,WAAU;0BACV,aACG,mCACA,GAAG,MAAM,SAAS,CAAC,mBAAmB,EAAE,MAAM,SAAS,KAAK,IAAI,MAAM,GAAG,gBAAgB,CAAC;;;;;;YAE/F,4BACC,8OAAC;gBAAK,WAAU;;kCACd,8OAAC,6MAAK;wBAAC,WAAU;;;;;;oBAAY;oBAClB;oBAAgB;;;;;;;;;;;;;AAKrC"}},
    {"offset": {"line": 1212, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/engagement/Leaderboard.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { getLeaderboard, type LeaderboardEntry } from '@/lib/api/engagement';\nimport Link from 'next/link';\n\n/**\n * Leaderboard - Clean top networkers list\n * Professional design with week/month toggle\n */\nexport default function Leaderboard() {\n  const [entries, setEntries] = useState<LeaderboardEntry[]>([]);\n  const [period, setPeriod] = useState<'weekly' | 'monthly'>('weekly');\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchLeaderboard = async () => {\n      setLoading(true);\n      try {\n        const data = await getLeaderboard(period, 10);\n        setEntries(data?.leaderboard ?? []);\n      } catch (error) {\n        console.error('Failed to fetch leaderboard:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchLeaderboard();\n  }, [period]);\n\n  return (\n    <div className=\"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-neutral-800\">\n        <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">Top Networkers</h3>\n        <div className=\"flex bg-gray-100 dark:bg-neutral-800 rounded-lg p-0.5\">\n          <button\n            onClick={() => setPeriod('weekly')}\n            className={`px-2.5 py-1 text-xs rounded-md transition-colors ${\n              period === 'weekly'\n                ? 'bg-white dark:bg-neutral-700 text-gray-900 dark:text-white shadow-sm'\n                : 'text-gray-500 dark:text-neutral-400 hover:text-gray-700 dark:hover:text-neutral-300'\n            }`}\n          >\n            Week\n          </button>\n          <button\n            onClick={() => setPeriod('monthly')}\n            className={`px-2.5 py-1 text-xs rounded-md transition-colors ${\n              period === 'monthly'\n                ? 'bg-white dark:bg-neutral-700 text-gray-900 dark:text-white shadow-sm'\n                : 'text-gray-500 dark:text-neutral-400 hover:text-gray-700 dark:hover:text-neutral-300'\n            }`}\n          >\n            Month\n          </button>\n        </div>\n      </div>\n\n      {/* Content */}\n      {loading ? (\n        <div className=\"flex items-center justify-center py-10\">\n          <div className=\"animate-spin rounded-full h-5 w-5 border-2 border-gray-300 border-t-gray-600 dark:border-neutral-600 dark:border-t-neutral-300\" />\n        </div>\n      ) : entries.length === 0 ? (\n        <div className=\"text-center py-10 text-sm text-gray-400 dark:text-neutral-500\">\n          No data yet\n        </div>\n      ) : (\n        <div className=\"divide-y divide-gray-100 dark:divide-neutral-800\">\n          {entries.map((entry, index) => (\n            <Link\n              key={entry.id}\n              href={`/profile/${entry.username}`}\n              className=\"flex items-center gap-3 px-4 py-2.5 hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors\"\n            >\n              {/* Rank */}\n              <span className={`w-5 text-xs font-semibold text-center tabular-nums ${\n                index === 0 ? 'text-amber-500' : index === 1 ? 'text-gray-400' : index === 2 ? 'text-amber-600' : 'text-gray-400 dark:text-neutral-500'\n              }`}>\n                {index + 1}\n              </span>\n\n              {/* Avatar */}\n              {entry.profileImage ? (\n                <img\n                  src={entry.profileImage}\n                  alt={entry.name}\n                  className=\"w-8 h-8 rounded-full object-cover flex-shrink-0\"\n                />\n              ) : (\n                <div className=\"w-8 h-8 rounded-full bg-gray-200 dark:bg-neutral-700 flex items-center justify-center text-gray-500 dark:text-neutral-400 text-xs font-semibold flex-shrink-0\">\n                  {entry.name.charAt(0)}\n                </div>\n              )}\n\n              {/* Info */}\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-gray-900 dark:text-white truncate\">{entry.name}</p>\n                {entry.college && (\n                  <p className=\"text-xs text-gray-400 dark:text-neutral-500 truncate\">{entry.college}</p>\n                )}\n              </div>\n\n              {/* Count */}\n              <span className=\"text-xs font-medium text-gray-500 dark:text-neutral-400 tabular-nums flex-shrink-0\">\n                {entry.connectionCount}\n              </span>\n            </Link>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAUe,SAAS;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAqB,EAAE;IAC7D,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAuB;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,mBAAmB;YACvB,WAAW;YACX,IAAI;gBACF,MAAM,OAAO,MAAM,IAAA,iJAAc,EAAC,QAAQ;gBAC1C,WAAW,MAAM,eAAe,EAAE;YACpC,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,gCAAgC;YAChD,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG;QAAC;KAAO;IAEX,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAsD;;;;;;kCACpE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCACC,SAAS,IAAM,UAAU;gCACzB,WAAW,CAAC,iDAAiD,EAC3D,WAAW,WACP,yEACA,uFACJ;0CACH;;;;;;0CAGD,8OAAC;gCACC,SAAS,IAAM,UAAU;gCACzB,WAAW,CAAC,iDAAiD,EAC3D,WAAW,YACP,yEACA,uFACJ;0CACH;;;;;;;;;;;;;;;;;;YAOJ,wBACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;;;;;;;;;uBAEf,QAAQ,MAAM,KAAK,kBACrB,8OAAC;gBAAI,WAAU;0BAAgE;;;;;qCAI/E,8OAAC;gBAAI,WAAU;0BACZ,QAAQ,GAAG,CAAC,CAAC,OAAO,sBACnB,8OAAC,uKAAI;wBAEH,MAAM,CAAC,SAAS,EAAE,MAAM,QAAQ,EAAE;wBAClC,WAAU;;0CAGV,8OAAC;gCAAK,WAAW,CAAC,mDAAmD,EACnE,UAAU,IAAI,mBAAmB,UAAU,IAAI,kBAAkB,UAAU,IAAI,mBAAmB,uCAClG;0CACC,QAAQ;;;;;;4BAIV,MAAM,YAAY,iBACjB,8OAAC;gCACC,KAAK,MAAM,YAAY;gCACvB,KAAK,MAAM,IAAI;gCACf,WAAU;;;;;qDAGZ,8OAAC;gCAAI,WAAU;0CACZ,MAAM,IAAI,CAAC,MAAM,CAAC;;;;;;0CAKvB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAE,WAAU;kDAA8D,MAAM,IAAI;;;;;;oCACpF,MAAM,OAAO,kBACZ,8OAAC;wCAAE,WAAU;kDAAwD,MAAM,OAAO;;;;;;;;;;;;0CAKtF,8OAAC;gCAAK,WAAU;0CACb,MAAM,eAAe;;;;;;;uBAlCnB,MAAM,EAAE;;;;;;;;;;;;;;;;AA0C3B"}},
    {"offset": {"line": 1397, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/engagement/DailyMatchCard.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { UserPlus, ChevronRight, X, MessageCircle, Check, Loader2 } from 'lucide-react';\nimport { getDailyMatches, getHiddenGem, type DailyMatch, type DailyMatchesResponse } from '@/lib/api/engagement';\nimport { sendConnectionRequest } from '@/lib/api/connections';\nimport Link from 'next/link';\n\n/**\n * DailyMatchCard - Professional \"People you may know\" card\n * Clean LinkedIn-style suggestion list with functional Connect button\n */\nexport default function DailyMatchCard() {\n  const [matchData, setMatchData] = useState<DailyMatchesResponse | null>(null);\n  const [hiddenGem, setHiddenGem] = useState<{ match: DailyMatch; message: string } | null>(null);\n  const [dismissed, setDismissed] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [connectingIds, setConnectingIds] = useState<Set<string>>(new Set());\n  const [connectedIds, setConnectedIds] = useState<Set<string>>(new Set());\n\n  useEffect(() => {\n    const fetchMatches = async () => {\n      try {\n        const [matches, gem] = await Promise.all([\n          getDailyMatches(),\n          getHiddenGem(),\n        ]);\n        setMatchData(matches);\n        if (gem) setHiddenGem(gem as { match: DailyMatch; message: string });\n      } catch (error) {\n        console.error('Failed to fetch daily matches:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMatches();\n  }, []);\n\n  const handleConnect = async (e: React.MouseEvent, userId: string) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (connectingIds.has(userId) || connectedIds.has(userId)) return;\n    \n    setConnectingIds(prev => new Set([...prev, userId]));\n    try {\n      await sendConnectionRequest(userId);\n      setConnectedIds(prev => new Set([...prev, userId]));\n    } catch (error) {\n      console.error('Failed to send connection request:', error);\n    } finally {\n      setConnectingIds(prev => {\n        const next = new Set(prev);\n        next.delete(userId);\n        return next;\n      });\n    }\n  };\n\n  if (loading || dismissed || !matchData || matchData.matches.length === 0) return null;\n\n  const ConnectButton = ({ userId }: { userId: string }) => {\n    const isConnecting = connectingIds.has(userId);\n    const isConnected = connectedIds.has(userId);\n    \n    if (isConnected) {\n      return (\n        <span className=\"flex items-center gap-1 px-3 py-1.5 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 text-xs font-medium rounded-full flex-shrink-0\">\n          <Check className=\"w-3 h-3\" />\n          Sent\n        </span>\n      );\n    }\n    \n    return (\n      <button\n        onClick={(e) => handleConnect(e, userId)}\n        disabled={isConnecting}\n        className=\"flex items-center gap-1 px-3 py-1.5 border border-blue-500 text-blue-600 dark:text-blue-400 text-xs font-medium rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors flex-shrink-0 disabled:opacity-50\"\n      >\n        {isConnecting ? (\n          <Loader2 className=\"w-3 h-3 animate-spin\" />\n        ) : (\n          <UserPlus className=\"w-3 h-3\" />\n        )}\n        Connect\n      </button>\n    );\n  };\n\n  return (\n    <div className=\"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-neutral-800\">\n        <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">\n          People you may know\n        </h3>\n        <button onClick={() => setDismissed(true)} className=\"p-0.5 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded transition-colors\">\n          <X className=\"w-4 h-4 text-gray-300 dark:text-neutral-500\" />\n        </button>\n      </div>\n\n      {/* Surprise message — subtle info bar */}\n      <AnimatePresence>\n        {matchData.surpriseMessage && (\n          <motion.div\n            initial={{ opacity: 0, height: 0 }}\n            animate={{ opacity: 1, height: 'auto' }}\n            exit={{ opacity: 0, height: 0 }}\n            className=\"px-4 py-2 bg-blue-50 dark:bg-blue-900/10 border-b border-blue-100 dark:border-blue-900/20\"\n          >\n            <p className=\"text-xs text-blue-600 dark:text-blue-400\">{matchData.surpriseMessage}</p>\n          </motion.div>\n        )}\n      </AnimatePresence>\n\n      {/* Match List */}\n      <div className=\"divide-y divide-gray-100 dark:divide-neutral-800\">\n        {matchData.matches.map((match) => (\n          <Link\n            key={match.id}\n            href={`/profile/${match.username}`}\n            className=\"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors\"\n          >\n            {match.profileImage ? (\n              <img\n                src={match.profileImage}\n                alt={match.name}\n                className=\"w-10 h-10 rounded-full object-cover flex-shrink-0\"\n              />\n            ) : (\n              <div className=\"w-10 h-10 rounded-full bg-gray-200 dark:bg-neutral-700 flex items-center justify-center text-gray-500 dark:text-neutral-400 text-sm font-semibold flex-shrink-0\">\n                {match.name.charAt(0)}\n              </div>\n            )}\n\n            <div className=\"flex-1 min-w-0\">\n              <div className=\"flex items-center gap-1.5\">\n                <p className=\"text-sm font-medium text-gray-900 dark:text-white truncate\">{match.name}</p>\n                {match.isOnline && (\n                  <span className=\"w-1.5 h-1.5 bg-green-500 rounded-full flex-shrink-0\" />\n                )}\n              </div>\n              {match.headline && (\n                <p className=\"text-xs text-gray-500 dark:text-neutral-400 truncate mt-0.5\">{match.headline}</p>\n              )}\n              <div className=\"flex items-center gap-2 mt-0.5\">\n                {match.college && (\n                  <p className=\"text-xs text-gray-400 dark:text-neutral-500 truncate\">{match.college}</p>\n                )}\n                {match.replyRate !== undefined && (\n                  <span className={`inline-flex items-center gap-0.5 text-[10px] font-medium px-1.5 py-0.5 rounded-full ${\n                    match.replyRate >= 80\n                      ? 'bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400'\n                      : match.replyRate >= 50\n                        ? 'bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400'\n                        : 'bg-gray-100 dark:bg-neutral-800 text-gray-500 dark:text-neutral-400'\n                  }`}>\n                    <MessageCircle className=\"w-2.5 h-2.5\" />\n                    {match.replyRate}%\n                  </span>\n                )}\n              </div>\n            </div>\n\n            <ConnectButton userId={match.id} />\n          </Link>\n        ))}\n      </div>\n\n      {/* Hidden Gem — integrated as a highlighted row */}\n      {hiddenGem && (\n        <Link\n          href={`/profile/${hiddenGem.match.username}`}\n          className=\"flex items-center gap-3 px-4 py-3 bg-gray-50 dark:bg-neutral-800/30 border-t border-gray-100 dark:border-neutral-800 hover:bg-gray-100 dark:hover:bg-neutral-800/60 transition-colors\"\n        >\n          {hiddenGem.match.profileImage ? (\n            <img\n              src={hiddenGem.match.profileImage}\n              alt={hiddenGem.match.name}\n              className=\"w-10 h-10 rounded-full object-cover flex-shrink-0\"\n            />\n          ) : (\n            <div className=\"w-10 h-10 rounded-full bg-gray-200 dark:bg-neutral-700 flex items-center justify-center text-gray-500 dark:text-neutral-400 text-sm font-semibold flex-shrink-0\">\n              {hiddenGem.match.name.charAt(0)}\n            </div>\n          )}\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-xs text-blue-600 dark:text-blue-400 font-medium mb-0.5\">{hiddenGem.message}</p>\n            <p className=\"text-sm font-medium text-gray-900 dark:text-white truncate\">{hiddenGem.match.name}</p>\n            <p className=\"text-xs text-gray-500 dark:text-neutral-400 truncate\">{hiddenGem.match.headline || hiddenGem.match.college}</p>\n          </div>\n          <ConnectButton userId={hiddenGem.match.id} />\n        </Link>\n      )}\n\n      {/* Footer */}\n      <Link\n        href=\"/find-people\"\n        className=\"flex items-center justify-center gap-1 px-4 py-2.5 text-xs text-blue-600 dark:text-blue-400 font-medium hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors border-t border-gray-100 dark:border-neutral-800\"\n      >\n        Show more <ChevronRight className=\"w-3 h-3\" />\n      </Link>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAPA;;;;;;;;AAae,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAA8B;IACxE,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAgD;IAC1F,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAc,IAAI;IACpE,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAc,IAAI;IAElE,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe;YACnB,IAAI;gBACF,MAAM,CAAC,SAAS,IAAI,GAAG,MAAM,QAAQ,GAAG,CAAC;oBACvC,IAAA,kJAAe;oBACf,IAAA,+IAAY;iBACb;gBACD,aAAa;gBACb,IAAI,KAAK,aAAa;YACxB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,kCAAkC;YAClD,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG,EAAE;IAEL,MAAM,gBAAgB,OAAO,GAAqB;QAChD,EAAE,cAAc;QAChB,EAAE,eAAe;QACjB,IAAI,cAAc,GAAG,CAAC,WAAW,aAAa,GAAG,CAAC,SAAS;QAE3D,iBAAiB,CAAA,OAAQ,IAAI,IAAI;mBAAI;gBAAM;aAAO;QAClD,IAAI;YACF,MAAM,IAAA,yJAAqB,EAAC;YAC5B,gBAAgB,CAAA,OAAQ,IAAI,IAAI;uBAAI;oBAAM;iBAAO;QACnD,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sCAAsC;QACtD,SAAU;YACR,iBAAiB,CAAA;gBACf,MAAM,OAAO,IAAI,IAAI;gBACrB,KAAK,MAAM,CAAC;gBACZ,OAAO;YACT;QACF;IACF;IAEA,IAAI,WAAW,aAAa,CAAC,aAAa,UAAU,OAAO,CAAC,MAAM,KAAK,GAAG,OAAO;IAEjF,MAAM,gBAAgB,CAAC,EAAE,MAAM,EAAsB;QACnD,MAAM,eAAe,cAAc,GAAG,CAAC;QACvC,MAAM,cAAc,aAAa,GAAG,CAAC;QAErC,IAAI,aAAa;YACf,qBACE,8OAAC;gBAAK,WAAU;;kCACd,8OAAC,6MAAK;wBAAC,WAAU;;;;;;oBAAY;;;;;;;QAInC;QAEA,qBACE,8OAAC;YACC,SAAS,CAAC,IAAM,cAAc,GAAG;YACjC,UAAU;YACV,WAAU;;gBAET,6BACC,8OAAC,4NAAO;oBAAC,WAAU;;;;;yCAEnB,8OAAC,0NAAQ;oBAAC,WAAU;;;;;;gBACpB;;;;;;;IAIR;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAsD;;;;;;kCAGpE,8OAAC;wBAAO,SAAS,IAAM,aAAa;wBAAO,WAAU;kCACnD,cAAA,8OAAC,iMAAC;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAKjB,8OAAC,4MAAe;0BACb,UAAU,eAAe,kBACxB,8OAAC,oMAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;wBAAG,QAAQ;oBAAE;oBACjC,SAAS;wBAAE,SAAS;wBAAG,QAAQ;oBAAO;oBACtC,MAAM;wBAAE,SAAS;wBAAG,QAAQ;oBAAE;oBAC9B,WAAU;8BAEV,cAAA,8OAAC;wBAAE,WAAU;kCAA4C,UAAU,eAAe;;;;;;;;;;;;;;;;0BAMxF,8OAAC;gBAAI,WAAU;0BACZ,UAAU,OAAO,CAAC,GAAG,CAAC,CAAC,sBACtB,8OAAC,uKAAI;wBAEH,MAAM,CAAC,SAAS,EAAE,MAAM,QAAQ,EAAE;wBAClC,WAAU;;4BAET,MAAM,YAAY,iBACjB,8OAAC;gCACC,KAAK,MAAM,YAAY;gCACvB,KAAK,MAAM,IAAI;gCACf,WAAU;;;;;qDAGZ,8OAAC;gCAAI,WAAU;0CACZ,MAAM,IAAI,CAAC,MAAM,CAAC;;;;;;0CAIvB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;0DAA8D,MAAM,IAAI;;;;;;4CACpF,MAAM,QAAQ,kBACb,8OAAC;gDAAK,WAAU;;;;;;;;;;;;oCAGnB,MAAM,QAAQ,kBACb,8OAAC;wCAAE,WAAU;kDAA+D,MAAM,QAAQ;;;;;;kDAE5F,8OAAC;wCAAI,WAAU;;4CACZ,MAAM,OAAO,kBACZ,8OAAC;gDAAE,WAAU;0DAAwD,MAAM,OAAO;;;;;;4CAEnF,MAAM,SAAS,KAAK,2BACnB,8OAAC;gDAAK,WAAW,CAAC,oFAAoF,EACpG,MAAM,SAAS,IAAI,KACf,wEACA,MAAM,SAAS,IAAI,KACjB,4EACA,uEACN;;kEACA,8OAAC,yOAAa;wDAAC,WAAU;;;;;;oDACxB,MAAM,SAAS;oDAAC;;;;;;;;;;;;;;;;;;;0CAMzB,8OAAC;gCAAc,QAAQ,MAAM,EAAE;;;;;;;uBA7C1B,MAAM,EAAE;;;;;;;;;;YAmDlB,2BACC,8OAAC,uKAAI;gBACH,MAAM,CAAC,SAAS,EAAE,UAAU,KAAK,CAAC,QAAQ,EAAE;gBAC5C,WAAU;;oBAET,UAAU,KAAK,CAAC,YAAY,iBAC3B,8OAAC;wBACC,KAAK,UAAU,KAAK,CAAC,YAAY;wBACjC,KAAK,UAAU,KAAK,CAAC,IAAI;wBACzB,WAAU;;;;;6CAGZ,8OAAC;wBAAI,WAAU;kCACZ,UAAU,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;;;;;;kCAGjC,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAA+D,UAAU,OAAO;;;;;;0CAC7F,8OAAC;gCAAE,WAAU;0CAA8D,UAAU,KAAK,CAAC,IAAI;;;;;;0CAC/F,8OAAC;gCAAE,WAAU;0CAAwD,UAAU,KAAK,CAAC,QAAQ,IAAI,UAAU,KAAK,CAAC,OAAO;;;;;;;;;;;;kCAE1H,8OAAC;wBAAc,QAAQ,UAAU,KAAK,CAAC,EAAE;;;;;;;;;;;;0BAK7C,8OAAC,uKAAI;gBACH,MAAK;gBACL,WAAU;;oBACX;kCACW,8OAAC,sOAAY;wBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI1C"}},
    {"offset": {"line": 1798, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/engagement/TodayMatchesSkeleton.tsx"],"sourcesContent":["'use client';\n\nexport function TodayMatchesSkeleton() {\n  return (\n    <div className=\"relative mb-4\">\n      <div className=\"flex items-center justify-between px-4 lg:px-0 mb-3\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-4 h-4 rounded bg-gray-200 dark:bg-neutral-700 animate-pulse\" />\n          <div className=\"h-4 w-28 bg-gray-200 dark:bg-neutral-700 rounded animate-pulse\" />\n        </div>\n      </div>\n      <div className=\"flex gap-3 overflow-hidden px-4 lg:px-0\">\n        {[1, 2, 3, 4].map((i) => (\n          <div\n            key={i}\n            className=\"flex-shrink-0 w-[200px] bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden animate-pulse\"\n          >\n            <div className=\"flex justify-center pt-4 pb-2\">\n              <div className=\"w-16 h-16 rounded-full bg-gray-200 dark:bg-neutral-700\" />\n            </div>\n            <div className=\"px-3 pb-3 space-y-2\">\n              <div className=\"h-4 w-24 mx-auto bg-gray-200 dark:bg-neutral-700 rounded\" />\n              <div className=\"h-3 w-16 mx-auto bg-gray-200 dark:bg-neutral-700 rounded\" />\n              <div className=\"h-8 w-full bg-gray-200 dark:bg-neutral-700 rounded-full mt-2\" />\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAEO,SAAS;IACd,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;;;;;sCACf,8OAAC;4BAAI,WAAU;;;;;;;;;;;;;;;;;0BAGnB,8OAAC;gBAAI,WAAU;0BACZ;oBAAC;oBAAG;oBAAG;oBAAG;iBAAE,CAAC,GAAG,CAAC,CAAC,kBACjB,8OAAC;wBAEC,WAAU;;0CAEV,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,WAAU;;;;;;;;;;;0CAEjB,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAI,WAAU;;;;;;kDACf,8OAAC;wCAAI,WAAU;;;;;;kDACf,8OAAC;wCAAI,WAAU;;;;;;;;;;;;;uBATZ;;;;;;;;;;;;;;;;AAgBjB"}},
    {"offset": {"line": 1915, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/engagement/TodayMatchesSection.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { UserPlus, ChevronRight, ChevronLeft, Check, Loader2, Sparkles, MessageCircle } from 'lucide-react';\nimport { getDailyMatches, type DailyMatch, type DailyMatchesResponse } from '@/lib/api/engagement';\nimport { sendConnectionRequest } from '@/lib/api/connections';\nimport Link from 'next/link';\nimport { TodayMatchesSkeleton } from './TodayMatchesSkeleton';\n\n/**\n * TodayMatchesSection - Horizontal scrollable match cards at top of feed\n * Like Android's TodayMatchesSection — prominent, above posts\n */\nexport default function TodayMatchesSection() {\n  const [matchData, setMatchData] = useState<DailyMatchesResponse | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [connectingIds, setConnectingIds] = useState<Set<string>>(new Set());\n  const [connectedIds, setConnectedIds] = useState<Set<string>>(new Set());\n  const scrollRef = useRef<HTMLDivElement>(null);\n  const [canScrollLeft, setCanScrollLeft] = useState(false);\n  const [canScrollRight, setCanScrollRight] = useState(false);\n\n  useEffect(() => {\n    const fetchMatches = async () => {\n      try {\n        const data = await getDailyMatches();\n        setMatchData(data);\n      } catch (error) {\n        console.error('Failed to fetch daily matches:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMatches();\n  }, []);\n\n  // Track scroll state for arrow visibility\n  useEffect(() => {\n    const el = scrollRef.current;\n    if (!el) return;\n    const check = () => {\n      setCanScrollLeft(el.scrollLeft > 8);\n      setCanScrollRight(el.scrollLeft < el.scrollWidth - el.clientWidth - 8);\n    };\n    check();\n    el.addEventListener('scroll', check, { passive: true });\n    return () => el.removeEventListener('scroll', check);\n  }, [matchData]);\n\n  const scroll = (dir: 'left' | 'right') => {\n    scrollRef.current?.scrollBy({ left: dir === 'left' ? -260 : 260, behavior: 'smooth' });\n  };\n\n  const handleConnect = async (e: React.MouseEvent, userId: string) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (connectingIds.has(userId) || connectedIds.has(userId)) return;\n\n    setConnectingIds(prev => new Set([...prev, userId]));\n    try {\n      await sendConnectionRequest(userId);\n      setConnectedIds(prev => new Set([...prev, userId]));\n    } catch (error) {\n      console.error('Failed to send connection request:', error);\n    } finally {\n      setConnectingIds(prev => {\n        const next = new Set(prev);\n        next.delete(userId);\n        return next;\n      });\n    }\n  };\n\n  if (loading) return <TodayMatchesSkeleton />;\n  if (!matchData || matchData.matches.length === 0) return null;\n\n  return (\n    <div className=\"relative mb-4\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between px-4 lg:px-0 mb-3\">\n        <div className=\"flex items-center gap-2\">\n          <Sparkles className=\"w-4 h-4 text-amber-500\" />\n          <h3 className=\"text-sm font-semibold text-gray-900 dark:text-white\">Today&apos;s Matches</h3>\n          <span className=\"text-xs text-gray-400 dark:text-neutral-500\">\n            {matchData.matches.length} people\n          </span>\n        </div>\n        <Link\n          href=\"/find-people\"\n          className=\"flex items-center gap-0.5 text-xs text-blue-600 dark:text-blue-400 font-medium hover:underline\"\n        >\n          See all <ChevronRight className=\"w-3 h-3\" />\n        </Link>\n      </div>\n\n      {/* Scroll arrows (desktop) */}\n      <AnimatePresence>\n        {canScrollLeft && (\n          <motion.button\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={() => scroll('left')}\n            className=\"hidden lg:flex absolute left-0 top-1/2 mt-3 z-10 w-8 h-8 items-center justify-center rounded-full bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 shadow-md hover:bg-gray-50 dark:hover:bg-neutral-700 transition-colors\"\n          >\n            <ChevronLeft className=\"w-4 h-4 text-gray-600 dark:text-neutral-300\" />\n          </motion.button>\n        )}\n        {canScrollRight && (\n          <motion.button\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            onClick={() => scroll('right')}\n            className=\"hidden lg:flex absolute right-0 top-1/2 mt-3 z-10 w-8 h-8 items-center justify-center rounded-full bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 shadow-md hover:bg-gray-50 dark:hover:bg-neutral-700 transition-colors\"\n          >\n            <ChevronRight className=\"w-4 h-4 text-gray-600 dark:text-neutral-300\" />\n          </motion.button>\n        )}\n      </AnimatePresence>\n\n      {/* Horizontal scroll container */}\n      <div\n        ref={scrollRef}\n        className=\"flex gap-3 overflow-x-auto scrollbar-hide px-4 lg:px-0 pb-1\"\n        style={{ scrollSnapType: 'x mandatory' }}\n      >\n        {matchData.matches.map((match, i) => (\n          <MatchCard\n            key={match.id}\n            match={match}\n            index={i}\n            isConnecting={connectingIds.has(match.id)}\n            isConnected={connectedIds.has(match.id)}\n            onConnect={handleConnect}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction MatchCard({\n  match,\n  index,\n  isConnecting,\n  isConnected,\n  onConnect,\n}: {\n  match: DailyMatch;\n  index: number;\n  isConnecting: boolean;\n  isConnected: boolean;\n  onConnect: (e: React.MouseEvent, userId: string) => void;\n}) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ delay: index * 0.05 }}\n      className=\"flex-shrink-0 w-[200px] bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden hover:shadow-md transition-shadow\"\n      style={{ scrollSnapAlign: 'start' }}\n    >\n      <Link href={`/profile/${match.username}`} className=\"block\">\n        {/* Avatar + Online indicator */}\n        <div className=\"relative flex justify-center pt-4 pb-2\">\n          <div className=\"relative\">\n            {match.profileImage ? (\n              <img\n                src={match.profileImage}\n                alt={match.name}\n                className=\"w-16 h-16 rounded-full object-cover border-2 border-white dark:border-neutral-800 shadow-sm\"\n              />\n            ) : (\n              <div className=\"w-16 h-16 rounded-full bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 flex items-center justify-center text-xl font-bold text-blue-600 dark:text-blue-400 border-2 border-white dark:border-neutral-800 shadow-sm\">\n                {match.name.charAt(0)}\n              </div>\n            )}\n            {match.isOnline && (\n              <span className=\"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 border-2 border-white dark:border-neutral-900 rounded-full\" />\n            )}\n          </div>\n        </div>\n\n        {/* Info */}\n        <div className=\"px-3 pb-2 text-center\">\n          <p className=\"text-sm font-semibold text-gray-900 dark:text-white truncate\">{match.name}</p>\n          {match.college && (\n            <p className=\"text-[11px] text-gray-400 dark:text-neutral-500 truncate mt-0.5\">{match.college}</p>\n          )}\n          {match.headline && (\n            <p className=\"text-[11px] text-gray-500 dark:text-neutral-400 truncate mt-0.5\">{match.headline}</p>\n          )}\n        </div>\n\n        {/* Interest chips */}\n        {match.interests && match.interests.length > 0 && (\n          <div className=\"px-3 pb-2 flex flex-wrap justify-center gap-1\">\n            {match.interests.slice(0, 2).map((interest) => (\n              <span\n                key={interest}\n                className=\"text-[10px] px-2 py-0.5 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-medium\"\n              >\n                {interest}\n              </span>\n            ))}\n            {match.interests.length > 2 && (\n              <span className=\"text-[10px] px-1.5 py-0.5 text-gray-400 dark:text-neutral-500\">\n                +{match.interests.length - 2}\n              </span>\n            )}\n          </div>\n        )}\n\n        {/* Reply rate badge */}\n        {match.replyRate !== undefined && match.replyRate >= 50 && (\n          <div className=\"flex justify-center pb-2\">\n            <span className={`inline-flex items-center gap-0.5 text-[10px] font-medium px-2 py-0.5 rounded-full ${\n              match.replyRate >= 80\n                ? 'bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400'\n                : 'bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400'\n            }`}>\n              <MessageCircle className=\"w-2.5 h-2.5\" />\n              {match.replyRate}% reply rate\n            </span>\n          </div>\n        )}\n      </Link>\n\n      {/* Connect button */}\n      <div className=\"px-3 pb-3\">\n        {isConnected ? (\n          <div className=\"flex items-center justify-center gap-1.5 w-full py-2 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 text-xs font-medium rounded-lg\">\n            <Check className=\"w-3 h-3\" />\n            Request Sent\n          </div>\n        ) : (\n          <button\n            onClick={(e) => onConnect(e, match.id)}\n            disabled={isConnecting}\n            className=\"flex items-center justify-center gap-1.5 w-full py-2 border border-blue-500 text-blue-600 dark:text-blue-400 text-xs font-medium rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors disabled:opacity-50\"\n          >\n            {isConnecting ? (\n              <Loader2 className=\"w-3 h-3 animate-spin\" />\n            ) : (\n              <UserPlus className=\"w-3 h-3\" />\n            )}\n            Connect\n          </button>\n        )}\n      </div>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2378, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/engagement/RewardPopup.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { X, Flame, Trophy, Target, Zap, Star, Award, TrendingUp, MessageCircle, Users, Crown } from 'lucide-react';\n\n/**\n * RewardPopup - General purpose milestone/reward popup\n * Like Android's RewardBottomSheet — fires for streaks, goals, first-time actions, XP, etc.\n */\n\nexport type RewardType =\n  | 'streak_milestone'\n  | 'weekly_goal_complete'\n  | 'first_post'\n  | 'first_connection'\n  | 'connection_milestone'\n  | 'leaderboard_rank'\n  | 'xp_gain'\n  | 'level_up'\n  | 'badge_earned';\n\nexport interface RewardData {\n  id: string;\n  type: RewardType;\n  title: string;\n  message: string;\n  value?: string | number;\n  subtext?: string;\n  showConfetti?: boolean;\n}\n\ninterface RewardPopupProps {\n  rewards: RewardData[];\n  onDismiss: (id: string) => void;\n}\n\nconst rewardConfig: Record<RewardType, {\n  icon: typeof Flame;\n  gradient: string;\n  iconColor: string;\n  badgeBg: string;\n  confettiColors: string[];\n}> = {\n  streak_milestone: {\n    icon: Flame,\n    gradient: 'from-orange-500 to-red-500',\n    iconColor: 'text-orange-500',\n    badgeBg: 'bg-orange-50 dark:bg-orange-900/20',\n    confettiColors: ['#f97316', '#ef4444', '#eab308'],\n  },\n  weekly_goal_complete: {\n    icon: Target,\n    gradient: 'from-green-500 to-emerald-500',\n    iconColor: 'text-green-500',\n    badgeBg: 'bg-green-50 dark:bg-green-900/20',\n    confettiColors: ['#22c55e', '#10b981', '#34d399'],\n  },\n  first_post: {\n    icon: Star,\n    gradient: 'from-blue-500 to-indigo-500',\n    iconColor: 'text-blue-500',\n    badgeBg: 'bg-blue-50 dark:bg-blue-900/20',\n    confettiColors: ['#3b82f6', '#6366f1', '#818cf8'],\n  },\n  first_connection: {\n    icon: Users,\n    gradient: 'from-purple-500 to-pink-500',\n    iconColor: 'text-purple-500',\n    badgeBg: 'bg-purple-50 dark:bg-purple-900/20',\n    confettiColors: ['#a855f7', '#ec4899', '#d946ef'],\n  },\n  connection_milestone: {\n    icon: Users,\n    gradient: 'from-indigo-500 to-purple-500',\n    iconColor: 'text-indigo-500',\n    badgeBg: 'bg-indigo-50 dark:bg-indigo-900/20',\n    confettiColors: ['#6366f1', '#a855f7', '#818cf8'],\n  },\n  leaderboard_rank: {\n    icon: Crown,\n    gradient: 'from-amber-500 to-yellow-500',\n    iconColor: 'text-amber-500',\n    badgeBg: 'bg-amber-50 dark:bg-amber-900/20',\n    confettiColors: ['#f59e0b', '#eab308', '#fbbf24'],\n  },\n  xp_gain: {\n    icon: Zap,\n    gradient: 'from-cyan-500 to-blue-500',\n    iconColor: 'text-cyan-500',\n    badgeBg: 'bg-cyan-50 dark:bg-cyan-900/20',\n    confettiColors: ['#06b6d4', '#3b82f6', '#0891b2'],\n  },\n  level_up: {\n    icon: TrendingUp,\n    gradient: 'from-emerald-500 to-teal-500',\n    iconColor: 'text-emerald-500',\n    badgeBg: 'bg-emerald-50 dark:bg-emerald-900/20',\n    confettiColors: ['#10b981', '#14b8a6', '#34d399'],\n  },\n  badge_earned: {\n    icon: Award,\n    gradient: 'from-pink-500 to-rose-500',\n    iconColor: 'text-pink-500',\n    badgeBg: 'bg-pink-50 dark:bg-pink-900/20',\n    confettiColors: ['#ec4899', '#f43f5e', '#fb7185'],\n  },\n};\n\nexport default function RewardPopup({ rewards, onDismiss }: RewardPopupProps) {\n  const [currentReward, setCurrentReward] = useState<RewardData | null>(null);\n\n  useEffect(() => {\n    if (rewards.length > 0 && !currentReward) {\n      setCurrentReward(rewards[0]);\n    }\n  }, [rewards, currentReward]);\n\n  const fireConfetti = useCallback(async (colors: string[]) => {\n    try {\n      const confetti = (await import('canvas-confetti')).default;\n      confetti({ particleCount: 60, spread: 55, origin: { x: 0.3, y: 0.6 }, colors });\n      setTimeout(() => {\n        confetti({ particleCount: 60, spread: 55, origin: { x: 0.7, y: 0.6 }, colors });\n      }, 150);\n    } catch {\n      // canvas-confetti not available\n    }\n  }, []);\n\n  useEffect(() => {\n    if (currentReward?.showConfetti) {\n      const config = rewardConfig[currentReward.type];\n      setTimeout(() => fireConfetti(config.confettiColors), 300);\n    }\n  }, [currentReward, fireConfetti]);\n\n  // Auto-dismiss after 5s\n  useEffect(() => {\n    if (!currentReward) return;\n    const timer = setTimeout(() => handleDismiss(), 5000);\n    return () => clearTimeout(timer);\n  }, [currentReward]);\n\n  const handleDismiss = () => {\n    if (!currentReward) return;\n    const id = currentReward.id;\n    setCurrentReward(null);\n    onDismiss(id);\n    // Show next reward after brief delay\n    setTimeout(() => {\n      const remaining = rewards.filter(r => r.id !== id);\n      if (remaining.length > 0) {\n        setCurrentReward(remaining[0]);\n      }\n    }, 300);\n  };\n\n  if (!currentReward) return null;\n\n  const config = rewardConfig[currentReward.type];\n  const Icon = config.icon;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        key={currentReward.id}\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        transition={{ duration: 0.15 }}\n        className=\"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/30\"\n        onClick={handleDismiss}\n      >\n        <motion.div\n          initial={{ opacity: 0, y: 60, scale: 0.95 }}\n          animate={{ opacity: 1, y: 0, scale: 1 }}\n          exit={{ opacity: 0, y: 60, scale: 0.95 }}\n          transition={{ type: 'spring', stiffness: 400, damping: 30 }}\n          className=\"bg-white dark:bg-neutral-900 rounded-t-2xl sm:rounded-2xl w-full max-w-sm shadow-xl border border-gray-200 dark:border-neutral-800 overflow-hidden\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Gradient header */}\n          <div className={`h-1.5 bg-gradient-to-r ${config.gradient}`} />\n\n          <div className=\"p-6 text-center\">\n            {/* Animated icon */}\n            <motion.div\n              initial={{ scale: 0, rotate: -15 }}\n              animate={{ scale: 1, rotate: 0 }}\n              transition={{ type: 'spring', stiffness: 500, damping: 20, delay: 0.1 }}\n              className={`w-16 h-16 mx-auto mb-4 rounded-2xl ${config.badgeBg} flex items-center justify-center`}\n            >\n              <Icon className={`w-8 h-8 ${config.iconColor}`} />\n            </motion.div>\n\n            {/* Value badge */}\n            {currentReward.value && (\n              <motion.div\n                initial={{ opacity: 0, scale: 0.5 }}\n                animate={{ opacity: 1, scale: 1 }}\n                transition={{ delay: 0.2 }}\n                className={`inline-flex items-center gap-1 px-3 py-1 rounded-full ${config.badgeBg} mb-3`}\n              >\n                <span className={`text-lg font-bold ${config.iconColor}`}>\n                  {currentReward.value}\n                </span>\n              </motion.div>\n            )}\n\n            {/* Title */}\n            <motion.h2\n              initial={{ opacity: 0, y: 5 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.15 }}\n              className=\"text-lg font-bold text-gray-900 dark:text-white mb-1\"\n            >\n              {currentReward.title}\n            </motion.h2>\n\n            {/* Message */}\n            <motion.p\n              initial={{ opacity: 0, y: 5 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.2 }}\n              className=\"text-sm text-gray-500 dark:text-neutral-400 mb-1\"\n            >\n              {currentReward.message}\n            </motion.p>\n\n            {/* Subtext */}\n            {currentReward.subtext && (\n              <motion.p\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 0.3 }}\n                className=\"text-xs text-gray-400 dark:text-neutral-500\"\n              >\n                {currentReward.subtext}\n              </motion.p>\n            )}\n\n            {/* Remaining indicator */}\n            {rewards.length > 1 && (\n              <div className=\"flex items-center justify-center gap-1 mt-4\">\n                {rewards.slice(0, Math.min(rewards.length, 5)).map((r, i) => (\n                  <div\n                    key={r.id}\n                    className={`w-1.5 h-1.5 rounded-full transition-colors ${\n                      r.id === currentReward.id\n                        ? 'bg-blue-500'\n                        : 'bg-gray-200 dark:bg-neutral-700'\n                    }`}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n\n          {/* Dismiss */}\n          <button\n            onClick={handleDismiss}\n            className=\"w-full py-3 border-t border-gray-100 dark:border-neutral-800 text-sm font-medium text-gray-500 dark:text-neutral-400 hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors\"\n          >\n            Continue\n          </button>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2779, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/engagement/FeedWidgets.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport {\n  Flame, Target, Users, FileText, MessageSquare,\n  ChevronRight, TrendingUp, Zap, AlertTriangle,\n} from 'lucide-react';\nimport Link from 'next/link';\nimport { getStreaks, getWeeklyGoals, getNudges, type StreakData, type WeeklyGoals, type ProgressNudge } from '@/lib/api/engagement';\nimport { WeeklyGoalsSkeleton } from './WeeklyGoalsSkeleton';\n\n/**\n * Inline feed gamification widgets — interleaved between posts\n * Mirrors Android's GamificationWidgets.kt\n */\n\n// ─── StreakWidget ─────────────────────────────────────────────────\n// Compact fire-themed streak card inserted between posts\n\nexport function StreakWidget() {\n  const [streak, setStreak] = useState<StreakData | null>(null);\n\n  useEffect(() => {\n    getStreaks().then(setStreak).catch(() => {});\n  }, []);\n\n  if (!streak) return null;\n\n  const best = Math.max(\n    streak.connectionStreak,\n    streak.loginStreak,\n    streak.postingStreak,\n    streak.messagingStreak\n  );\n  if (best === 0) return null;\n\n  const anyAtRisk = streak.isAtRisk ? Object.values(streak.isAtRisk).some(Boolean) : false;\n\n  const rows = [\n    { label: 'Networking', value: streak.connectionStreak, longest: streak.longestConnectionStreak, color: 'bg-orange-500', riskKey: 'connection' },\n    { label: 'Login', value: streak.loginStreak, longest: streak.longestLoginStreak, color: 'bg-blue-500', riskKey: 'login' },\n    { label: 'Posting', value: streak.postingStreak, longest: streak.longestPostingStreak, color: 'bg-green-500', riskKey: 'posting' },\n    { label: 'Messaging', value: streak.messagingStreak, longest: streak.longestMessagingStreak, color: 'bg-purple-500', riskKey: 'messaging' },\n  ].filter(r => r.value > 0);\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 8 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden\"\n    >\n      {/* Header */}\n      <div className=\"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-neutral-800\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-8 h-8 rounded-lg bg-orange-50 dark:bg-orange-900/20 flex items-center justify-center\">\n            <Flame className=\"w-4 h-4 text-orange-500\" />\n          </div>\n          <div>\n            <p className=\"text-sm font-semibold text-gray-900 dark:text-white\">\n              {best}-day streak! <span className=\"text-orange-500\">🔥</span>\n            </p>\n            {anyAtRisk && (\n              <p className=\"text-[11px] text-amber-600 dark:text-amber-400 flex items-center gap-0.5\">\n                <AlertTriangle className=\"w-3 h-3\" /> Some streaks at risk\n              </p>\n            )}\n          </div>\n        </div>\n        <Link href=\"/streaks\" className=\"text-xs text-blue-600 dark:text-blue-400 font-medium flex items-center gap-0.5 hover:underline\">\n          Details <ChevronRight className=\"w-3 h-3\" />\n        </Link>\n      </div>\n\n      {/* Streak bars */}\n      <div className=\"px-4 py-3 space-y-2.5\">\n        {rows.map((row) => {\n          const pct = row.longest > 0 ? Math.min((row.value / row.longest) * 100, 100) : 100;\n          const atRisk = streak.isAtRisk?.[row.riskKey] ?? false;\n          return (\n            <div key={row.riskKey}>\n              <div className=\"flex items-center justify-between mb-1\">\n                <span className=\"text-xs text-gray-500 dark:text-neutral-400\">{row.label}</span>\n                <div className=\"flex items-center gap-1.5\">\n                  {atRisk && (\n                    <span className=\"text-[10px] px-1.5 py-0.5 rounded bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 font-medium\">\n                      At risk\n                    </span>\n                  )}\n                  <span className=\"text-xs font-semibold text-gray-700 dark:text-neutral-300 tabular-nums\">\n                    {row.value}d\n                  </span>\n                </div>\n              </div>\n              <div className=\"w-full bg-gray-100 dark:bg-neutral-800 rounded-full h-1.5\">\n                <motion.div\n                  className={`h-1.5 rounded-full ${row.color}`}\n                  initial={{ width: 0 }}\n                  animate={{ width: `${pct}%` }}\n                  transition={{ duration: 0.8, delay: 0.2 }}\n                />\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </motion.div>\n  );\n}\n\n\n// ─── WeeklyGoalsWidget ────────────────────────────────────────────\n// Inline goals card with animated progress bars\n\nexport function WeeklyGoalsWidget() {\n  const [goals, setGoals] = useState<WeeklyGoals | null>(null);\n\n  useEffect(() => {\n    getWeeklyGoals().then(setGoals).catch(() => {});\n  }, []);\n\n  if (!goals || goals.isCompleted) return null;\n\n  const items = [\n    { label: 'Connections', current: goals.connectionsMade, target: goals.connectionsTarget, progress: goals.connectionsProgress, icon: Users, color: 'bg-blue-500' },\n    { label: 'Posts', current: goals.postsMade, target: goals.postsTarget, progress: goals.postsProgress, icon: FileText, color: 'bg-green-500' },\n    { label: 'Messages', current: goals.messagesSent, target: goals.messagesTarget, progress: goals.messagesProgress, icon: MessageSquare, color: 'bg-purple-500' },\n  ];\n\n  const totalProgress = Math.round((items.reduce((sum, i) => sum + i.progress, 0) / items.length));\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 8 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden\"\n    >\n      <div className=\"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-neutral-800\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-8 h-8 rounded-lg bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center\">\n            <Target className=\"w-4 h-4 text-blue-500\" />\n          </div>\n          <div>\n            <p className=\"text-sm font-semibold text-gray-900 dark:text-white\">Weekly Goals</p>\n            <p className=\"text-[11px] text-gray-400 dark:text-neutral-500\">{totalProgress}% complete</p>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"px-4 py-3 space-y-3\">\n        {items.map((item) => {\n          const Icon = item.icon;\n          return (\n            <div key={item.label}>\n              <div className=\"flex items-center justify-between mb-1\">\n                <div className=\"flex items-center gap-1.5\">\n                  <Icon className=\"w-3.5 h-3.5 text-gray-400\" />\n                  <span className=\"text-xs text-gray-500 dark:text-neutral-400\">{item.label}</span>\n                </div>\n                <span className=\"text-xs font-semibold text-gray-700 dark:text-neutral-300 tabular-nums\">\n                  {item.current}/{item.target}\n                </span>\n              </div>\n              <div className=\"w-full bg-gray-100 dark:bg-neutral-800 rounded-full h-1.5\">\n                <motion.div\n                  className={`h-1.5 rounded-full ${item.color}`}\n                  initial={{ width: 0 }}\n                  animate={{ width: `${Math.min(item.progress, 100)}%` }}\n                  transition={{ duration: 0.8, delay: 0.2 }}\n                />\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </motion.div>\n  );\n}\n\n\n// ─── NudgeCard ────────────────────────────────────────────────────\n// Zeigarnik-effect progress nudge inserted later in feed\n\nexport function NudgeCard() {\n  const [nudges, setNudges] = useState<ProgressNudge[]>([]);\n  const [dismissed, setDismissed] = useState(false);\n\n  useEffect(() => {\n    getNudges().then(setNudges).catch(() => {});\n  }, []);\n\n  if (dismissed || nudges.length === 0) return null;\n\n  // Show the most impactful nudge\n  const nudge = nudges[0];\n  const progress = nudge.target > 0 ? Math.round((nudge.progress / nudge.target) * 100) : 0;\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 8 }}\n      animate={{ opacity: 1, y: 0 }}\n      className=\"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/10 dark:to-indigo-900/10 rounded-xl border border-blue-100 dark:border-blue-900/30 p-4\"\n    >\n      <div className=\"flex items-start gap-3\">\n        <div className=\"w-10 h-10 rounded-xl bg-white dark:bg-neutral-800 flex items-center justify-center shadow-sm flex-shrink-0\">\n          <span className=\"text-lg\">{nudge.icon || '💡'}</span>\n        </div>\n        <div className=\"flex-1 min-w-0\">\n          <p className=\"text-sm font-medium text-gray-900 dark:text-white leading-snug\">\n            {nudge.message}\n          </p>\n          {nudge.target > 0 && (\n            <div className=\"mt-2\">\n              <div className=\"flex items-center justify-between mb-1\">\n                <span className=\"text-[11px] text-gray-500 dark:text-neutral-400\">\n                  {nudge.progress}/{nudge.target}\n                </span>\n                <span className=\"text-[11px] font-semibold text-blue-600 dark:text-blue-400\">\n                  {progress}%\n                </span>\n              </div>\n              <div className=\"w-full bg-white/60 dark:bg-neutral-800 rounded-full h-1.5\">\n                <motion.div\n                  className=\"h-1.5 rounded-full bg-blue-500\"\n                  initial={{ width: 0 }}\n                  animate={{ width: `${Math.min(progress, 100)}%` }}\n                  transition={{ duration: 0.8, delay: 0.3 }}\n                />\n              </div>\n            </div>\n          )}\n        </div>\n        <button\n          onClick={() => setDismissed(true)}\n          className=\"text-xs text-gray-400 hover:text-gray-600 dark:text-neutral-500 dark:hover:text-neutral-300 flex-shrink-0\"\n        >\n          ✕\n        </button>\n      </div>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3385, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/engagement/index.ts"],"sourcesContent":["export { default as StreakCounter } from './StreakCounter';\nexport { default as SocialProofBar } from './SocialProofBar';\nexport { default as ProgressNudges } from './ProgressNudges';\nexport { default as ExitMessage } from './ExitMessage';\nexport { default as ConnectionCelebration } from './ConnectionCelebration';\nexport { default as ConnectionLimitBanner } from './ConnectionLimitBanner';\nexport { default as Leaderboard } from './Leaderboard';\nexport { default as DailyMatchCard } from './DailyMatchCard';\nexport { default as EngagementProvider } from './EngagementProvider';\nexport { default as TodayMatchesSection } from './TodayMatchesSection';\nexport { default as RewardPopup } from './RewardPopup';\nexport { StreakWidget, WeeklyGoalsWidget, NudgeCard } from './FeedWidgets';\nexport type { RewardData, RewardType } from './RewardPopup';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}}]
}
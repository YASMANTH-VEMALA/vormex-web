{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/stories/StoryCarousel.tsx"],"sourcesContent":["'use client';\n\nimport React, { useRef, useState, useEffect, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { Plus, ChevronLeft, ChevronRight } from 'lucide-react';\nimport Image from 'next/image';\nimport { useAuth } from '@/lib/auth/useAuth';\nimport { getStoriesFeed, type StoryGroup, type Story } from '@/lib/api/stories';\nimport { getSocket } from '@/lib/socket';\n\ninterface StoryCarouselProps {\n  onOpenStory: (group: StoryGroup, startIndex?: number) => void;\n  onCreateStory: () => void;\n}\n\nexport function StoryCarousel({ onOpenStory, onCreateStory }: StoryCarouselProps) {\n  const { user, loading: authLoading } = useAuth();\n  const scrollRef = useRef<HTMLDivElement>(null);\n  const [storyGroups, setStoryGroups] = useState<StoryGroup[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [canScrollLeft, setCanScrollLeft] = useState(false);\n  const [canScrollRight, setCanScrollRight] = useState(false);\n\n  // Fetch stories on mount (only after auth is ready)\n  const fetchStories = useCallback(async () => {\n    if (authLoading) return; // Wait for auth to complete\n    \n    try {\n      const response = await getStoriesFeed();\n      console.log('üìñ Stories feed response:', response);\n      setStoryGroups(response?.storyGroups || []);\n    } catch (error: any) {\n      console.error('Error fetching stories:', error);\n      // Don't clear stories on 401 - user might just need to re-auth\n      if (error?.response?.status !== 401) {\n        setStoryGroups([]);\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [authLoading]);\n\n  useEffect(() => {\n    if (!authLoading) {\n      fetchStories();\n    }\n  }, [authLoading, fetchStories]);\n\n  // Listen for real-time story updates\n  useEffect(() => {\n    const socket = getSocket();\n    if (!socket) return;\n\n    // Handle new story created\n    const handleStoryCreated = (data: { story: Story; author: any; timestamp: Date }) => {\n      console.log('üìñ Real-time: New story received', data);\n      \n      setStoryGroups(prev => {\n        // Check if author already has stories\n        const existingGroupIndex = prev.findIndex(g => g.user.id === data.author.id);\n        \n        if (existingGroupIndex >= 0) {\n          // Add story to existing group\n          const updated = [...prev];\n          updated[existingGroupIndex] = {\n            ...updated[existingGroupIndex],\n            stories: [data.story, ...updated[existingGroupIndex].stories],\n            hasUnviewed: true,\n            lastStoryAt: data.story.createdAt,\n          };\n          return updated;\n        } else {\n          // Create new group for this author\n          const newGroup: StoryGroup = {\n            user: data.author,\n            stories: [data.story],\n            hasUnviewed: true,\n            lastStoryAt: data.story.createdAt,\n            isOwnStory: data.author.id === user?.id,\n          };\n          \n          // Add at beginning (after own stories if exists)\n          const ownGroupIndex = prev.findIndex(g => g.isOwnStory);\n          if (newGroup.isOwnStory) {\n            return [newGroup, ...prev.filter(g => !g.isOwnStory)];\n          } else if (ownGroupIndex >= 0) {\n            return [prev[ownGroupIndex], newGroup, ...prev.filter((g, i) => !g.isOwnStory && i !== ownGroupIndex)];\n          }\n          return [newGroup, ...prev];\n        }\n      });\n    };\n\n    // Handle story deleted\n    const handleStoryDeleted = (data: { storyId: string; authorId: string; timestamp: Date }) => {\n      console.log('üóëÔ∏è Real-time: Story deleted', data);\n      \n      setStoryGroups(prev => {\n        return prev.map(group => {\n          if (group.user.id === data.authorId) {\n            const filteredStories = group.stories.filter(s => s.id !== data.storyId);\n            if (filteredStories.length === 0) {\n              return null; // Remove group entirely\n            }\n            return {\n              ...group,\n              stories: filteredStories,\n            };\n          }\n          return group;\n        }).filter(Boolean) as StoryGroup[];\n      });\n    };\n\n    socket.on('story:created', handleStoryCreated);\n    socket.on('story:deleted', handleStoryDeleted);\n\n    return () => {\n      socket.off('story:created', handleStoryCreated);\n      socket.off('story:deleted', handleStoryDeleted);\n    };\n  }, [user?.id]);\n\n  useEffect(() => {\n    const checkScroll = () => {\n      if (scrollRef.current) {\n        const { scrollLeft, scrollWidth, clientWidth } = scrollRef.current;\n        setCanScrollLeft(scrollLeft > 0);\n        setCanScrollRight(scrollLeft < scrollWidth - clientWidth - 10);\n      }\n    };\n\n    checkScroll();\n    scrollRef.current?.addEventListener('scroll', checkScroll);\n    window.addEventListener('resize', checkScroll);\n\n    return () => {\n      scrollRef.current?.removeEventListener('scroll', checkScroll);\n      window.removeEventListener('resize', checkScroll);\n    };\n  }, [storyGroups]);\n\n  const scroll = (direction: 'left' | 'right') => {\n    if (scrollRef.current) {\n      const scrollAmount = direction === 'left' ? -300 : 300;\n      scrollRef.current.scrollBy({ left: scrollAmount, behavior: 'smooth' });\n    }\n  };\n\n  const ownStoryGroup = storyGroups.find(g => g.isOwnStory);\n  const otherStoryGroups = storyGroups.filter(g => !g.isOwnStory);\n\n  // Show loading skeleton while auth is loading or stories are loading\n  if (authLoading || loading) {\n    return (\n      <div className=\"w-full py-4 px-4\">\n        <div className=\"flex gap-3 overflow-hidden\">\n          {/* Skeleton for create story */}\n          <div className=\"flex-shrink-0 w-28 h-40 bg-gray-200 dark:bg-neutral-800 rounded-2xl animate-pulse\" />\n          {/* Skeletons for stories */}\n          {[...Array(4)].map((_, i) => (\n            <div\n              key={i}\n              className=\"flex-shrink-0 w-28 h-40 bg-gray-200 dark:bg-neutral-800 rounded-2xl animate-pulse\"\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"relative w-full py-4 group\">\n      {/* Left Scroll Button */}\n      <AnimatePresence>\n        {canScrollLeft && (\n          <motion.button\n            initial={{ opacity: 0, x: 10 }}\n            animate={{ opacity: 1, x: 0 }}\n            exit={{ opacity: 0, x: 10 }}\n            onClick={() => scroll('left')}\n            className=\"absolute left-2 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-white dark:bg-neutral-800 rounded-full shadow-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity\"\n          >\n            <ChevronLeft className=\"w-5 h-5 text-gray-700 dark:text-neutral-300\" />\n          </motion.button>\n        )}\n      </AnimatePresence>\n\n      {/* Right Scroll Button */}\n      <AnimatePresence>\n        {canScrollRight && (\n          <motion.button\n            initial={{ opacity: 0, x: -10 }}\n            animate={{ opacity: 1, x: 0 }}\n            exit={{ opacity: 0, x: -10 }}\n            onClick={() => scroll('right')}\n            className=\"absolute right-2 top-1/2 -translate-y-1/2 z-20 w-10 h-10 bg-white dark:bg-neutral-800 rounded-full shadow-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity\"\n          >\n            <ChevronRight className=\"w-5 h-5 text-gray-700 dark:text-neutral-300\" />\n          </motion.button>\n        )}\n      </AnimatePresence>\n\n      {/* Story Cards */}\n      <div\n        ref={scrollRef}\n        className=\"flex gap-3 overflow-x-auto scrollbar-hide px-4 scroll-smooth\"\n        style={{ scrollbarWidth: 'none', msOverflowStyle: 'none' }}\n      >\n        {/* Create Story Card */}\n        <motion.button\n          onClick={onCreateStory}\n          whileHover={{ scale: 1.02 }}\n          whileTap={{ scale: 0.98 }}\n          className=\"flex-shrink-0 relative w-28 h-40 rounded-2xl overflow-hidden bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500 shadow-lg\"\n        >\n          {/* User Avatar Background */}\n          {user?.profileImage ? (\n            <div className=\"absolute inset-0\">\n              <Image\n                src={user.profileImage}\n                alt=\"Your story\"\n                fill\n                className=\"object-cover opacity-30\"\n              />\n              <div className=\"absolute inset-0 bg-gradient-to-b from-transparent via-black/20 to-black/60\" />\n            </div>\n          ) : (\n            <div className=\"absolute inset-0 bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600\" />\n          )}\n\n          {/* Content */}\n          <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n            <div className=\"w-11 h-11 rounded-full bg-white dark:bg-neutral-900 flex items-center justify-center shadow-lg mb-2\">\n              <Plus className=\"w-6 h-6 text-blue-500\" />\n            </div>\n            <span className=\"text-white text-xs font-semibold text-center px-2\">\n              {ownStoryGroup ? 'Add to Story' : 'Create Story'}\n            </span>\n          </div>\n\n          {/* Glassmorphic overlay */}\n          <div className=\"absolute bottom-0 left-0 right-0 h-12 bg-white/10 backdrop-blur-sm\" />\n        </motion.button>\n\n        {/* Own Story (if exists) */}\n        {ownStoryGroup && (\n          <StoryCard\n            group={ownStoryGroup}\n            onClick={() => onOpenStory(ownStoryGroup)}\n            isOwn\n          />\n        )}\n\n        {/* Other Stories */}\n        {otherStoryGroups.map((group) => (\n          <StoryCard\n            key={group.user.id}\n            group={group}\n            onClick={() => onOpenStory(group)}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\ninterface StoryCardProps {\n  group: StoryGroup;\n  onClick: () => void;\n  isOwn?: boolean;\n}\n\nfunction StoryCard({ group, onClick, isOwn }: StoryCardProps) {\n  const { user, stories, hasUnviewed } = group;\n  const latestStory = stories[0];\n\n  return (\n    <motion.button\n      onClick={onClick}\n      whileHover={{ scale: 1.02, y: -2 }}\n      whileTap={{ scale: 0.98 }}\n      className=\"flex-shrink-0 relative w-28 h-40 rounded-2xl overflow-hidden shadow-lg group/card\"\n    >\n      {/* Background Image - use img for CDN URLs to avoid Next.js Image restrictions */}\n      <div className=\"absolute inset-0\">\n        {(latestStory.thumbnailUrl || latestStory.mediaUrl) ? (\n          <img\n            src={latestStory.thumbnailUrl || latestStory.mediaUrl}\n            alt={`${user.name}'s story`}\n            className=\"w-full h-full object-cover transition-transform duration-300 group-hover/card:scale-105\"\n          />\n        ) : (\n          <div \n            className=\"w-full h-full\"\n            style={{ backgroundColor: latestStory.backgroundColor || '#3B82F6' }}\n          />\n        )}\n        \n        {/* Gradient Overlay */}\n        <div className=\"absolute inset-0 bg-gradient-to-b from-black/30 via-transparent to-black/70\" />\n      </div>\n\n      {/* Ring Border - Gradient for unviewed, gray for viewed */}\n      <div \n        className={`absolute inset-0 rounded-2xl transition-all duration-300 ${\n          hasUnviewed\n            ? 'ring-[3px] ring-offset-2 ring-offset-white dark:ring-offset-neutral-950'\n            : 'ring-2 ring-gray-300 dark:ring-neutral-700'\n        }`}\n        style={hasUnviewed ? {\n          background: 'linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%)',\n          WebkitMask: 'linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0)',\n          WebkitMaskComposite: 'xor',\n          maskComposite: 'exclude',\n          padding: '3px',\n        } : undefined}\n      />\n\n      {/* Avatar */}\n      <div className=\"absolute top-2 left-2 z-10\">\n        <div className={`w-9 h-9 rounded-full overflow-hidden ring-2 ${\n          hasUnviewed \n            ? 'ring-purple-500 ring-offset-1 ring-offset-black/50' \n            : 'ring-white/50'\n        }`}>\n          {user.profileImage ? (\n            <Image\n              src={user.profileImage}\n              alt={user.name}\n              width={36}\n              height={36}\n              className=\"object-cover\"\n            />\n          ) : (\n            <div className=\"w-full h-full bg-gradient-to-br from-blue-400 to-purple-500 flex items-center justify-center\">\n              <span className=\"text-white text-xs font-bold\">\n                {user.name.charAt(0).toUpperCase()}\n              </span>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Story Count Badge */}\n      {stories.length > 1 && (\n        <div className=\"absolute top-2 right-2 bg-black/50 backdrop-blur-sm px-1.5 py-0.5 rounded-full\">\n          <span className=\"text-white text-[10px] font-medium\">{stories.length}</span>\n        </div>\n      )}\n\n      {/* Text Content Preview */}\n      {latestStory.textContent && (\n        <div className=\"absolute inset-x-2 top-1/2 -translate-y-1/2 text-center\">\n          <p className=\"text-white text-xs font-medium line-clamp-3 drop-shadow-lg\">\n            {latestStory.textContent}\n          </p>\n        </div>\n      )}\n\n      {/* Bottom Info */}\n      <div className=\"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/80 to-transparent\">\n        <p className=\"text-white text-xs font-semibold truncate\">\n          {isOwn ? 'Your Story' : user.name.split(' ')[0]}\n        </p>\n        {/* Time ago */}\n        <p className=\"text-white/70 text-[10px]\">\n          {formatTimeAgo(new Date(latestStory.createdAt))}\n        </p>\n      </div>\n\n      {/* Category Badge */}\n      {latestStory.category && latestStory.category !== 'GENERAL' && (\n        <div className=\"absolute bottom-10 left-2 right-2\">\n          <span className=\"text-[9px] text-white/80 bg-white/20 backdrop-blur-sm px-1.5 py-0.5 rounded-full\">\n            {formatCategory(latestStory.category)}\n          </span>\n        </div>\n      )}\n    </motion.button>\n  );\n}\n\nfunction formatTimeAgo(date: Date): string {\n  const now = new Date();\n  const diff = now.getTime() - date.getTime();\n  const minutes = Math.floor(diff / 60000);\n  const hours = Math.floor(diff / 3600000);\n\n  if (minutes < 1) return 'Just now';\n  if (minutes < 60) return `${minutes}m`;\n  if (hours < 24) return `${hours}h`;\n  return '1d';\n}\n\nfunction formatCategory(category: string): string {\n  const map: Record<string, string> = {\n    DAY_AT_WORK: 'üíº Work',\n    LEARNING: 'üìö Learning',\n    ACHIEVEMENT: 'üèÜ Achievement',\n    PROJECT: 'üöÄ Project',\n    EVENT: 'üéâ Event',\n    BEHIND_SCENES: 'üé¨ BTS',\n    TIPS: 'üí° Tips',\n    QNA: '‚ùì Q&A',\n  };\n  return map[category] || category;\n}\n"],"names":["c","_c","React","useRef","useState","useEffect","useCallback","motion","AnimatePresence","Plus","ChevronLeft","ChevronRight","Image","useAuth","getStoriesFeed","StoryGroup","Story","getSocket","StoryCarouselProps","onOpenStory","group","startIndex","onCreateStory","StoryCarousel","user","loading","authLoading","scrollRef","HTMLDivElement","storyGroups","setStoryGroups","setLoading","canScrollLeft","setCanScrollLeft","canScrollRight","setCanScrollRight","fetchStories","response","console","log","error","status","socket","handleStoryCreated","data","story","author","timestamp","Date","prev","existingGroupIndex","findIndex","g","id","updated","stories","hasUnviewed","lastStoryAt","createdAt","newGroup","isOwnStory","ownGroupIndex","filter","i","handleStoryDeleted","storyId","authorId","map","filteredStories","s","length","Boolean","on","off","checkScroll","current","scrollLeft","scrollWidth","clientWidth","addEventListener","window","removeEventListener","scroll","direction","scrollAmount","scrollBy","left","behavior","ownStoryGroup","find","otherStoryGroups","Array","_","opacity","x","scrollbarWidth","msOverflowStyle","scale","profileImage","StoryCardProps","onClick","isOwn","StoryCard","t0","$","$i","Symbol","for","latestStory","t1","t2","y","t3","backgroundColor","mediaUrl","thumbnailUrl","name","t4","t5","t6","t7","background","WebkitMask","WebkitMaskComposite","maskComposite","padding","undefined","t8","t9","t10","charAt","toUpperCase","t11","t12","t13","textContent","t14","split","t15","t16","formatTimeAgo","t17","t18","t19","category","formatCategory","t20","date","now","diff","getTime","minutes","Math","floor","hours","Record","DAY_AT_WORK","LEARNING","ACHIEVEMENT","PROJECT","EVENT","BEHIND_SCENES","TIPS","QNA"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 823, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/stories/StoryViewer.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { motion, AnimatePresence, PanInfo } from 'framer-motion';\nimport {\n  X,\n  ChevronUp,\n  ChevronDown,\n  Eye,\n  Heart,\n  Send,\n  MoreHorizontal,\n  Pause,\n  Play,\n  Volume2,\n  VolumeX,\n  Link2,\n  Trash2,\n  Archive,\n  Share2,\n} from 'lucide-react';\nimport Image from 'next/image';\nimport { useAuth } from '@/lib/auth/useAuth';\nimport { getSocket } from '@/lib/socket';\nimport {\n  viewStory,\n  reactToStory,\n  removeReaction,\n  replyToStory,\n  deleteStory,\n  archiveStory,\n  type StoryGroup,\n  type Story,\n} from '@/lib/api/stories';\n\ninterface StoryViewerProps {\n  storyGroups: StoryGroup[];\n  initialGroupIndex: number;\n  initialStoryIndex?: number;\n  onClose: () => void;\n  onStoryEnd?: () => void;\n}\n\nconst REACTIONS = ['üî•', '‚ù§Ô∏è', 'üëè', 'üòÆ', 'üòÇ', 'üí°'];\n\nexport function StoryViewer({\n  storyGroups,\n  initialGroupIndex,\n  initialStoryIndex = 0,\n  onClose,\n  onStoryEnd,\n}: StoryViewerProps) {\n  const { user } = useAuth();\n  const [currentGroupIndex, setCurrentGroupIndex] = useState(initialGroupIndex);\n  const [currentStoryIndex, setCurrentStoryIndex] = useState(initialStoryIndex);\n  const [progress, setProgress] = useState(0);\n  const [isPaused, setIsPaused] = useState(false);\n  const [isMuted, setIsMuted] = useState(true);\n  const [showReactions, setShowReactions] = useState(false);\n  const [showReplyInput, setShowReplyInput] = useState(false);\n  const [replyText, setReplyText] = useState('');\n  const [showMenu, setShowMenu] = useState(false);\n  const [viewStartTime, setViewStartTime] = useState<number>(Date.now());\n  const [selectedReaction, setSelectedReaction] = useState<string | null>(null);\n  \n  const progressIntervalRef = useRef<NodeJS.Timeout | null>(null);\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  const currentGroup = storyGroups[currentGroupIndex];\n  const [storiesWithViews, setStoriesWithViews] = useState<Record<string, number>>({});\n  const currentStory = currentGroup?.stories[currentStoryIndex];\n  const currentViewsCount = storiesWithViews[currentStory?.id ?? ''] ?? currentStory?.viewsCount ?? 0;\n  const isOwnStory = currentGroup?.isOwnStory;\n\n  // Live view count updates for own stories\n  useEffect(() => {\n    if (!isOwnStory || !currentStory) return;\n    const socket = getSocket();\n    if (!socket) return;\n\n    const handleStoryViewed = ({ storyId, viewsCount }: { storyId: string; viewsCount: number }) => {\n      if (storyId === currentStory.id) {\n        setStoriesWithViews((prev) => ({ ...prev, [storyId]: viewsCount }));\n      }\n    };\n\n    socket.on('story:viewed', handleStoryViewed);\n    return () => {\n      socket.off('story:viewed', handleStoryViewed);\n    };\n  }, [isOwnStory, currentStory?.id]);\n\n  // Mark story as viewed on mount and story change\n  useEffect(() => {\n    if (currentStory && !isOwnStory) {\n      setViewStartTime(Date.now());\n      \n      // Record view via socket for real-time updates\n      const socket = getSocket();\n      if (socket) {\n        socket.emit('story:view', { storyId: currentStory.id });\n      }\n    }\n  }, [currentStory?.id, isOwnStory]);\n\n  // Record view duration when leaving story\n  const recordView = useCallback(async () => {\n    if (currentStory && !isOwnStory) {\n      const duration = Date.now() - viewStartTime;\n      \n      // Use socket for real-time view tracking\n      const socket = getSocket();\n      if (socket) {\n        socket.emit('story:view', { storyId: currentStory.id, duration });\n      } else {\n        // Fallback to HTTP\n        try {\n          await viewStory(currentStory.id, duration);\n        } catch (error) {\n          console.error('Error recording view:', error);\n        }\n      }\n    }\n  }, [currentStory, isOwnStory, viewStartTime]);\n\n  // Progress timer\n  useEffect(() => {\n    if (!currentStory || isPaused) return;\n\n    const duration = currentStory.mediaType === 'VIDEO' \n      ? (currentStory.duration || 15000) \n      : (currentStory.duration || 5000);\n\n    const interval = 50; // Update every 50ms for smooth progress\n    const increment = (100 / duration) * interval;\n\n    progressIntervalRef.current = setInterval(() => {\n      setProgress((prev) => {\n        if (prev >= 100) {\n          goToNextStory();\n          return 0;\n        }\n        return prev + increment;\n      });\n    }, interval);\n\n    return () => {\n      if (progressIntervalRef.current) {\n        clearInterval(progressIntervalRef.current);\n      }\n    };\n  }, [currentStory?.id, isPaused]);\n\n  // Reset progress when story changes\n  useEffect(() => {\n    setProgress(0);\n    setSelectedReaction(currentStory?.userReaction || null);\n  }, [currentStory?.id]);\n\n  // Keyboard controls\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      switch (e.key) {\n        case 'ArrowUp':\n        case 'ArrowLeft':\n          goToPreviousStory();\n          break;\n        case 'ArrowDown':\n        case 'ArrowRight':\n          goToNextStory();\n          break;\n        case ' ':\n          e.preventDefault();\n          setIsPaused((prev) => !prev);\n          break;\n        case 'Escape':\n          handleClose();\n          break;\n        case 'm':\n          setIsMuted((prev) => !prev);\n          break;\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, []);\n\n  const goToNextStory = useCallback(async () => {\n    await recordView();\n\n    if (currentStoryIndex < currentGroup.stories.length - 1) {\n      setCurrentStoryIndex((prev) => prev + 1);\n    } else if (currentGroupIndex < storyGroups.length - 1) {\n      setCurrentGroupIndex((prev) => prev + 1);\n      setCurrentStoryIndex(0);\n    } else {\n      handleClose();\n      onStoryEnd?.();\n    }\n  }, [currentStoryIndex, currentGroupIndex, currentGroup, storyGroups.length, recordView, onStoryEnd]);\n\n  const goToPreviousStory = useCallback(async () => {\n    await recordView();\n\n    if (currentStoryIndex > 0) {\n      setCurrentStoryIndex((prev) => prev - 1);\n    } else if (currentGroupIndex > 0) {\n      setCurrentGroupIndex((prev) => prev - 1);\n      const prevGroup = storyGroups[currentGroupIndex - 1];\n      setCurrentStoryIndex(prevGroup.stories.length - 1);\n    }\n  }, [currentStoryIndex, currentGroupIndex, storyGroups, recordView]);\n\n  const handleClose = async () => {\n    await recordView();\n    onClose();\n  };\n\n  // Swipe handling for vertical navigation\n  const handleDragEnd = (event: any, info: PanInfo) => {\n    const threshold = 50;\n    const velocity = 500;\n\n    if (info.offset.y < -threshold || info.velocity.y < -velocity) {\n      goToNextStory();\n    } else if (info.offset.y > threshold || info.velocity.y > velocity) {\n      goToPreviousStory();\n    }\n  };\n\n  const handleReaction = async (reaction: string) => {\n    if (!currentStory) return;\n\n    try {\n      if (selectedReaction === reaction) {\n        await removeReaction(currentStory.id);\n        setSelectedReaction(null);\n      } else {\n        await reactToStory(currentStory.id, reaction);\n        setSelectedReaction(reaction);\n      }\n      \n      // Also emit via socket for real-time updates\n      const socket = getSocket();\n      if (socket) {\n        socket.emit('story:react', { storyId: currentStory.id, reaction });\n      }\n    } catch (error) {\n      console.error('Error reacting to story:', error);\n    }\n    setShowReactions(false);\n  };\n\n  const handleSendReply = async () => {\n    if (!currentStory || !replyText.trim()) return;\n\n    try {\n      // Emit via socket for real-time delivery\n      const socket = getSocket();\n      if (socket) {\n        socket.emit('story:reply', { \n          storyId: currentStory.id, \n          content: replyText.trim() \n        });\n      } else {\n        // Fallback to HTTP\n        await replyToStory(currentStory.id, replyText.trim());\n      }\n      \n      setReplyText('');\n      setShowReplyInput(false);\n      // Show success toast or animation\n    } catch (error) {\n      console.error('Error sending reply:', error);\n    }\n  };\n\n  const handleDeleteStory = async () => {\n    if (!currentStory) return;\n\n    try {\n      await deleteStory(currentStory.id);\n      goToNextStory();\n    } catch (error) {\n      console.error('Error deleting story:', error);\n    }\n    setShowMenu(false);\n  };\n\n  const handleArchiveStory = async () => {\n    if (!currentStory) return;\n\n    try {\n      await archiveStory(currentStory.id);\n      // Show success message\n    } catch (error) {\n      console.error('Error archiving story:', error);\n    }\n    setShowMenu(false);\n  };\n\n  if (!currentGroup || !currentStory) {\n    return null;\n  }\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        className=\"fixed inset-0 z-[100] bg-black\"\n      >\n        {/* Main Content Container */}\n        <motion.div\n          ref={containerRef}\n          drag=\"y\"\n          dragConstraints={{ top: 0, bottom: 0 }}\n          dragElastic={0.2}\n          onDragEnd={handleDragEnd}\n          className=\"relative w-full h-full flex items-center justify-center\"\n          onClick={(e) => {\n            // Tap left/right to navigate\n            const rect = containerRef.current?.getBoundingClientRect();\n            if (rect) {\n              const clickX = e.clientX - rect.left;\n              if (clickX < rect.width / 3) {\n                goToPreviousStory();\n              } else if (clickX > (rect.width * 2) / 3) {\n                goToNextStory();\n              } else {\n                setIsPaused((prev) => !prev);\n              }\n            }\n          }}\n        >\n          {/* Story Content */}\n          <div className=\"relative w-full h-full max-w-lg mx-auto\">\n            {/* Background */}\n            <div className=\"absolute inset-0\">\n              {currentStory.mediaType === 'VIDEO' ? (\n                <video\n                  ref={videoRef}\n                  src={currentStory.mediaUrl}\n                  className=\"w-full h-full object-cover\"\n                  autoPlay\n                  loop\n                  muted={isMuted}\n                  playsInline\n                />\n              ) : currentStory.mediaType === 'TEXT' ? (\n                <div\n                  className=\"w-full h-full flex items-center justify-center p-8\"\n                  style={{ backgroundColor: currentStory.backgroundColor || '#3B82F6' }}\n                >\n                  <p\n                    className=\"text-white text-2xl font-bold text-center leading-relaxed\"\n                    style={{\n                      fontSize: currentStory.textStyle?.fontSize || 24,\n                      fontWeight: currentStory.textStyle?.fontWeight || 'bold',\n                      color: currentStory.textStyle?.color || 'white',\n                    }}\n                  >\n                    {currentStory.textContent}\n                  </p>\n                </div>\n              ) : (\n                <img\n                  src={currentStory.mediaUrl}\n                  alt=\"Story\"\n                  className=\"w-full h-full object-cover\"\n                />\n              )}\n\n              {/* Text Overlay */}\n              {currentStory.mediaType !== 'TEXT' && currentStory.textContent && (\n                <div\n                  className=\"absolute p-4\"\n                  style={{\n                    left: currentStory.textPosition?.x || '50%',\n                    top: currentStory.textPosition?.y || '50%',\n                    transform: 'translate(-50%, -50%)',\n                  }}\n                >\n                  <p\n                    className=\"text-white text-lg font-semibold drop-shadow-lg\"\n                    style={currentStory.textStyle || {}}\n                  >\n                    {currentStory.textContent}\n                  </p>\n                </div>\n              )}\n\n              {/* Gradient overlays */}\n              <div className=\"absolute inset-0 bg-gradient-to-b from-black/40 via-transparent to-black/60 pointer-events-none\" />\n            </div>\n\n            {/* Top Section - Progress & Header */}\n            <div className=\"absolute top-0 left-0 right-0 p-4 z-10\">\n              {/* Progress Bars */}\n              <div className=\"flex gap-1 mb-4\">\n                {currentGroup.stories.map((_, idx) => (\n                  <div\n                    key={idx}\n                    className=\"flex-1 h-[3px] bg-white/30 rounded-full overflow-hidden\"\n                  >\n                    <motion.div\n                      className=\"h-full bg-white rounded-full\"\n                      style={{\n                        width:\n                          idx < currentStoryIndex\n                            ? '100%'\n                            : idx === currentStoryIndex\n                            ? `${progress}%`\n                            : '0%',\n                      }}\n                    />\n                  </div>\n                ))}\n              </div>\n\n              {/* Header */}\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  {/* User Avatar with gradient ring */}\n                  <div className=\"relative\">\n                    <div className=\"w-10 h-10 rounded-full overflow-hidden ring-2 ring-white\">\n                      {currentGroup.user.profileImage ? (\n                        <Image\n                          src={currentGroup.user.profileImage}\n                          alt={currentGroup.user.name}\n                          width={40}\n                          height={40}\n                          className=\"object-cover\"\n                        />\n                      ) : (\n                        <div className=\"w-full h-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center\">\n                          <span className=\"text-white font-bold\">\n                            {currentGroup.user.name.charAt(0)}\n                          </span>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n\n                  <div>\n                    <p className=\"text-white font-semibold text-sm\">\n                      {currentGroup.user.name}\n                    </p>\n                    <p className=\"text-white/60 text-xs\">\n                      {formatTimeAgo(new Date(currentStory.createdAt))}\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center gap-2\">\n                  {/* Pause/Play */}\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      setIsPaused((prev) => !prev);\n                    }}\n                    className=\"w-8 h-8 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center\"\n                  >\n                    {isPaused ? (\n                      <Play className=\"w-4 h-4 text-white\" fill=\"white\" />\n                    ) : (\n                      <Pause className=\"w-4 h-4 text-white\" fill=\"white\" />\n                    )}\n                  </button>\n\n                  {/* Mute (for video) */}\n                  {currentStory.mediaType === 'VIDEO' && (\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        setIsMuted((prev) => !prev);\n                      }}\n                      className=\"w-8 h-8 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center\"\n                    >\n                      {isMuted ? (\n                        <VolumeX className=\"w-4 h-4 text-white\" />\n                      ) : (\n                        <Volume2 className=\"w-4 h-4 text-white\" />\n                      )}\n                    </button>\n                  )}\n\n                  {/* More Options */}\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      setShowMenu(true);\n                    }}\n                    className=\"w-8 h-8 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center\"\n                  >\n                    <MoreHorizontal className=\"w-4 h-4 text-white\" />\n                  </button>\n\n                  {/* Close */}\n                  <button\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      handleClose();\n                    }}\n                    className=\"w-8 h-8 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center\"\n                  >\n                    <X className=\"w-4 h-4 text-white\" />\n                  </button>\n                </div>\n              </div>\n            </div>\n\n            {/* Navigation Indicators */}\n            <div className=\"absolute left-4 top-1/2 -translate-y-1/2 z-10 pointer-events-none\">\n              <ChevronUp className=\"w-6 h-6 text-white/40 animate-pulse\" />\n            </div>\n            <div className=\"absolute right-4 top-1/2 -translate-y-1/2 z-10 pointer-events-none\">\n              <ChevronDown className=\"w-6 h-6 text-white/40 animate-pulse\" />\n            </div>\n\n            {/* Link Preview */}\n            {currentStory.linkUrl && (\n              <div className=\"absolute bottom-32 left-4 right-4 z-10\">\n                <a\n                  href={currentStory.linkUrl}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  onClick={(e) => e.stopPropagation()}\n                  className=\"flex items-center gap-2 bg-white/10 backdrop-blur-md rounded-full px-4 py-2\"\n                >\n                  <Link2 className=\"w-4 h-4 text-white\" />\n                  <span className=\"text-white text-sm truncate\">\n                    {currentStory.linkTitle || currentStory.linkUrl}\n                  </span>\n                </a>\n              </div>\n            )}\n\n            {/* Bottom Section - Actions */}\n            <div className=\"absolute bottom-0 left-0 right-0 p-4 z-10\">\n              {/* View Count (for own stories) - updates live when others view */}\n              {isOwnStory && (\n                <div className=\"flex items-center gap-4 mb-4 text-white/80\">\n                  <div className=\"flex items-center gap-1\">\n                    <Eye className=\"w-4 h-4\" />\n                    <span className=\"text-sm\">{currentViewsCount} views</span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <Heart className=\"w-4 h-4\" />\n                    <span className=\"text-sm\">{currentStory.reactionsCount} reactions</span>\n                  </div>\n                </div>\n              )}\n\n              {/* Reply Input or Actions */}\n              {!isOwnStory && (\n                <div className=\"flex items-center gap-2\">\n                  {showReplyInput ? (\n                    <div className=\"flex-1 flex items-center gap-2\">\n                      <input\n                        type=\"text\"\n                        value={replyText}\n                        onChange={(e) => setReplyText(e.target.value)}\n                        placeholder=\"Send a message...\"\n                        className=\"flex-1 bg-white/10 backdrop-blur-md text-white placeholder-white/50 rounded-full px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-white/30\"\n                        autoFocus\n                        onClick={(e) => e.stopPropagation()}\n                        onKeyDown={(e) => {\n                          e.stopPropagation();\n                          if (e.key === 'Enter') handleSendReply();\n                          if (e.key === 'Escape') setShowReplyInput(false);\n                        }}\n                      />\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleSendReply();\n                        }}\n                        className=\"w-10 h-10 rounded-full bg-blue-500 flex items-center justify-center\"\n                      >\n                        <Send className=\"w-5 h-5 text-white\" />\n                      </button>\n                    </div>\n                  ) : (\n                    <>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          setShowReplyInput(true);\n                          setIsPaused(true);\n                        }}\n                        className=\"flex-1 bg-white/10 backdrop-blur-md text-white/70 rounded-full px-4 py-2 text-sm text-left\"\n                      >\n                        Reply to {currentGroup.user.name.split(' ')[0]}...\n                      </button>\n\n                      {/* Reaction Button */}\n                      <div className=\"relative\">\n                        <button\n                          onClick={(e) => {\n                            e.stopPropagation();\n                            setShowReactions(!showReactions);\n                            setIsPaused(true);\n                          }}\n                          className={`w-10 h-10 rounded-full ${\n                            selectedReaction\n                              ? 'bg-pink-500/30'\n                              : 'bg-white/10'\n                          } backdrop-blur-md flex items-center justify-center`}\n                        >\n                          {selectedReaction ? (\n                            <span className=\"text-xl\">{selectedReaction}</span>\n                          ) : (\n                            <Heart className=\"w-5 h-5 text-white\" />\n                          )}\n                        </button>\n\n                        {/* Reaction Picker */}\n                        <AnimatePresence>\n                          {showReactions && (\n                            <motion.div\n                              initial={{ opacity: 0, scale: 0.8, y: 10 }}\n                              animate={{ opacity: 1, scale: 1, y: 0 }}\n                              exit={{ opacity: 0, scale: 0.8, y: 10 }}\n                              className=\"absolute bottom-12 right-0 bg-white/10 backdrop-blur-xl rounded-2xl p-2 flex gap-1\"\n                            >\n                              {REACTIONS.map((reaction) => (\n                                <motion.button\n                                  key={reaction}\n                                  whileHover={{ scale: 1.3 }}\n                                  whileTap={{ scale: 0.9 }}\n                                  onClick={(e) => {\n                                    e.stopPropagation();\n                                    handleReaction(reaction);\n                                  }}\n                                  className={`w-10 h-10 rounded-full flex items-center justify-center text-2xl ${\n                                    selectedReaction === reaction\n                                      ? 'bg-white/20'\n                                      : ''\n                                  }`}\n                                >\n                                  {reaction}\n                                </motion.button>\n                              ))}\n                            </motion.div>\n                          )}\n                        </AnimatePresence>\n                      </div>\n\n                      {/* Share Button */}\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          // Handle share\n                        }}\n                        className=\"w-10 h-10 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center\"\n                      >\n                        <Share2 className=\"w-5 h-5 text-white\" />\n                      </button>\n                    </>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </motion.div>\n\n        {/* Menu Modal */}\n        <AnimatePresence>\n          {showMenu && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              className=\"absolute inset-0 z-20 bg-black/50 flex items-end justify-center\"\n              onClick={() => setShowMenu(false)}\n            >\n              <motion.div\n                initial={{ y: '100%' }}\n                animate={{ y: 0 }}\n                exit={{ y: '100%' }}\n                className=\"w-full max-w-lg bg-neutral-900 rounded-t-3xl p-4\"\n                onClick={(e) => e.stopPropagation()}\n              >\n                <div className=\"w-12 h-1 bg-neutral-700 rounded-full mx-auto mb-4\" />\n\n                {isOwnStory && (\n                  <>\n                    <button\n                      onClick={handleDeleteStory}\n                      className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-neutral-800 transition-colors text-red-500\"\n                    >\n                      <Trash2 className=\"w-5 h-5\" />\n                      <span>Delete Story</span>\n                    </button>\n                    <button\n                      onClick={handleArchiveStory}\n                      className=\"w-full flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-neutral-800 transition-colors text-white\"\n                    >\n                      <Archive className=\"w-5 h-5\" />\n                      <span>Save to Archive</span>\n                    </button>\n                  </>\n                )}\n\n                <button\n                  onClick={() => setShowMenu(false)}\n                  className=\"w-full mt-2 py-3 bg-neutral-800 rounded-xl text-white font-medium\"\n                >\n                  Cancel\n                </button>\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n\nfunction formatTimeAgo(date: Date): string {\n  const now = new Date();\n  const diff = now.getTime() - date.getTime();\n  const minutes = Math.floor(diff / 60000);\n  const hours = Math.floor(diff / 3600000);\n\n  if (minutes < 1) return 'Just now';\n  if (minutes < 60) return `${minutes}m ago`;\n  if (hours < 24) return `${hours}h ago`;\n  return '1d ago';\n}\n"],"names":["React","useState","useEffect","useRef","useCallback","motion","AnimatePresence","PanInfo","X","ChevronUp","ChevronDown","Eye","Heart","Send","MoreHorizontal","Pause","Play","Volume2","VolumeX","Link2","Trash2","Archive","Share2","Image","useAuth","getSocket","viewStory","reactToStory","removeReaction","replyToStory","deleteStory","archiveStory","StoryGroup","Story","StoryViewerProps","storyGroups","initialGroupIndex","initialStoryIndex","onClose","onStoryEnd","REACTIONS","StoryViewer","user","currentGroupIndex","setCurrentGroupIndex","currentStoryIndex","setCurrentStoryIndex","progress","setProgress","isPaused","setIsPaused","isMuted","setIsMuted","showReactions","setShowReactions","showReplyInput","setShowReplyInput","replyText","setReplyText","showMenu","setShowMenu","viewStartTime","setViewStartTime","Date","now","selectedReaction","setSelectedReaction","progressIntervalRef","NodeJS","Timeout","videoRef","HTMLVideoElement","containerRef","HTMLDivElement","currentGroup","storiesWithViews","setStoriesWithViews","Record","currentStory","stories","currentViewsCount","id","viewsCount","isOwnStory","socket","handleStoryViewed","storyId","prev","on","off","emit","recordView","duration","error","console","mediaType","interval","increment","current","setInterval","goToNextStory","clearInterval","userReaction","handleKeyDown","e","KeyboardEvent","key","goToPreviousStory","preventDefault","handleClose","window","addEventListener","removeEventListener","length","prevGroup","handleDragEnd","event","info","threshold","velocity","offset","y","handleReaction","reaction","handleSendReply","trim","content","handleDeleteStory","handleArchiveStory","opacity","top","bottom","rect","getBoundingClientRect","clickX","clientX","left","width","mediaUrl","backgroundColor","fontSize","textStyle","fontWeight","color","textContent","textPosition","x","transform","map","_","idx","profileImage","name","charAt","formatTimeAgo","createdAt","stopPropagation","linkUrl","linkTitle","reactionsCount","target","value","split","scale","date","diff","getTime","minutes","Math","floor","hours"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1962, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/stories/StoryCreator.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef, useCallback } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport {\n  X,\n  Image as ImageIcon,\n  Video,\n  Type,\n  Sparkles,\n  Link2,\n  Users,\n  Globe,\n  Lock,\n  Check,\n  ChevronLeft,\n  ChevronRight,\n  Upload,\n  Loader2,\n  Trash2,\n} from 'lucide-react';\nimport Image from 'next/image';\nimport { createStory, createStoryWithMedia, type CreateStoryInput, type StoryCategory, type StoryVisibility } from '@/lib/api/stories';\n\ninterface StoryCreatorProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onStoryCreated?: () => void;\n}\n\ntype StoryType = 'image' | 'video' | 'text';\ntype CreatorStep = 'select-type' | 'upload-media' | 'edit' | 'details';\n\nconst STORY_CATEGORIES: { value: StoryCategory; label: string; icon: string }[] = [\n  { value: 'DAY_AT_WORK', label: 'Day at Work', icon: 'üíº' },\n  { value: 'LEARNING', label: 'Learning', icon: 'üìö' },\n  { value: 'ACHIEVEMENT', label: 'Achievement', icon: 'üèÜ' },\n  { value: 'PROJECT', label: 'Project', icon: 'üì¢' },\n  { value: 'BEHIND_SCENES', label: 'Behind the Scenes', icon: 'üé¨' },\n  { value: 'TIPS', label: 'Tips', icon: 'üí≠' },\n  { value: 'EVENT', label: 'Event', icon: 'üìÖ' },\n  { value: 'QNA', label: 'Q&A', icon: 'üéØ' },\n  { value: 'GENERAL', label: 'General', icon: '‚ú®' },\n];\n\nconst VISIBILITY_OPTIONS: { value: StoryVisibility; label: string; icon: React.ReactNode; desc: string }[] = [\n  { value: 'PUBLIC', label: 'Public', icon: <Globe className=\"w-5 h-5\" />, desc: 'Anyone can view' },\n  { value: 'CONNECTIONS', label: 'Connections', icon: <Users className=\"w-5 h-5\" />, desc: 'Only connections' },\n  { value: 'CLOSE_FRIENDS', label: 'Close Friends', icon: <Lock className=\"w-5 h-5\" />, desc: 'Selected people only' },\n];\n\nconst TEXT_BACKGROUNDS = [\n  'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n  'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\n  'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',\n  'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',\n  'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',\n  'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)',\n  'linear-gradient(135deg, #30cfd0 0%, #330867 100%)',\n  'linear-gradient(135deg, #ff0844 0%, #ffb199 100%)',\n];\n\nexport function StoryCreator({ isOpen, onClose, onStoryCreated }: StoryCreatorProps) {\n  const [step, setStep] = useState<CreatorStep>('select-type');\n  const [storyType, setStoryType] = useState<StoryType | null>(null);\n  const [mediaFile, setMediaFile] = useState<File | null>(null);\n  const [mediaPreview, setMediaPreview] = useState<string | null>(null);\n  const [textContent, setTextContent] = useState('');\n  const [textBackground, setTextBackground] = useState(TEXT_BACKGROUNDS[0]);\n  const [linkUrl, setLinkUrl] = useState('');\n  const [linkTitle, setLinkTitle] = useState('');\n  const [category, setCategory] = useState<StoryCategory>('GENERAL');\n  const [visibility, setVisibility] = useState<StoryVisibility>('PUBLIC');\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileSelect = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    // Validate file type\n    const isImage = file.type.startsWith('image/');\n    const isVideo = file.type.startsWith('video/');\n\n    if (storyType === 'image' && !isImage) {\n      setError('Please select an image file');\n      return;\n    }\n    if (storyType === 'video' && !isVideo) {\n      setError('Please select a video file');\n      return;\n    }\n\n    // Validate file size (50MB max for video, 10MB for image)\n    const maxSize = isVideo ? 50 * 1024 * 1024 : 10 * 1024 * 1024;\n    if (file.size > maxSize) {\n      setError(`File too large. Max size: ${isVideo ? '50MB' : '10MB'}`);\n      return;\n    }\n\n    setMediaFile(file);\n    setMediaPreview(URL.createObjectURL(file));\n    setError(null);\n    setStep('edit');\n  }, [storyType]);\n\n  const handleTypeSelect = (type: StoryType) => {\n    setStoryType(type);\n    if (type === 'text') {\n      setStep('edit');\n    } else {\n      setStep('upload-media');\n    }\n  };\n\n  const handleRemoveMedia = () => {\n    if (mediaPreview) {\n      URL.revokeObjectURL(mediaPreview);\n    }\n    setMediaFile(null);\n    setMediaPreview(null);\n    setStep('upload-media');\n  };\n\n  const handleSubmit = async () => {\n    setIsUploading(true);\n    setError(null);\n\n    try {\n      if (storyType === 'text') {\n        // Text-only story - use JSON API\n        await createStory({\n          mediaType: 'TEXT',\n          textContent,\n          backgroundColor: textBackground,\n          category,\n          visibility,\n          linkUrl: linkUrl || undefined,\n          linkTitle: linkTitle || undefined,\n        });\n      } else {\n        // Media story - use FormData for file upload\n        const formData = new FormData();\n        formData.append('mediaType', storyType === 'video' ? 'VIDEO' : 'IMAGE');\n        \n        if (mediaFile) {\n          formData.append('media', mediaFile);\n        }\n        if (textContent) {\n          formData.append('textContent', textContent);\n        }\n        \n        formData.append('category', category);\n        formData.append('visibility', visibility);\n\n        if (linkUrl) {\n          formData.append('linkUrl', linkUrl);\n          if (linkTitle) {\n            formData.append('linkTitle', linkTitle);\n          }\n        }\n\n        await createStoryWithMedia(formData);\n      }\n      \n      onStoryCreated?.();\n      handleClose();\n    } catch (err: any) {\n      setError(err.message || 'Failed to create story');\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const handleClose = () => {\n    // Cleanup\n    if (mediaPreview) {\n      URL.revokeObjectURL(mediaPreview);\n    }\n    setStep('select-type');\n    setStoryType(null);\n    setMediaFile(null);\n    setMediaPreview(null);\n    setTextContent('');\n    setTextBackground(TEXT_BACKGROUNDS[0]);\n    setLinkUrl('');\n    setLinkTitle('');\n    setCategory('GENERAL');\n    setVisibility('PUBLIC');\n    setError(null);\n    onClose();\n  };\n\n  const goBack = () => {\n    switch (step) {\n      case 'upload-media':\n        setStep('select-type');\n        setStoryType(null);\n        break;\n      case 'edit':\n        if (storyType === 'text') {\n          setStep('select-type');\n          setStoryType(null);\n        } else {\n          handleRemoveMedia();\n        }\n        break;\n      case 'details':\n        setStep('edit');\n        break;\n    }\n  };\n\n  const canProceed = () => {\n    if (step === 'edit') {\n      if (storyType === 'text') {\n        return textContent.trim().length > 0;\n      }\n      return !!mediaFile;\n    }\n    return true;\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        className=\"fixed inset-0 z-[100] bg-black/80 backdrop-blur-sm flex items-center justify-center\"\n        onClick={handleClose}\n      >\n        <motion.div\n          initial={{ scale: 0.9, opacity: 0 }}\n          animate={{ scale: 1, opacity: 1 }}\n          exit={{ scale: 0.9, opacity: 0 }}\n          className=\"relative w-full max-w-lg h-[90vh] max-h-[700px] bg-neutral-900 rounded-3xl overflow-hidden flex flex-col\"\n          onClick={(e) => e.stopPropagation()}\n        >\n          {/* Header */}\n          <div className=\"flex items-center justify-between p-4 border-b border-neutral-800\">\n            <div className=\"flex items-center gap-2\">\n              {step !== 'select-type' && (\n                <button\n                  onClick={goBack}\n                  className=\"w-8 h-8 rounded-full hover:bg-neutral-800 flex items-center justify-center\"\n                >\n                  <ChevronLeft className=\"w-5 h-5 text-neutral-400\" />\n                </button>\n              )}\n              <h2 className=\"text-lg font-semibold text-white\">\n                {step === 'select-type' && 'Create Story'}\n                {step === 'upload-media' && 'Upload Media'}\n                {step === 'edit' && 'Edit Story'}\n                {step === 'details' && 'Story Details'}\n              </h2>\n            </div>\n            <button\n              onClick={handleClose}\n              className=\"w-8 h-8 rounded-full hover:bg-neutral-800 flex items-center justify-center\"\n            >\n              <X className=\"w-5 h-5 text-neutral-400\" />\n            </button>\n          </div>\n\n          {/* Content */}\n          <div className=\"flex-1 overflow-y-auto\">\n            {/* Step 1: Select Type */}\n            {step === 'select-type' && (\n              <div className=\"p-6\">\n                <p className=\"text-neutral-400 text-sm mb-6\">\n                  Choose how you want to share your moment\n                </p>\n                \n                <div className=\"grid grid-cols-1 gap-4\">\n                  {/* Image Option */}\n                  <motion.button\n                    whileHover={{ scale: 1.02 }}\n                    whileTap={{ scale: 0.98 }}\n                    onClick={() => handleTypeSelect('image')}\n                    className=\"flex items-center gap-4 p-4 bg-neutral-800/50 rounded-2xl border border-neutral-700/50 hover:border-blue-500/50 transition-colors group\"\n                  >\n                    <div className=\"w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center\">\n                      <ImageIcon className=\"w-7 h-7 text-white\" />\n                    </div>\n                    <div className=\"text-left\">\n                      <h3 className=\"text-white font-medium group-hover:text-blue-400 transition-colors\">\n                        Photo\n                      </h3>\n                      <p className=\"text-neutral-500 text-sm\">\n                        Share an image from your gallery\n                      </p>\n                    </div>\n                    <ChevronRight className=\"w-5 h-5 text-neutral-600 ml-auto group-hover:text-blue-400 transition-colors\" />\n                  </motion.button>\n\n                  {/* Video Option */}\n                  <motion.button\n                    whileHover={{ scale: 1.02 }}\n                    whileTap={{ scale: 0.98 }}\n                    onClick={() => handleTypeSelect('video')}\n                    className=\"flex items-center gap-4 p-4 bg-neutral-800/50 rounded-2xl border border-neutral-700/50 hover:border-pink-500/50 transition-colors group\"\n                  >\n                    <div className=\"w-14 h-14 rounded-xl bg-gradient-to-br from-pink-500 to-red-600 flex items-center justify-center\">\n                      <Video className=\"w-7 h-7 text-white\" />\n                    </div>\n                    <div className=\"text-left\">\n                      <h3 className=\"text-white font-medium group-hover:text-pink-400 transition-colors\">\n                        Video\n                      </h3>\n                      <p className=\"text-neutral-500 text-sm\">\n                        Share a short video clip\n                      </p>\n                    </div>\n                    <ChevronRight className=\"w-5 h-5 text-neutral-600 ml-auto group-hover:text-pink-400 transition-colors\" />\n                  </motion.button>\n\n                  {/* Text Option */}\n                  <motion.button\n                    whileHover={{ scale: 1.02 }}\n                    whileTap={{ scale: 0.98 }}\n                    onClick={() => handleTypeSelect('text')}\n                    className=\"flex items-center gap-4 p-4 bg-neutral-800/50 rounded-2xl border border-neutral-700/50 hover:border-green-500/50 transition-colors group\"\n                  >\n                    <div className=\"w-14 h-14 rounded-xl bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center\">\n                      <Type className=\"w-7 h-7 text-white\" />\n                    </div>\n                    <div className=\"text-left\">\n                      <h3 className=\"text-white font-medium group-hover:text-green-400 transition-colors\">\n                        Text\n                      </h3>\n                      <p className=\"text-neutral-500 text-sm\">\n                        Share a thought or quote\n                      </p>\n                    </div>\n                    <ChevronRight className=\"w-5 h-5 text-neutral-600 ml-auto group-hover:text-green-400 transition-colors\" />\n                  </motion.button>\n                </div>\n\n                {/* AI Story Suggestion */}\n                <div className=\"mt-8 p-4 bg-gradient-to-br from-purple-900/30 to-blue-900/30 rounded-2xl border border-purple-500/20\">\n                  <div className=\"flex items-center gap-3 mb-2\">\n                    <Sparkles className=\"w-5 h-5 text-purple-400\" />\n                    <h4 className=\"text-white font-medium\">AI Story Ideas</h4>\n                  </div>\n                  <p className=\"text-neutral-400 text-sm\">\n                    Coming soon: Let AI help you create engaging professional stories!\n                  </p>\n                </div>\n              </div>\n            )}\n\n            {/* Step 2: Upload Media */}\n            {step === 'upload-media' && (\n              <div className=\"p-6\">\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  accept={storyType === 'video' ? 'video/*' : 'image/*'}\n                  onChange={handleFileSelect}\n                  className=\"hidden\"\n                />\n\n                <motion.button\n                  whileHover={{ scale: 1.02 }}\n                  whileTap={{ scale: 0.98 }}\n                  onClick={() => fileInputRef.current?.click()}\n                  className=\"w-full aspect-[9/16] max-h-[400px] rounded-2xl border-2 border-dashed border-neutral-700 hover:border-blue-500 transition-colors flex flex-col items-center justify-center gap-4 bg-neutral-800/30\"\n                >\n                  <div className=\"w-16 h-16 rounded-full bg-neutral-800 flex items-center justify-center\">\n                    <Upload className=\"w-8 h-8 text-neutral-400\" />\n                  </div>\n                  <div className=\"text-center\">\n                    <p className=\"text-white font-medium\">\n                      Tap to upload {storyType === 'video' ? 'video' : 'image'}\n                    </p>\n                    <p className=\"text-neutral-500 text-sm mt-1\">\n                      {storyType === 'video' ? 'MP4, MOV up to 50MB' : 'JPG, PNG up to 10MB'}\n                    </p>\n                  </div>\n                </motion.button>\n\n                {error && (\n                  <p className=\"mt-4 text-red-400 text-sm text-center\">{error}</p>\n                )}\n              </div>\n            )}\n\n            {/* Step 3: Edit */}\n            {step === 'edit' && (\n              <div className=\"flex flex-col h-full\">\n                {/* Preview */}\n                <div className=\"relative flex-1 min-h-[300px]\">\n                  {storyType === 'text' ? (\n                    <div\n                      className=\"absolute inset-0 flex items-center justify-center p-8\"\n                      style={{ background: textBackground }}\n                    >\n                      <textarea\n                        value={textContent}\n                        onChange={(e) => setTextContent(e.target.value)}\n                        placeholder=\"Type your story...\"\n                        className=\"w-full h-full bg-transparent text-white text-2xl font-bold text-center resize-none focus:outline-none placeholder-white/50\"\n                        maxLength={280}\n                      />\n                    </div>\n                  ) : (\n                    <div className=\"absolute inset-0 bg-black flex items-center justify-center\">\n                      {storyType === 'video' && mediaPreview ? (\n                        <video\n                          src={mediaPreview}\n                          className=\"max-w-full max-h-full object-contain\"\n                          controls\n                        />\n                      ) : mediaPreview ? (\n                        <Image\n                          src={mediaPreview}\n                          alt=\"Preview\"\n                          fill\n                          className=\"object-contain\"\n                        />\n                      ) : null}\n\n                      {/* Remove button */}\n                      <button\n                        onClick={handleRemoveMedia}\n                        className=\"absolute top-4 right-4 w-10 h-10 rounded-full bg-black/50 flex items-center justify-center\"\n                      >\n                        <Trash2 className=\"w-5 h-5 text-white\" />\n                      </button>\n                    </div>\n                  )}\n                </div>\n\n                {/* Text Background Picker (for text stories) */}\n                {storyType === 'text' && (\n                  <div className=\"p-4 border-t border-neutral-800\">\n                    <p className=\"text-neutral-400 text-sm mb-3\">Background</p>\n                    <div className=\"flex gap-2 overflow-x-auto pb-2\">\n                      {TEXT_BACKGROUNDS.map((bg, idx) => (\n                        <button\n                          key={idx}\n                          onClick={() => setTextBackground(bg)}\n                          className={`w-10 h-10 rounded-xl flex-shrink-0 ${\n                            textBackground === bg ? 'ring-2 ring-white ring-offset-2 ring-offset-neutral-900' : ''\n                          }`}\n                          style={{ background: bg }}\n                        />\n                      ))}\n                    </div>\n                    <p className=\"text-neutral-500 text-xs mt-2\">\n                      {textContent.length}/280 characters\n                    </p>\n                  </div>\n                )}\n              </div>\n            )}\n\n            {/* Step 4: Details */}\n            {step === 'details' && (\n              <div className=\"p-6 space-y-6\">\n                {/* Category */}\n                <div>\n                  <label className=\"text-white font-medium mb-3 block\">Category</label>\n                  <div className=\"grid grid-cols-3 gap-2\">\n                    {STORY_CATEGORIES.map((cat) => (\n                      <button\n                        key={cat.value}\n                        onClick={() => setCategory(cat.value)}\n                        className={`p-3 rounded-xl border transition-colors flex flex-col items-center gap-1 ${\n                          category === cat.value\n                            ? 'bg-blue-500/20 border-blue-500 text-blue-400'\n                            : 'bg-neutral-800/50 border-neutral-700 text-neutral-400 hover:border-neutral-600'\n                        }`}\n                      >\n                        <span className=\"text-xl\">{cat.icon}</span>\n                        <span className=\"text-xs\">{cat.label}</span>\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Visibility */}\n                <div>\n                  <label className=\"text-white font-medium mb-3 block\">Who can view</label>\n                  <div className=\"space-y-2\">\n                    {VISIBILITY_OPTIONS.map((opt) => (\n                      <button\n                        key={opt.value}\n                        onClick={() => setVisibility(opt.value)}\n                        className={`w-full p-3 rounded-xl border transition-colors flex items-center gap-3 ${\n                          visibility === opt.value\n                            ? 'bg-blue-500/20 border-blue-500'\n                            : 'bg-neutral-800/50 border-neutral-700 hover:border-neutral-600'\n                        }`}\n                      >\n                        <div className={`${visibility === opt.value ? 'text-blue-400' : 'text-neutral-400'}`}>\n                          {opt.icon}\n                        </div>\n                        <div className=\"flex-1 text-left\">\n                          <p className={`font-medium ${visibility === opt.value ? 'text-blue-400' : 'text-white'}`}>\n                            {opt.label}\n                          </p>\n                          <p className=\"text-neutral-500 text-sm\">{opt.desc}</p>\n                        </div>\n                        {visibility === opt.value && (\n                          <Check className=\"w-5 h-5 text-blue-400\" />\n                        )}\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Link (optional) */}\n                <div>\n                  <label className=\"text-white font-medium mb-3 flex items-center gap-2\">\n                    <Link2 className=\"w-4 h-4\" />\n                    Add Link (optional)\n                  </label>\n                  <input\n                    type=\"url\"\n                    value={linkUrl}\n                    onChange={(e) => setLinkUrl(e.target.value)}\n                    placeholder=\"https://...\"\n                    className=\"w-full px-4 py-3 bg-neutral-800 border border-neutral-700 rounded-xl text-white placeholder-neutral-500 focus:outline-none focus:border-blue-500\"\n                  />\n                  {linkUrl && (\n                    <input\n                      type=\"text\"\n                      value={linkTitle}\n                      onChange={(e) => setLinkTitle(e.target.value)}\n                      placeholder=\"Link title (optional)\"\n                      className=\"w-full px-4 py-3 mt-2 bg-neutral-800 border border-neutral-700 rounded-xl text-white placeholder-neutral-500 focus:outline-none focus:border-blue-500\"\n                    />\n                  )}\n                </div>\n\n                {error && (\n                  <p className=\"text-red-400 text-sm\">{error}</p>\n                )}\n              </div>\n            )}\n          </div>\n\n          {/* Footer */}\n          {(step === 'edit' || step === 'details') && (\n            <div className=\"p-4 border-t border-neutral-800\">\n              {step === 'edit' ? (\n                <button\n                  onClick={() => setStep('details')}\n                  disabled={!canProceed()}\n                  className=\"w-full py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n                >\n                  Continue\n                  <ChevronRight className=\"w-5 h-5\" />\n                </button>\n              ) : (\n                <button\n                  onClick={handleSubmit}\n                  disabled={isUploading}\n                  className=\"w-full py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white font-semibold rounded-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n                >\n                  {isUploading ? (\n                    <>\n                      <Loader2 className=\"w-5 h-5 animate-spin\" />\n                      Sharing...\n                    </>\n                  ) : (\n                    <>\n                      <Sparkles className=\"w-5 h-5\" />\n                      Share Story\n                    </>\n                  )}\n                </button>\n              )}\n            </div>\n          )}\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n}\n"],"names":["React","useState","useRef","useCallback","motion","AnimatePresence","X","Image","ImageIcon","Video","Type","Sparkles","Link2","Users","Globe","Lock","Check","ChevronLeft","ChevronRight","Upload","Loader2","Trash2","createStory","createStoryWithMedia","CreateStoryInput","StoryCategory","StoryVisibility","StoryCreatorProps","isOpen","onClose","onStoryCreated","StoryType","CreatorStep","STORY_CATEGORIES","value","label","icon","VISIBILITY_OPTIONS","ReactNode","desc","TEXT_BACKGROUNDS","StoryCreator","step","setStep","storyType","setStoryType","mediaFile","setMediaFile","File","mediaPreview","setMediaPreview","textContent","setTextContent","textBackground","setTextBackground","linkUrl","setLinkUrl","linkTitle","setLinkTitle","category","setCategory","visibility","setVisibility","isUploading","setIsUploading","error","setError","fileInputRef","HTMLInputElement","handleFileSelect","e","ChangeEvent","file","target","files","isImage","type","startsWith","isVideo","maxSize","size","URL","createObjectURL","handleTypeSelect","handleRemoveMedia","revokeObjectURL","handleSubmit","mediaType","backgroundColor","undefined","formData","FormData","append","handleClose","err","message","goBack","canProceed","trim","length","opacity","scale","stopPropagation","current","click","background","map","bg","idx","cat","opt"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3073, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/stories/StoryHighlights.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { Plus, Play, Lock } from 'lucide-react';\nimport Image from 'next/image';\nimport { getUserHighlights, getHighlightStories, type StoryHighlight, type Story } from '@/lib/api/stories';\n\ninterface StoryHighlightsProps {\n  userId: string;\n  isOwnProfile?: boolean;\n  onCreateHighlight?: () => void;\n}\n\nexport function StoryHighlights({ userId, isOwnProfile = false, onCreateHighlight }: StoryHighlightsProps) {\n  const [highlights, setHighlights] = useState<StoryHighlight[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedHighlight, setSelectedHighlight] = useState<StoryHighlight | null>(null);\n  const [highlightStories, setHighlightStories] = useState<Story[]>([]);\n\n  useEffect(() => {\n    fetchHighlights();\n  }, [userId]);\n\n  const fetchHighlights = async () => {\n    try {\n      const response = await getUserHighlights(userId);\n      setHighlights(response.highlights);\n    } catch (error) {\n      console.error('Error fetching highlights:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleHighlightClick = async (highlight: StoryHighlight) => {\n    setSelectedHighlight(highlight);\n    try {\n      const response = await getHighlightStories(highlight.id);\n      setHighlightStories(response.highlight.stories);\n      // Open story viewer with these stories\n    } catch (error) {\n      console.error('Error fetching highlight stories:', error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex gap-4 overflow-x-auto pb-4 scrollbar-hide\">\n        {[...Array(4)].map((_, i) => (\n          <div key={i} className=\"flex flex-col items-center gap-2 flex-shrink-0 animate-pulse\">\n            <div className=\"w-16 h-16 rounded-2xl bg-neutral-800\" />\n            <div className=\"w-12 h-3 rounded bg-neutral-800\" />\n          </div>\n        ))}\n      </div>\n    );\n  }\n\n  if (highlights.length === 0 && !isOwnProfile) {\n    return null;\n  }\n\n  return (\n    <div className=\"mb-6\">\n      <h3 className=\"text-white font-semibold mb-4\">Story Highlights</h3>\n      \n      <div className=\"flex gap-4 overflow-x-auto pb-2 scrollbar-hide\">\n        {/* Create New Highlight Button (for own profile) */}\n        {isOwnProfile && (\n          <motion.button\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n            onClick={onCreateHighlight}\n            className=\"flex flex-col items-center gap-2 flex-shrink-0\"\n          >\n            <div className=\"w-16 h-16 rounded-2xl bg-neutral-800/50 border-2 border-dashed border-neutral-700 flex items-center justify-center hover:border-blue-500/50 transition-colors\">\n              <Plus className=\"w-6 h-6 text-neutral-400\" />\n            </div>\n            <span className=\"text-xs text-neutral-500\">New</span>\n          </motion.button>\n        )}\n\n        {/* Highlights */}\n        {highlights.map((highlight, index) => (\n          <motion.button\n            key={highlight.id}\n            initial={{ opacity: 0, y: 10 }}\n            animate={{ opacity: 1, y: 0 }}\n            transition={{ delay: index * 0.05 }}\n            whileHover={{ scale: 1.05 }}\n            whileTap={{ scale: 0.95 }}\n            onClick={() => handleHighlightClick(highlight)}\n            className=\"flex flex-col items-center gap-2 flex-shrink-0 group\"\n          >\n            {/* Highlight Cover */}\n            <div className=\"relative w-16 h-16 rounded-2xl overflow-hidden ring-2 ring-neutral-700 group-hover:ring-blue-500 transition-all\">\n              {highlight.coverImage ? (\n                <Image\n                  src={highlight.coverImage}\n                  alt={highlight.title}\n                  fill\n                  className=\"object-cover\"\n                />\n              ) : (\n                <div className=\"w-full h-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center\">\n                  <span className=\"text-white text-xl\">\n                    {highlight.title.charAt(0)}\n                  </span>\n                </div>\n              )}\n\n              {/* Story Count Badge */}\n              <div className=\"absolute bottom-1 right-1 flex items-center gap-0.5 bg-black/60 rounded-full px-1.5 py-0.5\">\n                <Play className=\"w-2.5 h-2.5 text-white\" fill=\"white\" />\n                <span className=\"text-[10px] text-white font-medium\">{highlight.storiesCount}</span>\n              </div>\n\n              {/* Privacy Indicator */}\n              {!highlight.isPublic && (\n                <div className=\"absolute top-1 left-1 w-4 h-4 bg-black/60 rounded-full flex items-center justify-center\">\n                  <Lock className=\"w-2.5 h-2.5 text-white\" />\n                </div>\n              )}\n\n              {/* Hover Overlay */}\n              <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\n                <Play className=\"w-6 h-6 text-white\" fill=\"white\" />\n              </div>\n            </div>\n\n            {/* Highlight Title */}\n            <span className=\"text-xs text-neutral-400 truncate max-w-16 group-hover:text-white transition-colors\">\n              {highlight.title}\n            </span>\n          </motion.button>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":["React","useState","useEffect","motion","Plus","Play","Lock","Image","getUserHighlights","getHighlightStories","StoryHighlight","Story","StoryHighlightsProps","userId","isOwnProfile","onCreateHighlight","StoryHighlights","highlights","setHighlights","loading","setLoading","selectedHighlight","setSelectedHighlight","highlightStories","setHighlightStories","fetchHighlights","response","error","console","handleHighlightClick","highlight","id","stories","Array","map","_","i","length","scale","index","opacity","y","delay","coverImage","title","charAt","storiesCount","isPublic"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3361, "column": 0}, "map": {"version":3,"sources":["file:///home/yasmanth/Pictures/vormex/vormex-web/src/components/stories/index.ts"],"sourcesContent":["// Stories Components\nexport { StoryCarousel } from './StoryCarousel';\nexport { StoryViewer } from './StoryViewer';\nexport { StoryCreator } from './StoryCreator';\nexport { StoryHighlights } from './StoryHighlights';\n"],"names":[],"mappings":"AAAA,qBAAqB;;AACrB;AACA;AACA;AACA"}}]
}
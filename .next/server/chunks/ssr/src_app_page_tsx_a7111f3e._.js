module.exports=[40777,a=>{"use strict";var b=a.i(87924),c=a.i(90925),d=a.i(72131),e=a.i(62036),f=a.i(26112),g=a.i(37927),h=a.i(96221),i=a.i(15618),j=a.i(94770);function k(){return(0,b.jsx)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden animate-pulse",children:(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-200 dark:bg-neutral-700"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("div",{className:"h-4 w-32 bg-gray-200 dark:bg-neutral-700 rounded"}),(0,b.jsx)("div",{className:"h-3 w-20 bg-gray-200 dark:bg-neutral-700 rounded"})]})]}),(0,b.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,b.jsx)("div",{className:"h-4 w-full bg-gray-200 dark:bg-neutral-700 rounded"}),(0,b.jsx)("div",{className:"h-4 w-3/4 bg-gray-200 dark:bg-neutral-700 rounded"}),(0,b.jsx)("div",{className:"h-4 w-1/2 bg-gray-200 dark:bg-neutral-700 rounded"})]}),(0,b.jsx)("div",{className:"mt-4 h-48 bg-gray-200 dark:bg-neutral-700 rounded-lg"}),(0,b.jsxs)("div",{className:"mt-4 flex gap-6",children:[(0,b.jsx)("div",{className:"h-4 w-16 bg-gray-200 dark:bg-neutral-700 rounded"}),(0,b.jsx)("div",{className:"h-4 w-20 bg-gray-200 dark:bg-neutral-700 rounded"}),(0,b.jsx)("div",{className:"h-4 w-14 bg-gray-200 dark:bg-neutral-700 rounded"})]})]})})}var l=a.i(99828),m=a.i(46271),n=a.i(33508),o=a.i(38632),p=a.i(64791),q=a.i(4720),r=a.i(79257),s=a.i(39761),t=a.i(8406),u=a.i(83077),v=a.i(44494),w=a.i(60246),x=a.i(43108),y=a.i(5784),z=a.i(81560),A=a.i(64754),B=a.i(46338),C=a.i(67329),D=a.i(54074),E=a.i(65169),F=a.i(54347),G=a.i(99464),H=a.i(3512),I=a.i(13434),J=a.i(41815),K=a.i(87654),L=a.i(70106);let M=(0,L.default)("FlipHorizontal",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h3",key:"1i73f7"}],["path",{d:"M16 3h3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-3",key:"saxlbk"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 14v2",key:"8jcxud"}],["path",{d:"M12 8v2",key:"1woqiv"}],["path",{d:"M12 2v2",key:"tus03m"}]]),N=(0,L.default)("FlipVertical",[["path",{d:"M21 8V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v3",key:"14bfxa"}],["path",{d:"M21 16v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-3",key:"14rx03"}],["path",{d:"M4 12H2",key:"rhcxmi"}],["path",{d:"M10 12H8",key:"s88cx1"}],["path",{d:"M16 12h-2",key:"10asgb"}],["path",{d:"M22 12h-2",key:"14jgyd"}]]);var O=a.i(65341);let P=(0,L.default)("Contrast",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 18a6 6 0 0 0 0-12v12z",key:"j4l70d"}]]),Q=(0,L.default)("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);var R=a.i(33441);let S=(0,L.default)("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);function T({isOpen:a,imageUrl:c,onClose:f,onSave:g}){let h=(0,d.useRef)(null),[i,j]=(0,d.useState)(null),[k,l]=(0,d.useState)(0),[o,p]=(0,d.useState)(!1),[q,r]=(0,d.useState)(!1),[s,t]=(0,d.useState)({brightness:100,contrast:100,saturation:100}),[u,v]=(0,d.useState)("adjust"),[w,x]=(0,d.useState)(!1);(0,d.useEffect)(()=>{if(!c)return;let a=new Image;a.crossOrigin="anonymous",a.onload=()=>{j(a)},a.src=c},[c]),(0,d.useEffect)(()=>{if(!i||!h.current)return;let a=h.current,b=a.getContext("2d");if(!b)return;let c=90===k||270===k,d=c?i.height:i.width,e=c?i.width:i.height,f=Math.min(600/d,500/e,1);a.width=d*f,a.height=e*f,b.clearRect(0,0,a.width,a.height),b.save(),b.translate(a.width/2,a.height/2),b.rotate(k*Math.PI/180),b.scale(o?-1:1,q?-1:1),b.filter=`brightness(${s.brightness}%) contrast(${s.contrast}%) saturate(${s.saturation}%)`;let g=i.width*f,j=i.height*f;b.drawImage(i,-g/2,-j/2,g,j),b.restore()},[i,k,o,q,s]);let y=async()=>{if(h.current&&i){x(!0);try{let a=document.createElement("canvas"),b=a.getContext("2d");if(!b)return;let c=90===k||270===k;a.width=c?i.height:i.width,a.height=c?i.width:i.height,b.translate(a.width/2,a.height/2),b.rotate(k*Math.PI/180),b.scale(o?-1:1,q?-1:1),b.filter=`brightness(${s.brightness}%) contrast(${s.contrast}%) saturate(${s.saturation}%)`,b.drawImage(i,-i.width/2,-i.height/2),a.toBlob(a=>{a&&g(a),x(!1)},"image/jpeg",.9)}catch(a){console.error("Error saving image:",a),x(!1)}}};return a?(0,b.jsx)(e.AnimatePresence,{children:a&&(0,b.jsx)(m.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.8)"},onClick:f,children:(0,b.jsxs)(m.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:a=>a.stopPropagation(),className:"w-full max-w-3xl max-h-[90vh] overflow-hidden rounded-2xl",style:{background:"#1a1a1a"},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Edit Image"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("button",{onClick:()=>{l(0),p(!1),r(!1),t({brightness:100,contrast:100,saturation:100})},className:"flex items-center gap-1 px-3 py-1.5 rounded-lg text-gray-300 hover:bg-gray-700 transition-colors",children:[(0,b.jsx)(S,{className:"w-4 h-4"}),"Reset"]}),(0,b.jsx)("button",{onClick:f,className:"p-2 rounded-full hover:bg-gray-700 transition-colors",children:(0,b.jsx)(n.X,{className:"w-5 h-5 text-gray-300"})})]})]}),(0,b.jsx)("div",{className:"flex items-center justify-center p-6 bg-gray-900 min-h-[350px]",children:(0,b.jsx)("canvas",{ref:h,className:"max-w-full max-h-[350px] rounded-lg",style:{boxShadow:"0 4px 20px rgba(0,0,0,0.5)"}})}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-4 p-4 border-t border-gray-700",children:[(0,b.jsxs)("button",{onClick:()=>{l(a=>(a-90+360)%360)},className:"flex flex-col items-center gap-1 p-3 rounded-lg hover:bg-gray-700 transition-colors",children:[(0,b.jsx)(K.RotateCcw,{className:"w-5 h-5 text-gray-300"}),(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"Rotate Left"})]}),(0,b.jsxs)("button",{onClick:()=>{l(a=>(a+90)%360)},className:"flex flex-col items-center gap-1 p-3 rounded-lg hover:bg-gray-700 transition-colors",children:[(0,b.jsx)(J.RotateCw,{className:"w-5 h-5 text-gray-300"}),(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"Rotate Right"})]}),(0,b.jsxs)("button",{onClick:()=>{p(a=>!a)},className:`flex flex-col items-center gap-1 p-3 rounded-lg transition-colors ${o?"bg-blue-600":"hover:bg-gray-700"}`,children:[(0,b.jsx)(M,{className:"w-5 h-5 text-gray-300"}),(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"Flip H"})]}),(0,b.jsxs)("button",{onClick:()=>{r(a=>!a)},className:`flex flex-col items-center gap-1 p-3 rounded-lg transition-colors ${q?"bg-blue-600":"hover:bg-gray-700"}`,children:[(0,b.jsx)(N,{className:"w-5 h-5 text-gray-300"}),(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"Flip V"})]})]}),(0,b.jsxs)("div",{className:"flex border-t border-gray-700",children:[(0,b.jsx)("button",{onClick:()=>v("adjust"),className:`flex-1 py-3 text-sm font-medium transition-colors ${"adjust"===u?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-200"}`,children:"Adjust"}),(0,b.jsx)("button",{onClick:()=>v("filters"),className:`flex-1 py-3 text-sm font-medium transition-colors ${"filters"===u?"text-blue-400 border-b-2 border-blue-400":"text-gray-400 hover:text-gray-200"}`,children:"Filters"})]}),"adjust"===u&&(0,b.jsxs)("div",{className:"p-4 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(O.Sun,{className:"w-5 h-5 text-gray-400"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"Brightness"}),(0,b.jsxs)("span",{className:"text-xs text-gray-400",children:[s.brightness,"%"]})]}),(0,b.jsx)("input",{type:"range",min:"50",max:"150",value:s.brightness,onChange:a=>t({...s,brightness:Number(a.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(P,{className:"w-5 h-5 text-gray-400"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"Contrast"}),(0,b.jsxs)("span",{className:"text-xs text-gray-400",children:[s.contrast,"%"]})]}),(0,b.jsx)("input",{type:"range",min:"50",max:"150",value:s.contrast,onChange:a=>t({...s,contrast:Number(a.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(Q,{className:"w-5 h-5 text-gray-400"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"Saturation"}),(0,b.jsxs)("span",{className:"text-xs text-gray-400",children:[s.saturation,"%"]})]}),(0,b.jsx)("input",{type:"range",min:"0",max:"200",value:s.saturation,onChange:a=>t({...s,saturation:Number(a.target.value)}),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-blue-500"})]})]})]}),"filters"===u&&(0,b.jsx)("div",{className:"p-4",children:(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[{name:"Original",brightness:100,contrast:100,saturation:100},{name:"Vivid",brightness:105,contrast:115,saturation:130},{name:"Warm",brightness:105,contrast:100,saturation:110},{name:"Cool",brightness:100,contrast:105,saturation:90},{name:"B&W",brightness:100,contrast:110,saturation:0},{name:"Vintage",brightness:95,contrast:90,saturation:80},{name:"Drama",brightness:90,contrast:130,saturation:110},{name:"Fade",brightness:110,contrast:85,saturation:90}].map(a=>(0,b.jsxs)("button",{onClick:()=>{t({brightness:a.brightness,contrast:a.contrast,saturation:a.saturation})},className:`p-2 rounded-lg text-center transition-all ${s.brightness===a.brightness&&s.contrast===a.contrast&&s.saturation===a.saturation?"bg-blue-600 ring-2 ring-blue-400":"bg-gray-700 hover:bg-gray-600"}`,children:[(0,b.jsx)("div",{className:"w-full aspect-square rounded-lg mb-1 bg-gray-600",style:{filter:`brightness(${a.brightness}%) contrast(${a.contrast}%) saturate(${a.saturation}%)`,backgroundImage:i?`url(${c})`:void 0,backgroundSize:"cover",backgroundPosition:"center"}}),(0,b.jsx)("span",{className:"text-xs text-gray-300",children:a.name})]},a.name))})}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 p-4 border-t border-gray-700",children:[(0,b.jsx)("button",{onClick:f,className:"px-6 py-2 rounded-lg text-gray-300 hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:y,disabled:w,className:"flex items-center gap-2 px-6 py-2 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700 transition-colors disabled:opacity-50",children:w?(0,b.jsx)(b.Fragment,{children:"Saving..."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(R.Check,{className:"w-4 h-4"}),"Apply Changes"]})})]})]})})}):null}var U=a.i(37404);let V=[{type:"TEXT",icon:q.FileText,label:"Text"},{type:"IMAGE",icon:o.Image,label:"Image"},{type:"VIDEO",icon:p.Video,label:"Video"},{type:"LINK",icon:r.Link,label:"Link"},{type:"POLL",icon:s.BarChart3,label:"Poll"},{type:"ARTICLE",icon:t.Sparkles,label:"Article"},{type:"CELEBRATION",icon:u.Trophy,label:"Celebration"}],W=[{value:"PUBLIC",label:"Anyone",icon:v.Globe},{value:"CONNECTIONS",label:"Connections only",icon:w.Users},{value:"PRIVATE",label:"Only me",icon:x.Lock}],X=[{value:"NEW_JOB",label:"Started a new job",emoji:"ðŸŽ‰"},{value:"PROMOTION",label:"Got promoted",emoji:"ðŸš€"},{value:"GRADUATION",label:"Graduated",emoji:"ðŸŽ“"},{value:"CERTIFICATION",label:"Earned a certification",emoji:"ðŸ“œ"},{value:"WORK_ANNIVERSARY",label:"Work anniversary",emoji:"ðŸŽŠ"},{value:"BIRTHDAY",label:"Birthday",emoji:"ðŸŽ‚"}];function Y({isOpen:a,onClose:c,onPostCreated:f}){let g,j,{user:k}=(0,H.useAuth)(),[l,q]=(0,d.useState)("TEXT"),[r,t]=(0,d.useState)(""),[u,w]=(0,d.useState)("PUBLIC"),[x,J]=(0,d.useState)(!1),[K,L]=(0,d.useState)(!1),[M,N]=(0,d.useState)(null),[O,P]=(0,d.useState)([]),[Q,R]=(0,d.useState)([]),[S,Y]=(0,d.useState)(null),[Z,$]=(0,d.useState)(null),[_,aa]=(0,d.useState)(null),[ab,ac]=(0,d.useState)(""),[ad,ae]=(0,d.useState)(null),[af,ag]=(0,d.useState)(!1),[ah,ai]=(0,d.useState)(["",""]),[aj,ak]=(0,d.useState)(24),[al,am]=(0,d.useState)(!1),[an,ao]=(0,d.useState)(""),[ap,aq]=(0,d.useState)(null),[ar,as]=(0,d.useState)(null),[at,au]=(0,d.useState)([]),[av,aw]=(0,d.useState)(""),[ax,ay]=(0,d.useState)(null),[az,aA]=(0,d.useState)(""),[aB,aC]=(0,d.useState)([]),[aD,aE]=(0,d.useState)(!1),[aF,aG]=(0,d.useState)([]),[aH,aI]=(0,d.useState)(!1),aJ=(0,d.useRef)(null),aK=(0,d.useRef)(null),aL=(0,d.useRef)(null),aM=(0,d.useRef)(null);(0,d.useEffect)(()=>{let a=a=>{aJ.current&&!aJ.current.contains(a.target)&&aI(!1)};return aH&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[aH]),(0,d.useEffect)(()=>{a||aN()},[a]);let aN=()=>{q("TEXT"),t(""),w("PUBLIC"),P([]),R([]),$(null),aa(null),ac(""),ae(null),ai(["",""]),ak(24),am(!1),ao(""),aq(null),as(null),au([]),ay(null),aG([]),N(null)},aO=(0,d.useCallback)(async a=>{if(a.length<2){aC([]),aE(!1);return}try{let b=await (0,I.searchUsersForMention)(a);aC(b),aE(b.length>0)}catch(a){console.error("Error searching mentions:",a)}},[]),aP=(a,b=a)=>{let c,d,e=aM.current;if(!e)return;let f=e.selectionStart,g=e.selectionEnd,h=r.slice(f,g);h?(c=r.slice(0,f)+a+h+b+r.slice(g),d=g+a.length+b.length):(c=r.slice(0,f)+a+b+r.slice(g),d=f+a.length),t(c),setTimeout(()=>{e.focus(),e.setSelectionRange(d,d)},0)},aQ=async()=>{if(!K){N(null),L(!0);try{let a=new FormData;switch(a.append("type",l),a.append("visibility",u),r&&a.append("content",r),aF.length>0&&a.append("mentions",JSON.stringify(aF)),l){case"IMAGE":if(0===O.length){N("Please add at least one image"),L(!1);return}O.forEach(b=>{a.append("media",b)});break;case"VIDEO":if(!Z){N("Please add a video"),L(!1);return}a.append("video",Z);break;case"LINK":if(!ab){N("Please add a link"),L(!1);return}a.append("linkUrl",ab);break;case"POLL":let b=ah.filter(a=>a.trim());if(b.length<2){N("Please add at least 2 poll options"),L(!1);return}b.forEach(b=>{a.append("pollOptions",b)}),a.append("pollDuration",String(aj));break;case"ARTICLE":if(!an){N("Please add an article title"),L(!1);return}a.append("articleTitle",an),ap&&a.append("articleCoverImage",ap),at.length>0&&at.forEach(b=>{a.append("articleTags",b)});break;case"CELEBRATION":if(!ax){N("Please select a celebration type"),L(!1);return}a.append("celebrationType",ax);break;default:if(!r.trim()){N("Please add some content"),L(!1);return}}let d=await (0,I.createPost)(a);f?.(d),c()}catch(a){console.error("Error creating post:",a),N(a.response?.data?.error||"Failed to create post")}finally{L(!1)}}};return a?(0,b.jsxs)(e.AnimatePresence,{children:[(0,b.jsxs)(m.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:c,children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),(0,b.jsxs)(m.motion.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:a=>a.stopPropagation(),className:"relative w-full max-w-3xl max-h-[85vh] flex flex-col",style:{background:"#ecf0f3",borderRadius:"24px",boxShadow:"10px 10px 20px #d1d9e6, -10px -10px 20px #f9f9f9"},children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-5 border-b flex-shrink-0",style:{borderColor:"#d1d9e6"},children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Create Post"}),(0,b.jsx)("button",{onClick:c,className:"p-2.5 rounded-full transition-all hover:scale-105",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:(0,b.jsx)(n.X,{className:"w-6 h-6 text-gray-600"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 p-5 flex-shrink-0",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-full overflow-hidden",style:{boxShadow:"inset 4px 4px 8px #d1d9e6, inset -4px -4px 8px #f9f9f9"},children:k?.profileImage?(0,b.jsx)("img",{src:k.profileImage,alt:k.name,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-300 text-gray-600 font-bold",children:k?.name?.charAt(0).toUpperCase()})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-800",children:k?.name}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("button",{onClick:()=>J(!x),className:"flex items-center gap-1 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:(g=W.find(a=>a.value===u),j=g?.icon||v.Globe,(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:g?.label}),(0,b.jsx)(y.ChevronDown,{className:"w-3 h-3"})]}))}),x&&(0,b.jsx)("div",{className:"absolute top-full left-0 mt-1 py-1 rounded-lg z-10",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:W.map(a=>(0,b.jsxs)("button",{onClick:()=>{w(a.value),J(!1)},className:"flex items-center gap-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[(0,b.jsx)(a.icon,{className:"w-4 h-4"}),a.label]},a.value))})]})]})]}),(0,b.jsx)("div",{className:"flex gap-2 px-4 pb-3 overflow-x-auto scrollbar-hide flex-shrink-0",style:{scrollbarWidth:"none"},children:V.map(({type:a,icon:c,label:d})=>(0,b.jsxs)("button",{onClick:()=>q(a),className:`flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all whitespace-nowrap ${l===a?"text-blue-600":"text-gray-600 hover:text-gray-800"}`,style:{background:"#ecf0f3",boxShadow:l===a?"inset 4px 4px 8px #d1d9e6, inset -4px -4px 8px #f9f9f9":"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:[(0,b.jsx)(c,{className:"w-4 h-4"}),d]},a))}),(0,b.jsxs)("div",{className:"flex-1 p-5 overflow-y-auto",children:[M&&(0,b.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-red-100 text-red-700 text-sm",children:M}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 p-2 mb-2 rounded-lg",style:{background:"#ecf0f3",boxShadow:"inset 2px 2px 4px #d1d9e6, inset -2px -2px 4px #f9f9f9"},children:[(0,b.jsx)("button",{type:"button",onClick:()=>{aP("**")},className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Bold (**text**)",children:(0,b.jsx)(A.Bold,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsx)("button",{type:"button",onClick:()=>{aP("*")},className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Italic (*text*)",children:(0,b.jsx)(B.Italic,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsx)("button",{type:"button",onClick:()=>{let a,b,c=aM.current;if(!c)return;let d=c.selectionStart,e=r.slice(0,d),f=r.slice(d),g=e.lastIndexOf("\n")+1,h=e.slice(g);h.startsWith("- ")?(a=r.slice(0,g)+h.slice(2)+f,b=d-2):(a=r.slice(0,g)+"- "+h+f,b=d+2),t(a),setTimeout(()=>{c.focus(),c.setSelectionRange(b,b)},0)},className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Bullet List",children:(0,b.jsx)(C.List,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsx)("button",{type:"button",onClick:()=>{aP("`")},className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Code (`code`)",children:(0,b.jsx)(D.Code,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsx)("div",{className:"w-px h-5 bg-gray-300 mx-1"}),(0,b.jsx)("button",{type:"button",onClick:()=>{let a=aM.current;if(!a)return;let b=a.selectionStart;t(r.slice(0,b)+"@"+r.slice(b)),setTimeout(()=>{a.focus(),a.setSelectionRange(b+1,b+1)},0)},className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Mention someone (@)",children:(0,b.jsx)(E.AtSign,{className:"w-4 h-4 text-gray-600"})}),(0,b.jsxs)("div",{className:"relative",ref:aJ,children:[(0,b.jsx)("button",{type:"button",onClick:()=>aI(!aH),className:"p-2 rounded hover:bg-gray-200 transition-colors",title:"Text Color",children:(0,b.jsx)(F.Palette,{className:"w-4 h-4 text-gray-600"})}),aH&&(0,b.jsxs)("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 p-3 rounded-xl z-30 min-w-[200px]",style:{background:"#ecf0f3",boxShadow:"6px 6px 12px #d1d9e6, -6px -6px 12px #ffffff"},children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-500 mb-2 text-center",children:"Choose Color"}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[{name:"Red",value:"#ef4444"},{name:"Orange",value:"#f97316"},{name:"Yellow",value:"#eab308"},{name:"Green",value:"#22c55e"},{name:"Teal",value:"#14b8a6"},{name:"Blue",value:"#3b82f6"},{name:"Purple",value:"#a855f7"},{name:"Pink",value:"#ec4899"}].map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>(a=>{let b,c,d=aM.current;if(!d)return;let e=d.selectionStart,f=d.selectionEnd,g=r.slice(e,f),h=`[color:${a}]`,i="[/color]";g?(b=r.slice(0,e)+h+g+i+r.slice(f),c=e+h.length+g.length+i.length):(b=r.slice(0,e)+h+i+r.slice(e),c=e+h.length),t(b),aI(!1),setTimeout(()=>{d.focus(),d.setSelectionRange(c,c)},0)})(a.value),className:"group flex flex-col items-center gap-1",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full border-2 border-white shadow-md hover:scale-110 hover:shadow-lg transition-all duration-200",style:{backgroundColor:a.value}}),(0,b.jsx)("span",{className:"text-[10px] text-gray-500 group-hover:text-gray-700",children:a.name})]},a.value))})]})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("textarea",{ref:aM,value:r,onChange:a=>{let b=a.target.value;t(b);let c=b.lastIndexOf("@");if(-1!==c){let a=b.slice(c+1),d=a.indexOf(" "),e=-1===d?a:a.slice(0,d);e&&!a.includes(" ")?(aA(e),aO(e)):aE(!1)}else aE(!1)},placeholder:"What do you want to share? Use **bold**, *italic*, [color:#22c55e]colored text[/color]",className:"w-full min-h-[140px] p-5 rounded-xl text-gray-800 placeholder-gray-400 resize-none outline-none text-base leading-relaxed",style:{background:"#ecf0f3",boxShadow:"inset 4px 4px 8px #d1d9e6, inset -4px -4px 8px #f9f9f9",fontFamily:"'Montserrat', sans-serif"}}),r.trim()&&(0,b.jsxs)("div",{className:"mt-3 p-4 rounded-xl border border-gray-200 dark:border-neutral-700",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-gray-500 dark:text-neutral-400 mb-2",children:"Preview"}),(0,b.jsx)(U.FormattedContent,{content:r,className:"text-gray-800 dark:text-neutral-200 text-base"})]}),aD&&(0,b.jsx)("div",{className:"absolute bottom-full left-0 w-64 mb-2 py-2 rounded-lg max-h-48 overflow-y-auto z-20",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:aB.map(a=>(0,b.jsxs)("button",{onClick:()=>{let b;return b=r.lastIndexOf("@"),void(t(r.slice(0,b)+`@${a.username} `),aG([...aF,a.id]),aE(!1),aM.current?.focus())},className:"flex items-center gap-2 w-full px-4 py-2 hover:bg-gray-100 transition-colors",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-300",children:a.profileImage&&(0,b.jsx)("img",{src:a.profileImage,alt:a.name,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-800",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["@",a.username]})]})]},a.id))})]})]}),"IMAGE"===l&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("input",{ref:aK,type:"file",accept:"image/*",multiple:!0,onChange:a=>{let b=Array.from(a.target.files||[]);if(O.length+b.length>10)return void N("Maximum 10 images allowed");let c=b.filter(a=>!(a.size>0xa00000)||(N("Image size must be under 10MB"),!1));P(a=>[...a,...c]),c.forEach(a=>{let b=new FileReader;b.onload=a=>{R(b=>[...b,a.target?.result])},b.readAsDataURL(a)})},className:"hidden"}),Q.length>0?(0,b.jsxs)("div",{className:"space-y-3",children:[Q.map((a,c)=>(0,b.jsxs)("div",{className:"relative rounded-xl overflow-hidden bg-gray-100",children:[(0,b.jsx)("img",{src:a,alt:"",className:"w-full max-h-[400px] object-contain mx-auto",style:{display:"block"}}),(0,b.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>Y(c),className:"p-2 rounded-full bg-blue-500 text-white hover:bg-blue-600 transition-colors shadow-lg",title:"Edit image",children:(0,b.jsx)(G.Pencil,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:()=>{P(a=>a.filter((a,b)=>b!==c)),R(a=>a.filter((a,b)=>b!==c))},className:"p-2 rounded-full bg-red-500 text-white hover:bg-red-600 transition-colors shadow-lg",title:"Remove image",children:(0,b.jsx)(n.X,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"absolute bottom-2 left-2 px-2 py-1 rounded-full bg-black/50 text-white text-xs",children:[c+1," / ",Q.length]})]},c)),O.length<10&&(0,b.jsxs)("button",{onClick:()=>aK.current?.click(),className:"w-full py-8 rounded-xl flex items-center justify-center gap-2 transition-all hover:scale-[1.01]",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:[(0,b.jsx)(i.Plus,{className:"w-6 h-6 text-gray-400"}),(0,b.jsx)("span",{className:"text-gray-500",children:"Add more images"})]})]}):(0,b.jsxs)("button",{onClick:()=>aK.current?.click(),className:"w-full py-12 rounded-xl flex flex-col items-center justify-center gap-2 transition-all hover:scale-[1.01]",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:[(0,b.jsx)(o.Image,{className:"w-12 h-12 text-gray-400"}),(0,b.jsx)("span",{className:"text-gray-500",children:"Click to add images (max 10)"}),(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"Up to 10MB each"})]})]}),"VIDEO"===l&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("input",{ref:aL,type:"file",accept:"video/*",onChange:a=>{let b=a.target.files?.[0];if(b){if(b.size>524288e3)return void N("Video size must be under 500MB");$(b),aa(URL.createObjectURL(b))}},className:"hidden"}),_?(0,b.jsxs)("div",{className:"relative rounded-xl overflow-hidden",children:[(0,b.jsx)("video",{src:_,controls:!0,className:"w-full max-h-64 object-contain bg-black"}),(0,b.jsx)("button",{onClick:()=>{$(null),aa(null)},className:"absolute top-2 right-2 p-2 rounded-full bg-red-500 text-white",children:(0,b.jsx)(n.X,{className:"w-4 h-4"})})]}):(0,b.jsxs)("button",{onClick:()=>aL.current?.click(),className:"w-full py-12 rounded-xl flex flex-col items-center justify-center gap-2 transition-all hover:scale-[1.01]",style:{background:"#ecf0f3",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:[(0,b.jsx)(p.Video,{className:"w-12 h-12 text-gray-400"}),(0,b.jsx)("span",{className:"text-gray-500",children:"Click to add video"}),(0,b.jsx)("span",{className:"text-xs text-gray-400",children:"Up to 500MB"})]})]}),"LINK"===l&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("div",{className:"rounded-xl p-3",style:{background:"#ecf0f3",boxShadow:"inset 4px 4px 8px #d1d9e6, inset -4px -4px 8px #f9f9f9"},children:(0,b.jsx)("input",{type:"url",value:ab,onChange:a=>ac(a.target.value),placeholder:"https://example.com",className:"w-full bg-transparent outline-none text-gray-800 placeholder-gray-400"})}),ad&&(0,b.jsxs)("div",{className:"mt-4 rounded-xl overflow-hidden",style:{boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:[ad.image&&(0,b.jsx)("img",{src:ad.image,alt:"",className:"w-full h-40 object-cover"}),(0,b.jsxs)("div",{className:"p-3 bg-white/50",children:[(0,b.jsx)("p",{className:"font-semibold text-gray-800",children:ad.title}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:ad.description}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:ad.domain})]})]})]}),"POLL"===l&&(0,b.jsxs)("div",{className:"mt-4 space-y-3",children:[ah.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"flex-1 rounded-xl p-3",style:{background:"#ecf0f3",boxShadow:"inset 4px 4px 8px #d1d9e6, inset -4px -4px 8px #f9f9f9"},children:(0,b.jsx)("input",{type:"text",value:a,onChange:a=>{var b;let d;return b=a.target.value,void((d=[...ah])[c]=b,ai(d))},placeholder:`Option ${c+1}`,className:"w-full bg-transparent outline-none text-gray-800 placeholder-gray-400"})}),ah.length>2&&(0,b.jsx)("button",{onClick:()=>{ah.length>2&&ai(ah.filter((a,b)=>b!==c))},className:"p-2 rounded-full text-red-500 hover:bg-red-50 transition-colors",children:(0,b.jsx)(z.Trash2,{className:"w-4 h-4"})})]},c)),ah.length<6&&(0,b.jsxs)("button",{onClick:()=>{ah.length<6&&ai([...ah,""])},className:"flex items-center gap-2 text-blue-600 text-sm font-medium hover:text-blue-700 transition-colors",children:[(0,b.jsx)(i.Plus,{className:"w-4 h-4"}),"Add option"]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 pt-4 border-t",style:{borderColor:"#d1d9e6"},children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("label",{className:"text-sm text-gray-600",children:"Poll duration"}),(0,b.jsxs)("select",{value:aj,onChange:a=>ak(Number(a.target.value)),className:"w-full mt-1 p-2 rounded-lg bg-transparent text-gray-800 outline-none",style:{background:"#ecf0f3",boxShadow:"inset 2px 2px 4px #d1d9e6, inset -2px -2px 4px #f9f9f9"},children:[(0,b.jsx)("option",{value:1,children:"1 hour"}),(0,b.jsx)("option",{value:6,children:"6 hours"}),(0,b.jsx)("option",{value:12,children:"12 hours"}),(0,b.jsx)("option",{value:24,children:"1 day"}),(0,b.jsx)("option",{value:72,children:"3 days"}),(0,b.jsx)("option",{value:168,children:"1 week"})]})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:al,onChange:a=>am(a.target.checked),className:"w-4 h-4 rounded"}),(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Show results before voting"})]})]})]}),"ARTICLE"===l&&(0,b.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,b.jsx)("div",{className:"rounded-xl p-3",style:{background:"#ecf0f3",boxShadow:"inset 4px 4px 8px #d1d9e6, inset -4px -4px 8px #f9f9f9"},children:(0,b.jsx)("input",{type:"text",value:an,onChange:a=>ao(a.target.value),placeholder:"Article title",className:"w-full bg-transparent outline-none text-gray-800 placeholder-gray-400 text-lg font-semibold"})}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[at.map((a,c)=>(0,b.jsxs)("span",{className:"flex items-center gap-1 px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-700",children:[a,(0,b.jsx)("button",{onClick:()=>au(a=>a.filter((a,b)=>b!==c)),children:(0,b.jsx)(n.X,{className:"w-3 h-3"})})]},c)),at.length<5&&(0,b.jsx)("div",{className:"flex items-center gap-2",children:(0,b.jsx)("input",{type:"text",value:av,onChange:a=>aw(a.target.value),onKeyDown:a=>"Enter"===a.key&&(a.preventDefault(),void(av.trim()&&at.length<5&&(au([...at,av.trim()]),aw("")))),placeholder:"Add tag",className:"px-3 py-1 rounded-full text-sm bg-transparent outline-none text-gray-800 placeholder-gray-400",style:{boxShadow:"inset 2px 2px 4px #d1d9e6, inset -2px -2px 4px #f9f9f9"}})})]})]}),"CELEBRATION"===l&&(0,b.jsx)("div",{className:"mt-4 grid grid-cols-2 gap-3",children:X.map(({value:a,label:c,emoji:d})=>(0,b.jsxs)("button",{onClick:()=>ay(a),className:`p-4 rounded-xl text-left transition-all ${ax===a?"ring-2 ring-blue-500":""}`,style:{background:"#ecf0f3",boxShadow:ax===a?"inset 4px 4px 8px #d1d9e6, inset -4px -4px 8px #f9f9f9":"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:[(0,b.jsx)("span",{className:"text-2xl",children:d}),(0,b.jsx)("p",{className:"mt-2 text-sm font-medium text-gray-800",children:c})]},a))})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between p-5 border-t flex-shrink-0",style:{borderColor:"#d1d9e6"},children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("button",{onClick:()=>q("IMAGE"),className:"p-2.5 rounded-lg hover:bg-gray-100 transition-colors",title:"Add image",children:(0,b.jsx)(o.Image,{className:"w-6 h-6 text-green-600"})}),(0,b.jsx)("button",{onClick:()=>q("VIDEO"),className:"p-2.5 rounded-lg hover:bg-gray-100 transition-colors",title:"Add video",children:(0,b.jsx)(p.Video,{className:"w-6 h-6 text-purple-600"})}),(0,b.jsx)("button",{onClick:()=>q("POLL"),className:"p-2.5 rounded-lg hover:bg-gray-100 transition-colors",title:"Create poll",children:(0,b.jsx)(s.BarChart3,{className:"w-6 h-6 text-orange-600"})})]}),(0,b.jsx)("button",{onClick:aQ,disabled:K,className:"px-8 py-2.5 rounded-full font-semibold text-white transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed text-base",style:{background:"linear-gradient(145deg, #4B70E2, #3a5bc7)",boxShadow:"4px 4px 8px #d1d9e6, -4px -4px 8px #f9f9f9"},children:K?(0,b.jsx)(h.Loader2,{className:"w-5 h-5 animate-spin"}):"Post"})]})]})]}),null!==S&&(0,b.jsx)(T,{isOpen:null!==S,imageUrl:Q[S],onClose:()=>Y(null),onSave:a=>{if(null===S)return;let b=new File([a],O[S].name,{type:"image/jpeg"});P(a=>{let c=[...a];return c[S]=b,c});let c=URL.createObjectURL(a);R(a=>{let b=[...a];return b[S]=c,b}),Y(null)}})]}):null}a.i(30199);var Z=a.i(66779),$=a.i(43870),_=a.i(66194),aa=a.i(12469),ab=a.i(16106),ac=a.i(50429),ad=a.i(31067),ae=a.i(45222),af=a.i(50522),ag=a.i(38246),ah=a.i(24002);function ai(){let[a,c]=(0,d.useState)(null),[f,g]=(0,d.useState)(!1),[h,i]=(0,d.useState)(!0);if((0,d.useEffect)(()=>{(async()=>{try{let a=await (0,ah.getStreaks)();c(a)}catch(a){console.error("Failed to fetch streaks:",a)}finally{i(!1)}})()},[]),h||!a)return null;let j=Math.max(a.connectionStreak,a.loginStreak,a.postingStreak,a.messagingStreak),k=j>0,l=!!a.isAtRisk&&Object.values(a.isAtRisk).some(Boolean);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("button",{onClick:()=>g(!0),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${k?"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 hover:bg-orange-100 dark:hover:bg-orange-900/30":"bg-gray-100 dark:bg-neutral-800 text-gray-500 dark:text-neutral-400 hover:bg-gray-200 dark:hover:bg-neutral-700"}`,children:[(0,b.jsx)(ab.Flame,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:j}),l&&k&&(0,b.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500"})]}),(0,b.jsx)(e.AnimatePresence,{children:f&&(0,b.jsx)(m.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"fixed inset-0 bg-black/30 z-50 flex items-center justify-center p-4",onClick:()=>g(!1),children:(0,b.jsxs)(m.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.15},className:"bg-white dark:bg-neutral-900 rounded-xl w-full max-w-sm shadow-lg border border-gray-200 dark:border-neutral-800",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-100 dark:border-neutral-800",children:[(0,b.jsx)("h3",{className:"text-base font-semibold text-gray-900 dark:text-white",children:"Your Streaks"}),(0,b.jsx)("button",{onClick:()=>g(!1),className:"p-1 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded-lg transition-colors",children:(0,b.jsx)(n.X,{className:"w-4 h-4 text-gray-400"})})]}),(0,b.jsxs)("div",{className:"p-5 space-y-4",children:[[{label:"Networking",value:a.connectionStreak,longest:a.longestConnectionStreak,icon:ab.Flame,color:"text-orange-500",bg:"bg-orange-50 dark:bg-orange-900/20",riskKey:"connection"},{label:"Login",value:a.loginStreak,longest:a.longestLoginStreak,icon:ad.LogIn,color:"text-blue-500",bg:"bg-blue-50 dark:bg-blue-900/20",riskKey:"login"},{label:"Posting",value:a.postingStreak,longest:a.longestPostingStreak,icon:q.FileText,color:"text-green-500",bg:"bg-green-50 dark:bg-green-900/20",riskKey:"posting"},{label:"Messaging",value:a.messagingStreak,longest:a.longestMessagingStreak,icon:ae.MessageCircle,color:"text-purple-500",bg:"bg-purple-50 dark:bg-purple-900/20",riskKey:"messaging"}].map(c=>{let d=c.icon,e=a.isAtRisk?.[c.riskKey]??!1;return(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`w-9 h-9 rounded-lg ${c.bg} flex items-center justify-center flex-shrink-0`,children:(0,b.jsx)(d,{className:`w-4 h-4 ${c.color}`})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white leading-tight",children:[c.value," ",(0,b.jsxs)("span",{className:"text-xs font-normal text-gray-400 dark:text-neutral-500",children:["/ best ",c.longest]})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-neutral-400",children:c.label})]}),e&&(0,b.jsx)("span",{className:"px-1.5 py-0.5 bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 text-[10px] rounded font-medium",children:"At risk"})]},c.riskKey)}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 pt-2 border-t border-gray-100 dark:border-neutral-800",children:[(0,b.jsxs)("div",{className:"py-3 text-center",children:[(0,b.jsx)(u.Trophy,{className:"w-4 h-4 text-amber-500 mx-auto mb-1.5"}),(0,b.jsx)("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:a.overallBestStreak}),(0,b.jsx)("p",{className:"text-[11px] text-gray-400 dark:text-neutral-500 mt-0.5",children:"Best ever"})]}),(0,b.jsxs)("div",{className:"py-3 text-center",children:[(0,b.jsx)(ac.Target,{className:"w-4 h-4 text-blue-500 mx-auto mb-1.5"}),(0,b.jsxs)("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:[a.weeklyConnectionsMade,"/",a.weeklyConnectionsGoal]}),(0,b.jsx)("p",{className:"text-[11px] text-gray-400 dark:text-neutral-500 mt-0.5",children:"This week"})]})]}),(0,b.jsxs)(ag.default,{href:"/streaks",onClick:()=>g(!1),className:"flex items-center justify-center gap-1.5 w-full py-2.5 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/10 rounded-lg transition-colors",children:["View Full Dashboard",(0,b.jsx)(af.ChevronRight,{className:"w-3.5 h-3.5"})]})]})]})})})]})}function aj({location:a}){let[c,f]=(0,d.useState)(null),[g,h]=(0,d.useState)(0),i=(0,d.useCallback)(async()=>{try{let b=await (0,ah.getLiveActivity)(a);f(b)}catch(a){console.error("Failed to fetch live activity:",a)}},[a]);if((0,d.useEffect)(()=>{i();let a=setInterval(i,3e4);return()=>clearInterval(a)},[i]),(0,d.useEffect)(()=>{if(!c)return;let a=setInterval(()=>{h(a=>(a+1)%3)},5e3);return()=>clearInterval(a)},[c]),!c)return null;let j=[`${c.activeUsersNow??0} ${(c.activeUsersNow??0)===1?"person":"people"} networking${c.locationLabel?` ${c.locationLabel}`:""}`,`${c.connectionsToday??0} connections made today`,`${c.newUsersToday??0} new ${(c.newUsersToday??0)===1?"member":"members"} joined today`];return(0,b.jsxs)("div",{className:"flex items-center gap-2 px-1 py-1 overflow-hidden",children:[(0,b.jsxs)("span",{className:"relative flex h-1.5 w-1.5 flex-shrink-0",children:[(0,b.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-500 opacity-60"}),(0,b.jsx)("span",{className:"relative inline-flex rounded-full h-1.5 w-1.5 bg-green-500"})]}),(0,b.jsx)(e.AnimatePresence,{mode:"wait",children:(0,b.jsx)(m.motion.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},className:"text-xs text-gray-500 dark:text-neutral-400",children:j[g]},g)})]})}var ak=a.i(63588),al=a.i(16201);function am(){let[a,c]=(0,d.useState)(null),[f,g]=(0,d.useState)([]),[h,i]=(0,d.useState)(new Set),[j,k]=(0,d.useState)(!0);if((0,d.useEffect)(()=>{(async()=>{try{let[a,b]=await Promise.all([(0,ah.getWeeklyGoals)(),(0,ah.getNudges)()]);c(a),g(b)}catch(a){console.error("Failed to fetch progress:",a)}finally{k(!1)}})()},[]),j)return null;let l=f.filter(a=>!h.has(a.type));return(0,b.jsxs)("div",{className:"space-y-3",children:[a&&!a.isCompleted&&(0,b.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-neutral-800",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Weekly Goals"}),a.isCompleted&&(0,b.jsxs)("span",{className:"flex items-center gap-1 text-xs text-green-600 dark:text-green-400 font-medium",children:[(0,b.jsx)(al.CheckCircle,{className:"w-3.5 h-3.5"})," Completed"]})]}),(0,b.jsxs)("div",{className:"px-4 py-3 space-y-3",children:[(0,b.jsx)(an,{icon:(0,b.jsx)(w.Users,{className:"w-3.5 h-3.5 text-gray-400"}),label:"Connections",current:a.connectionsMade,target:a.connectionsTarget,progress:a.connectionsProgress}),(0,b.jsx)(an,{icon:(0,b.jsx)(q.FileText,{className:"w-3.5 h-3.5 text-gray-400"}),label:"Posts",current:a.postsMade,target:a.postsTarget,progress:a.postsProgress}),(0,b.jsx)(an,{icon:(0,b.jsx)(ak.MessageSquare,{className:"w-3.5 h-3.5 text-gray-400"}),label:"Messages",current:a.messagesSent,target:a.messagesTarget,progress:a.messagesProgress})]})]}),(0,b.jsx)(e.AnimatePresence,{children:l.map(a=>(0,b.jsxs)(m.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.15},className:"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 p-3",children:[(0,b.jsxs)("div",{className:"flex items-start gap-2.5",children:[(0,b.jsx)("span",{className:"text-base mt-0.5",children:a.icon}),(0,b.jsx)("p",{className:"flex-1 text-sm text-gray-600 dark:text-neutral-300 leading-relaxed",children:a.message}),(0,b.jsx)("button",{onClick:()=>{var b;return b=a.type,void i(a=>new Set([...a,b]))},className:"p-0.5 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded transition-colors flex-shrink-0",children:(0,b.jsx)(n.X,{className:"w-3.5 h-3.5 text-gray-300 dark:text-neutral-500"})})]}),a.target>0&&a.progress>=0&&(0,b.jsx)("div",{className:"mt-2 ml-7",children:(0,b.jsx)("div",{className:"w-full bg-gray-100 dark:bg-neutral-800 rounded-full h-1",children:(0,b.jsx)(m.motion.div,{className:"bg-blue-500 h-1 rounded-full",initial:{width:0},animate:{width:`${Math.min(a.progress/a.target*100,100)}%`},transition:{duration:.8,delay:.2}})})})]},a.type))})]})}function an({icon:a,label:c,current:d,target:e,progress:f}){return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1.5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[a,(0,b.jsx)("span",{className:"text-xs text-gray-500 dark:text-neutral-400",children:c})]}),(0,b.jsxs)("span",{className:"text-xs font-medium text-gray-700 dark:text-neutral-300 tabular-nums",children:[d,"/",e]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-100 dark:bg-neutral-800 rounded-full h-1.5",children:(0,b.jsx)(m.motion.div,{className:"bg-blue-500 h-1.5 rounded-full",initial:{width:0},animate:{width:`${Math.min(f,100)}%`},transition:{duration:.8,delay:.1}})})]})}a.i(26301);var ao=a.i(41710);let ap=(0,L.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function aq(){let[a,c]=(0,d.useState)(null),[e,f]=(0,d.useState)(!0);if((0,d.useEffect)(()=>{(async()=>{try{let a=await (0,ah.getConnectionLimit)();c(a)}catch(a){console.error("Failed to fetch connection limit:",a)}finally{f(!1)}})()},[]),e||!a||a.remaining>5)return null;let g=0===a.remaining,h=new Date(a.resetsAt),i=new Date,j=Math.max(1,Math.ceil((h.getTime()-i.getTime())/36e5));return(0,b.jsxs)(m.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"flex items-center gap-2.5 px-4 py-2.5 bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800",children:[(0,b.jsx)(ap,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),(0,b.jsx)("p",{className:"flex-1 text-xs text-gray-600 dark:text-neutral-400",children:g?"Daily connection limit reached":`${a.remaining} connection request${1!==a.remaining?"s":""} remaining today`}),g&&(0,b.jsxs)("span",{className:"flex items-center gap-1 text-xs text-gray-400 dark:text-neutral-500 flex-shrink-0",children:[(0,b.jsx)(ao.Clock,{className:"w-3 h-3"}),"Resets in ",j,"h"]})]})}function ar(){let[a,c]=(0,d.useState)([]),[e,f]=(0,d.useState)("weekly"),[g,h]=(0,d.useState)(!0);return(0,d.useEffect)(()=>{(async()=>{h(!0);try{let a=await (0,ah.getLeaderboard)(e,10);c(a?.leaderboard??[])}catch(a){console.error("Failed to fetch leaderboard:",a)}finally{h(!1)}})()},[e]),(0,b.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-neutral-800",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Top Networkers"}),(0,b.jsxs)("div",{className:"flex bg-gray-100 dark:bg-neutral-800 rounded-lg p-0.5",children:[(0,b.jsx)("button",{onClick:()=>f("weekly"),className:`px-2.5 py-1 text-xs rounded-md transition-colors ${"weekly"===e?"bg-white dark:bg-neutral-700 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-neutral-400 hover:text-gray-700 dark:hover:text-neutral-300"}`,children:"Week"}),(0,b.jsx)("button",{onClick:()=>f("monthly"),className:`px-2.5 py-1 text-xs rounded-md transition-colors ${"monthly"===e?"bg-white dark:bg-neutral-700 text-gray-900 dark:text-white shadow-sm":"text-gray-500 dark:text-neutral-400 hover:text-gray-700 dark:hover:text-neutral-300"}`,children:"Month"})]})]}),g?(0,b.jsx)("div",{className:"flex items-center justify-center py-10",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-gray-300 border-t-gray-600 dark:border-neutral-600 dark:border-t-neutral-300"})}):0===a.length?(0,b.jsx)("div",{className:"text-center py-10 text-sm text-gray-400 dark:text-neutral-500",children:"No data yet"}):(0,b.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-neutral-800",children:a.map((a,c)=>(0,b.jsxs)(ag.default,{href:`/profile/${a.username}`,className:"flex items-center gap-3 px-4 py-2.5 hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors",children:[(0,b.jsx)("span",{className:`w-5 text-xs font-semibold text-center tabular-nums ${0===c?"text-amber-500":1===c?"text-gray-400":2===c?"text-amber-600":"text-gray-400 dark:text-neutral-500"}`,children:c+1}),a.profileImage?(0,b.jsx)("img",{src:a.profileImage,alt:a.name,className:"w-8 h-8 rounded-full object-cover flex-shrink-0"}):(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-neutral-700 flex items-center justify-center text-gray-500 dark:text-neutral-400 text-xs font-semibold flex-shrink-0",children:a.name.charAt(0)}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:a.name}),a.college&&(0,b.jsx)("p",{className:"text-xs text-gray-400 dark:text-neutral-500 truncate",children:a.college})]}),(0,b.jsx)("span",{className:"text-xs font-medium text-gray-500 dark:text-neutral-400 tabular-nums flex-shrink-0",children:a.connectionCount})]},a.id))})]})}var as=a.i(17371),at=a.i(70580);function au(){return(0,b.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden animate-pulse",children:[(0,b.jsx)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-neutral-800",children:(0,b.jsx)("div",{className:"h-4 w-36 bg-gray-200 dark:bg-neutral-700 rounded"})}),(0,b.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-neutral-800",children:[1,2,3,4].map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-neutral-700 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,b.jsx)("div",{className:"h-4 w-24 bg-gray-200 dark:bg-neutral-700 rounded"}),(0,b.jsx)("div",{className:"h-3 w-32 bg-gray-200 dark:bg-neutral-700 rounded"})]}),(0,b.jsx)("div",{className:"h-8 w-20 bg-gray-200 dark:bg-neutral-700 rounded-full flex-shrink-0"})]},a))}),(0,b.jsx)("div",{className:"h-10 bg-gray-100 dark:bg-neutral-800/50"})]})}function av(){let[a,c]=(0,d.useState)(null),[f,g]=(0,d.useState)(null),[i,j]=(0,d.useState)(!1),[k,l]=(0,d.useState)(!0),[o,p]=(0,d.useState)(new Set),[q,r]=(0,d.useState)(new Set);(0,d.useEffect)(()=>{(async()=>{try{let[a,b]=await Promise.all([(0,ah.getDailyMatches)(),(0,ah.getHiddenGem)()]);c(a),b&&g(b)}catch(a){console.error("Failed to fetch daily matches:",a)}finally{l(!1)}})()},[]);let s=async(a,b)=>{if(a.preventDefault(),a.stopPropagation(),!(o.has(b)||q.has(b))){p(a=>new Set([...a,b]));try{await (0,at.sendConnectionRequest)(b),r(a=>new Set([...a,b]))}catch(a){console.error("Failed to send connection request:",a)}finally{p(a=>{let c=new Set(a);return c.delete(b),c})}}};if(k)return(0,b.jsx)(au,{});if(i||!a||0===a.matches.length)return null;let t=({userId:a})=>{let c=o.has(a);return q.has(a)?(0,b.jsxs)("span",{className:"flex items-center gap-1 px-3 py-1.5 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 text-xs font-medium rounded-full flex-shrink-0",children:[(0,b.jsx)(R.Check,{className:"w-3 h-3"}),"Sent"]}):(0,b.jsxs)("button",{onClick:b=>s(b,a),disabled:c,className:"flex items-center gap-1 px-3 py-1.5 border border-blue-500 text-blue-600 dark:text-blue-400 text-xs font-medium rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors flex-shrink-0 disabled:opacity-50",children:[c?(0,b.jsx)(h.Loader2,{className:"w-3 h-3 animate-spin"}):(0,b.jsx)(as.UserPlus,{className:"w-3 h-3"}),"Connect"]})};return(0,b.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-neutral-800",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"People you may know"}),(0,b.jsx)("button",{onClick:()=>j(!0),className:"p-0.5 hover:bg-gray-100 dark:hover:bg-neutral-800 rounded transition-colors",children:(0,b.jsx)(n.X,{className:"w-4 h-4 text-gray-300 dark:text-neutral-500"})})]}),(0,b.jsx)(e.AnimatePresence,{children:a.surpriseMessage&&(0,b.jsx)(m.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"px-4 py-2 bg-blue-50 dark:bg-blue-900/10 border-b border-blue-100 dark:border-blue-900/20",children:(0,b.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:a.surpriseMessage})})}),(0,b.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-neutral-800",children:a.matches.map(a=>(0,b.jsxs)(ag.default,{href:`/profile/${a.username}`,className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors",children:[a.profileImage?(0,b.jsx)("img",{src:a.profileImage,alt:a.name,className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-neutral-700 flex items-center justify-center text-gray-500 dark:text-neutral-400 text-sm font-semibold flex-shrink-0",children:a.name.charAt(0)}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:a.name}),a.isOnline&&(0,b.jsx)("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full flex-shrink-0"})]}),a.headline&&(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-neutral-400 truncate mt-0.5",children:a.headline}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[a.college&&(0,b.jsx)("p",{className:"text-xs text-gray-400 dark:text-neutral-500 truncate",children:a.college}),void 0!==a.replyRate&&(0,b.jsxs)("span",{className:`inline-flex items-center gap-0.5 text-[10px] font-medium px-1.5 py-0.5 rounded-full ${a.replyRate>=80?"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400":a.replyRate>=50?"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400":"bg-gray-100 dark:bg-neutral-800 text-gray-500 dark:text-neutral-400"}`,children:[(0,b.jsx)(ae.MessageCircle,{className:"w-2.5 h-2.5"}),a.replyRate,"%"]})]})]}),(0,b.jsx)(t,{userId:a.id})]},a.id))}),f&&(0,b.jsxs)(ag.default,{href:`/profile/${f.match.username}`,className:"flex items-center gap-3 px-4 py-3 bg-gray-50 dark:bg-neutral-800/30 border-t border-gray-100 dark:border-neutral-800 hover:bg-gray-100 dark:hover:bg-neutral-800/60 transition-colors",children:[f.match.profileImage?(0,b.jsx)("img",{src:f.match.profileImage,alt:f.match.name,className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-neutral-700 flex items-center justify-center text-gray-500 dark:text-neutral-400 text-sm font-semibold flex-shrink-0",children:f.match.name.charAt(0)}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium mb-0.5",children:f.message}),(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:f.match.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-neutral-400 truncate",children:f.match.headline||f.match.college})]}),(0,b.jsx)(t,{userId:f.match.id})]}),(0,b.jsxs)(ag.default,{href:"/find-people",className:"flex items-center justify-center gap-1 px-4 py-2.5 text-xs text-blue-600 dark:text-blue-400 font-medium hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors border-t border-gray-100 dark:border-neutral-800",children:["Show more ",(0,b.jsx)(af.ChevronRight,{className:"w-3 h-3"})]})]})}a.i(53689);var aw=a.i(13749);function ax(){return(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsx)("div",{className:"flex items-center justify-between px-4 lg:px-0 mb-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-4 h-4 rounded bg-gray-200 dark:bg-neutral-700 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 w-28 bg-gray-200 dark:bg-neutral-700 rounded animate-pulse"})]})}),(0,b.jsx)("div",{className:"flex gap-3 overflow-hidden px-4 lg:px-0",children:[1,2,3,4].map(a=>(0,b.jsxs)("div",{className:"flex-shrink-0 w-[200px] bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden animate-pulse",children:[(0,b.jsx)("div",{className:"flex justify-center pt-4 pb-2",children:(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-200 dark:bg-neutral-700"})}),(0,b.jsxs)("div",{className:"px-3 pb-3 space-y-2",children:[(0,b.jsx)("div",{className:"h-4 w-24 mx-auto bg-gray-200 dark:bg-neutral-700 rounded"}),(0,b.jsx)("div",{className:"h-3 w-16 mx-auto bg-gray-200 dark:bg-neutral-700 rounded"}),(0,b.jsx)("div",{className:"h-8 w-full bg-gray-200 dark:bg-neutral-700 rounded-full mt-2"})]})]},a))})]})}function ay(){let[a,c]=(0,d.useState)(null),[f,g]=(0,d.useState)(!0),[h,i]=(0,d.useState)(new Set),[j,k]=(0,d.useState)(new Set),l=(0,d.useRef)(null),[n,o]=(0,d.useState)(!1),[p,q]=(0,d.useState)(!1);(0,d.useEffect)(()=>{(async()=>{try{let a=await (0,ah.getDailyMatches)();c(a)}catch(a){console.error("Failed to fetch daily matches:",a)}finally{g(!1)}})()},[]),(0,d.useEffect)(()=>{let a=l.current;if(!a)return;let b=()=>{o(a.scrollLeft>8),q(a.scrollLeft<a.scrollWidth-a.clientWidth-8)};return b(),a.addEventListener("scroll",b,{passive:!0}),()=>a.removeEventListener("scroll",b)},[a]);let r=a=>{l.current?.scrollBy({left:"left"===a?-260:260,behavior:"smooth"})},s=async(a,b)=>{if(a.preventDefault(),a.stopPropagation(),!(h.has(b)||j.has(b))){i(a=>new Set([...a,b]));try{await (0,at.sendConnectionRequest)(b),k(a=>new Set([...a,b]))}catch(a){console.error("Failed to send connection request:",a)}finally{i(a=>{let c=new Set(a);return c.delete(b),c})}}};return f?(0,b.jsx)(ax,{}):a&&0!==a.matches.length?(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 lg:px-0 mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.Sparkles,{className:"w-4 h-4 text-amber-500"}),(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Today's Matches"}),(0,b.jsxs)("span",{className:"text-xs text-gray-400 dark:text-neutral-500",children:[a.matches.length," people"]})]}),(0,b.jsxs)(ag.default,{href:"/find-people",className:"flex items-center gap-0.5 text-xs text-blue-600 dark:text-blue-400 font-medium hover:underline",children:["See all ",(0,b.jsx)(af.ChevronRight,{className:"w-3 h-3"})]})]}),(0,b.jsxs)(e.AnimatePresence,{children:[n&&(0,b.jsx)(m.motion.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r("left"),className:"hidden lg:flex absolute left-0 top-1/2 mt-3 z-10 w-8 h-8 items-center justify-center rounded-full bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 shadow-md hover:bg-gray-50 dark:hover:bg-neutral-700 transition-colors",children:(0,b.jsx)(aw.ChevronLeft,{className:"w-4 h-4 text-gray-600 dark:text-neutral-300"})}),p&&(0,b.jsx)(m.motion.button,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r("right"),className:"hidden lg:flex absolute right-0 top-1/2 mt-3 z-10 w-8 h-8 items-center justify-center rounded-full bg-white dark:bg-neutral-800 border border-gray-200 dark:border-neutral-700 shadow-md hover:bg-gray-50 dark:hover:bg-neutral-700 transition-colors",children:(0,b.jsx)(af.ChevronRight,{className:"w-4 h-4 text-gray-600 dark:text-neutral-300"})})]}),(0,b.jsx)("div",{ref:l,className:"flex gap-3 overflow-x-auto scrollbar-hide px-4 lg:px-0 pb-1",style:{scrollSnapType:"x mandatory"},children:a.matches.map((a,c)=>(0,b.jsx)(az,{match:a,index:c,isConnecting:h.has(a.id),isConnected:j.has(a.id),onConnect:s},a.id))})]}):null}function az({match:a,index:c,isConnecting:d,isConnected:e,onConnect:f}){return(0,b.jsxs)(m.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*c},className:"flex-shrink-0 w-[200px] bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden hover:shadow-md transition-shadow",style:{scrollSnapAlign:"start"},children:[(0,b.jsxs)(ag.default,{href:`/profile/${a.username}`,className:"block",children:[(0,b.jsx)("div",{className:"relative flex justify-center pt-4 pb-2",children:(0,b.jsxs)("div",{className:"relative",children:[a.profileImage?(0,b.jsx)("img",{src:a.profileImage,alt:a.name,className:"w-16 h-16 rounded-full object-cover border-2 border-white dark:border-neutral-800 shadow-sm"}):(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/30 dark:to-purple-900/30 flex items-center justify-center text-xl font-bold text-blue-600 dark:text-blue-400 border-2 border-white dark:border-neutral-800 shadow-sm",children:a.name.charAt(0)}),a.isOnline&&(0,b.jsx)("span",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 border-2 border-white dark:border-neutral-900 rounded-full"})]})}),(0,b.jsxs)("div",{className:"px-3 pb-2 text-center",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:a.name}),a.college&&(0,b.jsx)("p",{className:"text-[11px] text-gray-400 dark:text-neutral-500 truncate mt-0.5",children:a.college}),a.headline&&(0,b.jsx)("p",{className:"text-[11px] text-gray-500 dark:text-neutral-400 truncate mt-0.5",children:a.headline})]}),a.interests&&a.interests.length>0&&(0,b.jsxs)("div",{className:"px-3 pb-2 flex flex-wrap justify-center gap-1",children:[a.interests.slice(0,2).map(a=>(0,b.jsx)("span",{className:"text-[10px] px-2 py-0.5 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 font-medium",children:a},a)),a.interests.length>2&&(0,b.jsxs)("span",{className:"text-[10px] px-1.5 py-0.5 text-gray-400 dark:text-neutral-500",children:["+",a.interests.length-2]})]}),void 0!==a.replyRate&&a.replyRate>=50&&(0,b.jsx)("div",{className:"flex justify-center pb-2",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-0.5 text-[10px] font-medium px-2 py-0.5 rounded-full ${a.replyRate>=80?"bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400":"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-600 dark:text-yellow-400"}`,children:[(0,b.jsx)(ae.MessageCircle,{className:"w-2.5 h-2.5"}),a.replyRate,"% reply rate"]})})]}),(0,b.jsx)("div",{className:"px-3 pb-3",children:e?(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1.5 w-full py-2 bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 text-xs font-medium rounded-lg",children:[(0,b.jsx)(R.Check,{className:"w-3 h-3"}),"Request Sent"]}):(0,b.jsxs)("button",{onClick:b=>f(b,a.id),disabled:d,className:"flex items-center justify-center gap-1.5 w-full py-2 border border-blue-500 text-blue-600 dark:text-blue-400 text-xs font-medium rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors disabled:opacity-50",children:[d?(0,b.jsx)(h.Loader2,{className:"w-3 h-3 animate-spin"}):(0,b.jsx)(as.UserPlus,{className:"w-3 h-3"}),"Connect"]})})]})}var aA=a.i(1027),aB=a.i(21374),aC=a.i(93518),aD=a.i(24669),aE=a.i(86520);let aF={streak_milestone:{icon:ab.Flame,gradient:"from-orange-500 to-red-500",iconColor:"text-orange-500",badgeBg:"bg-orange-50 dark:bg-orange-900/20",confettiColors:["#f97316","#ef4444","#eab308"]},weekly_goal_complete:{icon:ac.Target,gradient:"from-green-500 to-emerald-500",iconColor:"text-green-500",badgeBg:"bg-green-50 dark:bg-green-900/20",confettiColors:["#22c55e","#10b981","#34d399"]},first_post:{icon:aB.Star,gradient:"from-blue-500 to-indigo-500",iconColor:"text-blue-500",badgeBg:"bg-blue-50 dark:bg-blue-900/20",confettiColors:["#3b82f6","#6366f1","#818cf8"]},first_connection:{icon:w.Users,gradient:"from-purple-500 to-pink-500",iconColor:"text-purple-500",badgeBg:"bg-purple-50 dark:bg-purple-900/20",confettiColors:["#a855f7","#ec4899","#d946ef"]},connection_milestone:{icon:w.Users,gradient:"from-indigo-500 to-purple-500",iconColor:"text-indigo-500",badgeBg:"bg-indigo-50 dark:bg-indigo-900/20",confettiColors:["#6366f1","#a855f7","#818cf8"]},leaderboard_rank:{icon:aE.Crown,gradient:"from-amber-500 to-yellow-500",iconColor:"text-amber-500",badgeBg:"bg-amber-50 dark:bg-amber-900/20",confettiColors:["#f59e0b","#eab308","#fbbf24"]},xp_gain:{icon:aA.Zap,gradient:"from-cyan-500 to-blue-500",iconColor:"text-cyan-500",badgeBg:"bg-cyan-50 dark:bg-cyan-900/20",confettiColors:["#06b6d4","#3b82f6","#0891b2"]},level_up:{icon:aD.TrendingUp,gradient:"from-emerald-500 to-teal-500",iconColor:"text-emerald-500",badgeBg:"bg-emerald-50 dark:bg-emerald-900/20",confettiColors:["#10b981","#14b8a6","#34d399"]},badge_earned:{icon:aC.Award,gradient:"from-pink-500 to-rose-500",iconColor:"text-pink-500",badgeBg:"bg-pink-50 dark:bg-pink-900/20",confettiColors:["#ec4899","#f43f5e","#fb7185"]}};function aG({rewards:c,onDismiss:f}){let[g,h]=(0,d.useState)(null);(0,d.useEffect)(()=>{c.length>0&&!g&&h(c[0])},[c,g]);let i=(0,d.useCallback)(async b=>{try{let c=(await a.A(48743)).default;c({particleCount:60,spread:55,origin:{x:.3,y:.6},colors:b}),setTimeout(()=>{c({particleCount:60,spread:55,origin:{x:.7,y:.6},colors:b})},150)}catch{}},[]);(0,d.useEffect)(()=>{if(g?.showConfetti){let a=aF[g.type];setTimeout(()=>i(a.confettiColors),300)}},[g,i]),(0,d.useEffect)(()=>{if(!g)return;let a=setTimeout(()=>j(),5e3);return()=>clearTimeout(a)},[g]);let j=()=>{if(!g)return;let a=g.id;h(null),f(a),setTimeout(()=>{let b=c.filter(b=>b.id!==a);b.length>0&&h(b[0])},300)};if(!g)return null;let k=aF[g.type],l=k.icon;return(0,b.jsx)(e.AnimatePresence,{children:(0,b.jsx)(m.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/30",onClick:j,children:(0,b.jsxs)(m.motion.div,{initial:{opacity:0,y:60,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:60,scale:.95},transition:{type:"spring",stiffness:400,damping:30},className:"bg-white dark:bg-neutral-900 rounded-t-2xl sm:rounded-2xl w-full max-w-sm shadow-xl border border-gray-200 dark:border-neutral-800 overflow-hidden",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("div",{className:`h-1.5 bg-gradient-to-r ${k.gradient}`}),(0,b.jsxs)("div",{className:"p-6 text-center",children:[(0,b.jsx)(m.motion.div,{initial:{scale:0,rotate:-15},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:500,damping:20,delay:.1},className:`w-16 h-16 mx-auto mb-4 rounded-2xl ${k.badgeBg} flex items-center justify-center`,children:(0,b.jsx)(l,{className:`w-8 h-8 ${k.iconColor}`})}),g.value&&(0,b.jsx)(m.motion.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{delay:.2},className:`inline-flex items-center gap-1 px-3 py-1 rounded-full ${k.badgeBg} mb-3`,children:(0,b.jsx)("span",{className:`text-lg font-bold ${k.iconColor}`,children:g.value})}),(0,b.jsx)(m.motion.h2,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-lg font-bold text-gray-900 dark:text-white mb-1",children:g.title}),(0,b.jsx)(m.motion.p,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-sm text-gray-500 dark:text-neutral-400 mb-1",children:g.message}),g.subtext&&(0,b.jsx)(m.motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-xs text-gray-400 dark:text-neutral-500",children:g.subtext}),c.length>1&&(0,b.jsx)("div",{className:"flex items-center justify-center gap-1 mt-4",children:c.slice(0,Math.min(c.length,5)).map((a,c)=>(0,b.jsx)("div",{className:`w-1.5 h-1.5 rounded-full transition-colors ${a.id===g.id?"bg-blue-500":"bg-gray-200 dark:bg-neutral-700"}`},a.id))})]}),(0,b.jsx)("button",{onClick:j,className:"w-full py-3 border-t border-gray-100 dark:border-neutral-800 text-sm font-medium text-gray-500 dark:text-neutral-400 hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors",children:"Continue"})]})},g.id)})}var aH=a.i(73570);function aI(){return(0,b.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden animate-pulse",children:[(0,b.jsx)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-neutral-800",children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gray-200 dark:bg-neutral-700"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"h-4 w-24 bg-gray-200 dark:bg-neutral-700 rounded"}),(0,b.jsx)("div",{className:"h-3 w-16 bg-gray-200 dark:bg-neutral-700 rounded"})]})]})}),(0,b.jsx)("div",{className:"px-4 py-3 space-y-3",children:[1,2,3].map(a=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,b.jsx)("div",{className:"h-3 w-20 bg-gray-200 dark:bg-neutral-700 rounded"}),(0,b.jsx)("div",{className:"h-3 w-12 bg-gray-200 dark:bg-neutral-700 rounded"})]}),(0,b.jsx)("div",{className:"h-1.5 w-full bg-gray-200 dark:bg-neutral-700 rounded-full"})]},a))})]})}function aJ(){let[a,c]=(0,d.useState)(null);if((0,d.useEffect)(()=>{(0,ah.getStreaks)().then(c).catch(()=>{})},[]),!a)return null;let e=Math.max(a.connectionStreak,a.loginStreak,a.postingStreak,a.messagingStreak);if(0===e)return null;let f=!!a.isAtRisk&&Object.values(a.isAtRisk).some(Boolean),g=[{label:"Networking",value:a.connectionStreak,longest:a.longestConnectionStreak,color:"bg-orange-500",riskKey:"connection"},{label:"Login",value:a.loginStreak,longest:a.longestLoginStreak,color:"bg-blue-500",riskKey:"login"},{label:"Posting",value:a.postingStreak,longest:a.longestPostingStreak,color:"bg-green-500",riskKey:"posting"},{label:"Messaging",value:a.messagingStreak,longest:a.longestMessagingStreak,color:"bg-purple-500",riskKey:"messaging"}].filter(a=>a.value>0);return(0,b.jsxs)(m.motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-neutral-800",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-orange-50 dark:bg-orange-900/20 flex items-center justify-center",children:(0,b.jsx)(ab.Flame,{className:"w-4 h-4 text-orange-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[e,"-day streak! ",(0,b.jsx)("span",{className:"text-orange-500",children:"ðŸ”¥"})]}),f&&(0,b.jsxs)("p",{className:"text-[11px] text-amber-600 dark:text-amber-400 flex items-center gap-0.5",children:[(0,b.jsx)(aH.AlertTriangle,{className:"w-3 h-3"})," Some streaks at risk"]})]})]}),(0,b.jsxs)(ag.default,{href:"/streaks",className:"text-xs text-blue-600 dark:text-blue-400 font-medium flex items-center gap-0.5 hover:underline",children:["Details ",(0,b.jsx)(af.ChevronRight,{className:"w-3 h-3"})]})]}),(0,b.jsx)("div",{className:"px-4 py-3 space-y-2.5",children:g.map(c=>{let d=c.longest>0?Math.min(c.value/c.longest*100,100):100,e=a.isAtRisk?.[c.riskKey]??!1;return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("span",{className:"text-xs text-gray-500 dark:text-neutral-400",children:c.label}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[e&&(0,b.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 rounded bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 font-medium",children:"At risk"}),(0,b.jsxs)("span",{className:"text-xs font-semibold text-gray-700 dark:text-neutral-300 tabular-nums",children:[c.value,"d"]})]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-100 dark:bg-neutral-800 rounded-full h-1.5",children:(0,b.jsx)(m.motion.div,{className:`h-1.5 rounded-full ${c.color}`,initial:{width:0},animate:{width:`${d}%`},transition:{duration:.8,delay:.2}})})]},c.riskKey)})})]})}function aK(){let[a,c]=(0,d.useState)(null),[e,f]=(0,d.useState)(!0);if((0,d.useEffect)(()=>{(0,ah.getWeeklyGoals)().then(c).catch(()=>{}).finally(()=>f(!1))},[]),e)return(0,b.jsx)(aI,{});if(!a||a.isCompleted)return null;let g=[{label:"Connections",current:a.connectionsMade,target:a.connectionsTarget,progress:a.connectionsProgress,icon:w.Users,color:"bg-blue-500"},{label:"Posts",current:a.postsMade,target:a.postsTarget,progress:a.postsProgress,icon:q.FileText,color:"bg-green-500"},{label:"Messages",current:a.messagesSent,target:a.messagesTarget,progress:a.messagesProgress,icon:ak.MessageSquare,color:"bg-purple-500"}],h=Math.round(g.reduce((a,b)=>a+b.progress,0)/g.length);return(0,b.jsxs)(m.motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden",children:[(0,b.jsx)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-100 dark:border-neutral-800",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-50 dark:bg-blue-900/20 flex items-center justify-center",children:(0,b.jsx)(ac.Target,{className:"w-4 h-4 text-blue-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Weekly Goals"}),(0,b.jsxs)("p",{className:"text-[11px] text-gray-400 dark:text-neutral-500",children:[h,"% complete"]})]})]})}),(0,b.jsx)("div",{className:"px-4 py-3 space-y-3",children:g.map(a=>{let c=a.icon;return(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(c,{className:"w-3.5 h-3.5 text-gray-400"}),(0,b.jsx)("span",{className:"text-xs text-gray-500 dark:text-neutral-400",children:a.label})]}),(0,b.jsxs)("span",{className:"text-xs font-semibold text-gray-700 dark:text-neutral-300 tabular-nums",children:[a.current,"/",a.target]})]}),(0,b.jsx)("div",{className:"w-full bg-gray-100 dark:bg-neutral-800 rounded-full h-1.5",children:(0,b.jsx)(m.motion.div,{className:`h-1.5 rounded-full ${a.color}`,initial:{width:0},animate:{width:`${Math.min(a.progress,100)}%`},transition:{duration:.8,delay:.2}})})]},a.label)})})]})}function aL(){let[a,c]=(0,d.useState)([]),[e,f]=(0,d.useState)(!1);if((0,d.useEffect)(()=>{(0,ah.getNudges)().then(c).catch(()=>{})},[]),e||0===a.length)return null;let g=a[0],h=g.target>0?Math.round(g.progress/g.target*100):0;return(0,b.jsx)(m.motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/10 dark:to-indigo-900/10 rounded-xl border border-blue-100 dark:border-blue-900/30 p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-white dark:bg-neutral-800 flex items-center justify-center shadow-sm flex-shrink-0",children:(0,b.jsx)("span",{className:"text-lg",children:g.icon||"ðŸ’¡"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white leading-snug",children:g.message}),g.target>0&&(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsxs)("span",{className:"text-[11px] text-gray-500 dark:text-neutral-400",children:[g.progress,"/",g.target]}),(0,b.jsxs)("span",{className:"text-[11px] font-semibold text-blue-600 dark:text-blue-400",children:[h,"%"]})]}),(0,b.jsx)("div",{className:"w-full bg-white/60 dark:bg-neutral-800 rounded-full h-1.5",children:(0,b.jsx)(m.motion.div,{className:"h-1.5 rounded-full bg-blue-500",initial:{width:0},animate:{width:`${Math.min(h,100)}%`},transition:{duration:.8,delay:.3}})})]})]}),(0,b.jsx)("button",{onClick:()=>f(!0),className:"text-xs text-gray-400 hover:text-gray-600 dark:text-neutral-500 dark:hover:text-neutral-300 flex-shrink-0",children:"âœ•"})]})})}let aM="vormex_rewards_shown";function aN(){try{let a=localStorage.getItem(aM);return a?new Set(JSON.parse(a)):new Set}catch{return new Set}}var aO=a.i(92415);async function aP(){return(await aO.default.get("/feed/reward-data")).data.data}async function aQ(a,b){await aO.default.post("/feed/mark-shown",{cardType:a,itemIds:b})}function aR({matches:a,onDismiss:c}){return a.length?(0,b.jsxs)(m.motion.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-xl border border-indigo-200 dark:border-indigo-800/50 bg-gradient-to-br from-indigo-50 to-purple-50 dark:from-indigo-950/40 dark:to-purple-950/40",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 pt-4 pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-indigo-100 dark:bg-indigo-900/40 flex items-center justify-center",children:(0,b.jsx)(t.Sparkles,{className:"w-4 h-4 text-indigo-600 dark:text-indigo-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm font-semibold text-indigo-900 dark:text-indigo-100",children:[a.length," New Match",a.length>1?"es":"","! âœ¨"]}),(0,b.jsx)("p",{className:"text-[11px] text-indigo-600/70 dark:text-indigo-400/70",children:"People who share your interests"})]})]}),(0,b.jsx)("button",{onClick:c,className:"p-1 rounded-full hover:bg-indigo-100 dark:hover:bg-indigo-900/40 transition-colors",children:(0,b.jsx)(n.X,{className:"w-4 h-4 text-indigo-400"})})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 overflow-x-auto scrollbar-hide",children:[a.slice(0,5).map((a,c)=>(0,b.jsx)(m.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1*c},children:(0,b.jsxs)(ag.default,{href:`/profile/${a.username}`,className:"flex flex-col items-center gap-1.5 min-w-[64px]",children:[(0,b.jsx)("div",{className:"relative",children:a.profileImage?(0,b.jsx)("img",{src:a.profileImage,alt:a.name,className:"w-12 h-12 rounded-full object-cover ring-2 ring-indigo-400 ring-offset-2 ring-offset-indigo-50 dark:ring-offset-indigo-950"}):(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-indigo-200 dark:bg-indigo-800 flex items-center justify-center text-indigo-700 dark:text-indigo-300 font-semibold ring-2 ring-indigo-400 ring-offset-2",children:a.name.charAt(0)})}),(0,b.jsx)("p",{className:"text-[11px] font-medium text-indigo-800 dark:text-indigo-200 truncate max-w-[64px]",children:a.name.split(" ")[0]})]})},a.id)),a.length>5&&(0,b.jsxs)("div",{className:"flex flex-col items-center gap-1.5 min-w-[64px]",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-indigo-200/60 dark:bg-indigo-800/40 flex items-center justify-center",children:(0,b.jsxs)("span",{className:"text-sm font-semibold text-indigo-600 dark:text-indigo-300",children:["+",a.length-5]})}),(0,b.jsx)("p",{className:"text-[11px] text-indigo-500",children:"more"})]})]}),(0,b.jsx)("div",{className:"px-4 pb-4",children:(0,b.jsxs)(ag.default,{href:"/connections",className:"flex items-center justify-center gap-2 w-full py-2.5 rounded-lg bg-indigo-600 hover:bg-indigo-700 text-white text-sm font-medium transition-colors",children:[(0,b.jsx)(as.UserPlus,{className:"w-4 h-4"}),"View Matches"]})})]}):null}var aS=a.i(77156);function aT({data:a,onDismiss:c}){return a.hasSpike?(0,b.jsxs)(m.motion.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-xl border border-amber-200 dark:border-amber-800/50 bg-gradient-to-br from-amber-50 to-red-50 dark:from-amber-950/40 dark:to-red-950/40",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 pt-4 pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-amber-100 dark:bg-amber-900/40 flex items-center justify-center",children:(0,b.jsx)(aD.TrendingUp,{className:"w-4 h-4 text-amber-600 dark:text-amber-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-amber-900 dark:text-amber-100",children:"You're Trending! ðŸ“ˆ"}),(0,b.jsx)("p",{className:"text-[11px] text-amber-600/70 dark:text-amber-400/70",children:"Your profile views are surging"})]})]}),(0,b.jsx)("button",{onClick:c,className:"p-1 rounded-full hover:bg-amber-100 dark:hover:bg-amber-900/40 transition-colors",children:(0,b.jsx)(n.X,{className:"w-4 h-4 text-amber-400"})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xs text-amber-500 dark:text-amber-400 mb-0.5",children:"Before"}),(0,b.jsx)("p",{className:"text-lg font-bold text-amber-700 dark:text-amber-200",children:a.previousViews})]}),(0,b.jsx)("div",{className:"text-amber-400",children:"â†’"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-xs text-red-500 dark:text-red-400 mb-0.5",children:"Today"}),(0,b.jsx)("p",{className:"text-lg font-bold text-red-600 dark:text-red-300",children:a.recentViews})]})]}),(0,b.jsxs)(m.motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring"},className:"px-3 py-1.5 rounded-full bg-gradient-to-r from-amber-500 to-red-500 text-white text-sm font-bold",children:["+",a.increasePercent,"%"]})]}),(0,b.jsx)("div",{className:"px-4 pb-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-[11px] text-amber-600/60 dark:text-amber-400/50",children:[(0,b.jsx)(aS.Eye,{className:"w-3 h-3"}),"Keep posting to maintain your momentum!"]})})]}):null}let aU=(0,L.default)("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);function aV({gems:a,onDismiss:c}){let d=a[0];return d?(0,b.jsxs)(m.motion.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-xl border-2 border-yellow-300 dark:border-yellow-700/60 bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-950/30 dark:to-amber-950/30",children:[(0,b.jsx)("div",{className:"absolute -top-6 -right-6 w-24 h-24 bg-yellow-200/30 dark:bg-yellow-700/10 rounded-full blur-2xl"}),(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 pt-4 pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-yellow-100 dark:bg-yellow-900/40 flex items-center justify-center",children:(0,b.jsx)(aU,{className:"w-4 h-4 text-yellow-600 dark:text-yellow-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-yellow-900 dark:text-yellow-100",children:"Hidden Gem ðŸ’Ž"}),(0,b.jsx)("p",{className:"text-[11px] text-yellow-600/70 dark:text-yellow-400/70",children:"Someone special shares your vibe"})]})]}),(0,b.jsx)("button",{onClick:c,className:"p-1 rounded-full hover:bg-yellow-100 dark:hover:bg-yellow-900/40 transition-colors",children:(0,b.jsx)(n.X,{className:"w-4 h-4 text-yellow-400"})})]}),(0,b.jsxs)(ag.default,{href:`/profile/${d.username}`,className:"block px-4 py-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[d.profileImage?(0,b.jsx)("img",{src:d.profileImage,alt:d.name,className:"w-14 h-14 rounded-full object-cover ring-2 ring-yellow-400 ring-offset-2 ring-offset-yellow-50 dark:ring-offset-yellow-950"}):(0,b.jsx)("div",{className:"w-14 h-14 rounded-full bg-yellow-200 dark:bg-yellow-800 flex items-center justify-center text-xl font-bold text-yellow-700 dark:text-yellow-300 ring-2 ring-yellow-400 ring-offset-2",children:d.name.charAt(0)}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:d.name}),d.headline&&(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-neutral-400 truncate",children:d.headline}),d.college&&(0,b.jsx)("p",{className:"text-[11px] text-yellow-600 dark:text-yellow-400 mt-0.5",children:d.college})]})]}),d.interests.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-1.5 mt-3",children:d.interests.slice(0,4).map(a=>(0,b.jsx)("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-medium bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 border border-yellow-200 dark:border-yellow-800/50",children:a},a))})]}),(0,b.jsx)("div",{className:"px-4 pb-4",children:(0,b.jsxs)(ag.default,{href:`/profile/${d.username}`,className:"flex items-center justify-center gap-2 w-full py-2.5 rounded-lg bg-yellow-500 hover:bg-yellow-600 text-white text-sm font-medium transition-colors",children:[(0,b.jsx)(as.UserPlus,{className:"w-4 h-4"}),"Connect with ",d.name.split(" ")[0]]})})]}):null}function aW({milestones:a,onDismiss:c}){let d=a[0];if(!d)return null;let e=d.icon||"ðŸ†";return(0,b.jsxs)(m.motion.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-xl border border-emerald-200 dark:border-emerald-800/50 bg-gradient-to-br from-emerald-50 to-green-50 dark:from-emerald-950/40 dark:to-green-950/40",children:[(0,b.jsx)("div",{className:"absolute top-2 left-6 w-2 h-2 bg-yellow-400 rounded-full opacity-60"}),(0,b.jsx)("div",{className:"absolute top-4 right-12 w-1.5 h-1.5 bg-pink-400 rounded-full opacity-50"}),(0,b.jsx)("div",{className:"absolute top-6 left-20 w-1 h-1 bg-blue-400 rounded-full opacity-40"}),(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 pt-4 pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.motion.div,{initial:{scale:0,rotate:-30},animate:{scale:1,rotate:0},transition:{type:"spring",delay:.2},className:"w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-900/40 flex items-center justify-center text-xl",children:e}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-emerald-900 dark:text-emerald-100",children:"Milestone Unlocked! ðŸŽ‰"}),(0,b.jsx)("p",{className:"text-[11px] text-emerald-600/70 dark:text-emerald-400/70",children:d.title})]})]}),(0,b.jsx)("button",{onClick:c,className:"p-1 rounded-full hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-colors",children:(0,b.jsx)(n.X,{className:"w-4 h-4 text-emerald-400"})})]}),(0,b.jsxs)("div",{className:"px-4 py-3",children:[(0,b.jsx)("p",{className:"text-sm text-emerald-800 dark:text-emerald-200 mb-3",children:d.description}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 mb-3",children:[Array.from({length:Math.min(d.value,10)}).map((a,c)=>(0,b.jsx)(m.motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3+.05*c},className:"w-3 h-3 rounded-full bg-emerald-500 flex items-center justify-center",children:(0,b.jsx)(R.Check,{className:"w-2 h-2 text-white"})},c)),d.value>10&&(0,b.jsxs)("span",{className:"text-[10px] text-emerald-500 font-medium ml-1",children:["+",d.value-10," more"]})]}),(0,b.jsxs)(m.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.5},className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-gradient-to-r from-emerald-500 to-green-500 text-white text-xs font-bold",children:[(0,b.jsx)(u.Trophy,{className:"w-3 h-3"}),"+",10*d.value," XP earned"]})]})]})}var aX=a.i(41961),aY=a.i(24987),aZ=a.i(52495);function a$({opportunities:a,onDismiss:c}){let d;if(!a.length)return null;let e=a[0],f=(d=Math.floor((Date.now()-new Date(e.createdAt).getTime())/36e5))<1?"Just posted":d<24?`${d}h ago`:`${Math.floor(d/24)}d ago`;return(0,b.jsxs)(m.motion.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-xl border border-teal-200 dark:border-teal-800/50 bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-950/40 dark:to-cyan-950/40",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 pt-4 pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-teal-100 dark:bg-teal-900/40 flex items-center justify-center",children:(0,b.jsx)(aX.Briefcase,{className:"w-4 h-4 text-teal-600 dark:text-teal-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-teal-900 dark:text-teal-100",children:"New Opportunity ðŸ’¼"}),(0,b.jsx)("p",{className:"text-[11px] text-teal-600/70 dark:text-teal-400/70",children:"Matched to your profile"})]})]}),(0,b.jsx)("button",{onClick:c,className:"p-1 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/40 transition-colors",children:(0,b.jsx)(n.X,{className:"w-4 h-4 text-teal-400"})})]}),(0,b.jsxs)("div",{className:"px-4 py-3",children:[(0,b.jsx)("h4",{className:"text-base font-semibold text-gray-900 dark:text-white mb-1",children:e.title}),(0,b.jsx)("p",{className:"text-sm text-teal-700 dark:text-teal-300 font-medium mb-2",children:e.company}),(0,b.jsxs)("div",{className:"flex items-center gap-3 text-xs text-gray-500 dark:text-neutral-400",children:[e.location&&(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(aY.MapPin,{className:"w-3 h-3"}),e.location]}),(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(ao.Clock,{className:"w-3 h-3"}),f]})]}),a.length>1&&(0,b.jsxs)("p",{className:"text-[11px] text-teal-500 mt-2",children:["+",a.length-1," more opportunit",a.length-1>1?"ies":"y"]})]}),(0,b.jsx)("div",{className:"px-4 pb-4",children:(0,b.jsxs)("button",{className:"flex items-center justify-center gap-2 w-full py-2.5 rounded-lg bg-teal-600 hover:bg-teal-700 text-white text-sm font-medium transition-colors",children:[(0,b.jsx)(aZ.ExternalLink,{className:"w-4 h-4"}),"View Details"]})})]})}function a_({viewers:a,onDismiss:c}){return a.length?(0,b.jsxs)(m.motion.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-xl border border-purple-200 dark:border-purple-800/50 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950/40 dark:to-pink-950/40",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 pt-4 pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-purple-100 dark:bg-purple-900/40 flex items-center justify-center",children:(0,b.jsx)(aS.Eye,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm font-semibold text-purple-900 dark:text-purple-100",children:[a.length," Profile View",a.length>1?"s":""," ðŸ‘€"]}),(0,b.jsx)("p",{className:"text-[11px] text-purple-600/70 dark:text-purple-400/70",children:"People are interested in you"})]})]}),(0,b.jsx)("button",{onClick:c,className:"p-1 rounded-full hover:bg-purple-100 dark:hover:bg-purple-900/40 transition-colors",children:(0,b.jsx)(n.X,{className:"w-4 h-4 text-purple-400"})})]}),(0,b.jsx)("div",{className:"px-4 py-3",children:(0,b.jsxs)("div",{className:"flex items-center",children:[a.slice(0,4).map((c,d)=>(0,b.jsx)(m.motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*d},className:"relative",style:{marginLeft:0===d?0:-8,zIndex:a.length-d},children:(0,b.jsx)(ag.default,{href:`/profile/${c.username}`,children:c.profileImage?(0,b.jsx)("img",{src:c.profileImage,alt:c.name,className:"w-10 h-10 rounded-full object-cover ring-2 ring-white dark:ring-neutral-900"}):(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-purple-200 dark:bg-purple-800 flex items-center justify-center text-purple-700 dark:text-purple-300 text-sm font-semibold ring-2 ring-white dark:ring-neutral-900",children:c.name.charAt(0)})})},c.id)),a.length>4&&(0,b.jsx)("div",{className:"relative w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900/40 flex items-center justify-center ring-2 ring-white dark:ring-neutral-900",style:{marginLeft:-8,zIndex:0},children:(0,b.jsxs)("span",{className:"text-xs font-semibold text-purple-600 dark:text-purple-300",children:["+",a.length-4]})}),(0,b.jsxs)("div",{className:"ml-3 flex-1 min-w-0",children:[(0,b.jsxs)("p",{className:"text-sm text-gray-700 dark:text-neutral-300",children:[(0,b.jsx)("span",{className:"font-semibold",children:a[0].name}),a.length>1&&(0,b.jsxs)("span",{className:"text-gray-500 dark:text-neutral-400",children:[" ","and ",a.length-1," other",a.length>2?"s":""]})]}),a[0].college&&(0,b.jsx)("p",{className:"text-[11px] text-purple-500 dark:text-purple-400 truncate",children:a[0].college})]})]})}),(0,b.jsx)("div",{className:"px-4 pb-4",children:(0,b.jsxs)(ag.default,{href:"/profile",className:"flex items-center justify-center gap-2 w-full py-2.5 rounded-lg bg-purple-600 hover:bg-purple-700 text-white text-sm font-medium transition-colors",children:[(0,b.jsx)(aS.Eye,{className:"w-4 h-4"}),"See All Views"]})})]}):null}function a0({data:a,onDismiss:c}){return a.eligible?(0,b.jsxs)(m.motion.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-xl border border-rose-200 dark:border-rose-800/50 bg-gradient-to-br from-rose-50 to-pink-50 dark:from-rose-950/40 dark:to-pink-950/40",children:[(0,b.jsx)("div",{className:"absolute top-3 right-8 w-2 h-2 bg-yellow-300 rounded-full opacity-60 animate-pulse"}),(0,b.jsx)("div",{className:"absolute top-8 right-4 w-1.5 h-1.5 bg-pink-300 rounded-full opacity-50 animate-pulse",style:{animationDelay:"0.5s"}}),(0,b.jsx)("div",{className:"absolute bottom-6 left-6 w-1 h-1 bg-rose-300 rounded-full opacity-40 animate-pulse",style:{animationDelay:"1s"}}),(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 pt-4 pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.motion.div,{initial:{rotate:-20},animate:{rotate:[0,-10,10,-5,5,0]},transition:{duration:.6,delay:.3},className:"w-8 h-8 rounded-lg bg-rose-100 dark:bg-rose-900/40 flex items-center justify-center",children:(0,b.jsx)(aA.Zap,{className:"w-4 h-4 text-rose-600 dark:text-rose-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-rose-900 dark:text-rose-100",children:"Surprise Boost! âš¡"}),(0,b.jsx)("p",{className:"text-[11px] text-rose-600/70 dark:text-rose-400/70",children:a.reason})]})]}),(0,b.jsx)("button",{onClick:c,className:"p-1 rounded-full hover:bg-rose-100 dark:hover:bg-rose-900/40 transition-colors",children:(0,b.jsx)(n.X,{className:"w-4 h-4 text-rose-400"})})]}),(0,b.jsxs)("div",{className:"px-4 py-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-xs text-rose-500 dark:text-rose-400 mb-1",children:[a.activeDays," days active this week"]}),(0,b.jsx)("p",{className:"text-sm text-rose-700 dark:text-rose-300",children:"You've earned a special bonus!"})]}),(0,b.jsxs)(m.motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.4},className:"flex items-center gap-1.5 px-4 py-2 rounded-full bg-gradient-to-r from-rose-500 to-pink-500 text-white",children:[(0,b.jsx)(t.Sparkles,{className:"w-4 h-4"}),(0,b.jsxs)("span",{className:"text-lg font-bold",children:["+",a.xpAmount]}),(0,b.jsx)("span",{className:"text-xs opacity-80",children:"XP"})]})]}),(0,b.jsx)("div",{className:"px-4 pb-4",children:(0,b.jsxs)("button",{onClick:c,className:"flex items-center justify-center gap-2 w-full py-2.5 rounded-lg bg-rose-600 hover:bg-rose-700 text-white text-sm font-medium transition-colors",children:[(0,b.jsx)(aA.Zap,{className:"w-4 h-4"}),"Claim Boost"]})})]}):null}var a1=a.i(46864);function a2({data:a,onDismiss:c}){if(!a.hasUpdates)return null;let d=a.recentAccepts.length+a.newRequests.length;return(0,b.jsxs)(m.motion.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"relative overflow-hidden rounded-xl border border-blue-200 dark:border-blue-800/50 bg-gradient-to-br from-blue-50 to-sky-50 dark:from-blue-950/40 dark:to-sky-950/40",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 pt-4 pb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-100 dark:bg-blue-900/40 flex items-center justify-center",children:(0,b.jsx)(w.Users,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100",children:"Connection Updates ðŸ¤"}),(0,b.jsxs)("p",{className:"text-[11px] text-blue-600/70 dark:text-blue-400/70",children:[d," new update",d>1?"s":""]})]})]}),(0,b.jsx)("button",{onClick:c,className:"p-1 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/40 transition-colors",children:(0,b.jsx)(n.X,{className:"w-4 h-4 text-blue-400"})})]}),(0,b.jsxs)("div",{className:"px-4 py-3 space-y-3",children:[a.recentAccepts.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 mb-2",children:[(0,b.jsx)(a1.UserCheck,{className:"w-3.5 h-3.5 text-green-500"}),(0,b.jsxs)("p",{className:"text-xs font-medium text-green-600 dark:text-green-400",children:[a.recentAccepts.length," accepted your request"]})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[a.recentAccepts.slice(0,3).map((a,c)=>(0,b.jsx)(ag.default,{href:`/profile/${a.username}`,className:"relative",style:{marginLeft:0===c?0:-6,zIndex:3-c},children:a.profileImage?(0,b.jsx)("img",{src:a.profileImage,alt:a.name,className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-neutral-900"}):(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-200 dark:bg-green-800 flex items-center justify-center text-green-700 dark:text-green-300 text-xs font-semibold ring-2 ring-white dark:ring-neutral-900",children:a.name.charAt(0)})},a.id)),(0,b.jsxs)("p",{className:"ml-2 text-xs text-gray-600 dark:text-neutral-400",children:[a.recentAccepts[0].name,a.recentAccepts.length>1&&` +${a.recentAccepts.length-1}`]})]})]}),a.newRequests.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 mb-2",children:[(0,b.jsx)(as.UserPlus,{className:"w-3.5 h-3.5 text-blue-500"}),(0,b.jsxs)("p",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:[a.newRequests.length," want to connect"]})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[a.newRequests.slice(0,3).map((a,c)=>(0,b.jsx)("div",{className:"relative",style:{marginLeft:0===c?0:-6,zIndex:3-c},children:a.profileImage?(0,b.jsx)("img",{src:a.profileImage,alt:a.name,className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-neutral-900"}):(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-200 dark:bg-blue-800 flex items-center justify-center text-blue-700 dark:text-blue-300 text-xs font-semibold ring-2 ring-white dark:ring-neutral-900",children:a.name.charAt(0)})},a.id)),(0,b.jsxs)("p",{className:"ml-2 text-xs text-gray-600 dark:text-neutral-400",children:[a.newRequests[0].name,a.newRequests.length>1&&` +${a.newRequests.length-1}`]})]})]})]}),(0,b.jsx)("div",{className:"px-4 pb-4",children:(0,b.jsxs)(ag.default,{href:"/connections",className:"flex items-center justify-center gap-2 w-full py-2.5 rounded-lg bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium transition-colors",children:[(0,b.jsx)(w.Users,{className:"w-4 h-4"}),"View All"]})})]})}function a3({card:a,onDismiss:c}){let{type:d,data:f}=a;return(0,b.jsxs)(e.AnimatePresence,{mode:"wait",children:["MATCH_BURST"===d&&(0,b.jsx)(aR,{matches:f.matches,onDismiss:()=>c("MATCH_BURST",f.matches.map(a=>a.id))}),"TRENDING"===d&&f.trendingData&&(0,b.jsx)(aT,{data:f.trendingData,onDismiss:()=>c("TRENDING")}),"HIDDEN_GEM"===d&&(0,b.jsx)(aV,{gems:f.hiddenGems,onDismiss:()=>c("HIDDEN_GEM",f.hiddenGems.map(a=>a.id))}),"MILESTONE"===d&&(0,b.jsx)(aW,{milestones:f.milestones,onDismiss:()=>c("MILESTONE",f.milestones.map(a=>a.id))}),"OPPORTUNITY"===d&&(0,b.jsx)(a$,{opportunities:f.opportunities,onDismiss:()=>c("OPPORTUNITY",f.opportunities.map(a=>a.id))}),"SOCIAL_PROOF"===d&&(0,b.jsx)(a_,{viewers:f.viewers,onDismiss:()=>c("SOCIAL_PROOF",f.viewers.map(a=>a.id))}),"SURPRISE_BOOST"===d&&f.surpriseBoostData&&(0,b.jsx)(a0,{data:f.surpriseBoostData,onDismiss:()=>c("SURPRISE_BOOST")}),"CONNECTION_UPDATE"===d&&f.connectionUpdates&&(0,b.jsx)(a2,{data:f.connectionUpdates,onDismiss:()=>c("CONNECTION_UPDATE")})]})}a.i(90433);var a4=a.i(80666);function a5(){let{user:a,loading:c}=(0,H.useAuth)(),m=(0,g.useQueryClient)(),{rewards:n,dismissReward:o}=function(a){let[b,c]=(0,d.useState)([]);return(0,d.useEffect)(()=>{if(!a)return;let b=setTimeout(async()=>{let a=aN(),b=[];try{let[d,e]=await Promise.all([(0,ah.getStreaks)().catch(()=>null),(0,ah.getWeeklyGoals)().catch(()=>null)]);if(d){let c=[3,5,7,10,14,21,30,50,100];for(let e of[{key:"connection",value:d.connectionStreak,label:"Networking"},{key:"login",value:d.loginStreak,label:"Login"},{key:"posting",value:d.postingStreak,label:"Posting"},{key:"messaging",value:d.messagingStreak,label:"Messaging"}])for(let d of c)if(e.value===d){let c=`streak_${e.key}_${d}`;a.has(c)||b.push({id:c,type:"streak_milestone",title:`${d}-Day ${e.label} Streak! ðŸ”¥`,message:`You've been consistent for ${d} days straight.`,value:`${d} days`,subtext:"Keep it going!",showConfetti:d>=7})}}if(e?.isCompleted){let c=`weekly_goals_${new Date().toISOString().slice(0,10)}`;a.has(c)||b.push({id:c,type:"weekly_goal_complete",title:"Weekly Goals Complete! ðŸŽ¯",message:"You crushed all your goals this week.",subtext:"New goals reset next Monday",showConfetti:!0})}c(b.slice(0,2))}catch(a){console.error("Failed to check milestones:",a)}},3e3);return()=>clearTimeout(b)},[a]),{rewards:b,dismissReward:(0,d.useCallback)(a=>{try{let b=aN();b.add(a);let c=Array.from(b).slice(-100);localStorage.setItem(aM,JSON.stringify(c))}catch{}c(b=>b.filter(b=>b.id!==a))},[])}}(a?.id),{activeCards:p,dismissCard:q}=function(a){let[b,c]=(0,d.useState)(null),[e,f]=(0,d.useState)([]),[g,h]=(0,d.useState)(new Set),i=(0,d.useRef)(!1),j=(0,d.useCallback)(async()=>{if(a&&!i.current){i.current=!0;try{let a=await aP();c(a);let b=[];a.hasNewMatches&&a.matches.length>0&&b.push({type:"MATCH_BURST",priority:1}),a.hasTrendingSpike&&a.trendingData?.hasSpike&&b.push({type:"TRENDING",priority:2}),a.hasHiddenGems&&a.hiddenGems.length>0&&b.push({type:"HIDDEN_GEM",priority:3}),a.hasNewMilestones&&a.milestones.length>0&&b.push({type:"MILESTONE",priority:0}),a.hasNewOpportunities&&a.opportunities.length>0&&b.push({type:"OPPORTUNITY",priority:5}),a.hasNewViewers&&a.viewers.length>0&&b.push({type:"SOCIAL_PROOF",priority:4}),a.canGetSurpriseBoost&&a.surpriseBoostData?.eligible&&b.push({type:"SURPRISE_BOOST",priority:0}),a.hasConnectionUpdates&&a.connectionUpdates?.hasUpdates&&b.push({type:"CONNECTION_UPDATE",priority:2}),b.sort((a,b)=>a.priority-b.priority);let d=Math.min(b.length,3),e=b.slice(0,d),g=[3,7,12],i=e.map((b,c)=>({type:b.type,data:a,position:g[c]||g[g.length-1]+4*c})),j=`rewards_shown_${new Date().toISOString().slice(0,10)}`,k=new Set(JSON.parse(localStorage.getItem(j)||"[]")),l=i.filter(a=>!k.has(a.type));f(l),h(k)}catch(a){console.error("Failed to fetch reward data:",a)}}},[a]);return(0,d.useEffect)(()=>{j()},[j]),{rewardData:b,activeCards:e,dismissCard:(0,d.useCallback)(async(a,b=[])=>{f(b=>b.filter(b=>b.type!==a));let c=`rewards_shown_${new Date().toISOString().slice(0,10)}`,d=new Set(JSON.parse(localStorage.getItem(c)||"[]"));d.add(a),localStorage.setItem(c,JSON.stringify([...d]));try{await aQ(a,b)}catch{}},[])}}(a?.id),{data:r,isLoading:s,isFetchingNextPage:t,fetchNextPage:u,hasNextPage:v,error:w,refetch:x}=(0,f.useInfiniteQuery)({queryKey:["feed",a?.id],queryFn:async({pageParam:a})=>await (0,I.getFeed)(a??void 0,20),initialPageParam:void 0,getNextPageParam:a=>a.nextCursor??void 0,staleTime:3e5,enabled:!c&&!!a}),y=r?.pages.flatMap(a=>a.posts)??[],z=w?w.message:null,[A,B]=(0,d.useState)(!1),[C,D]=(0,d.useState)(null),[E,F]=(0,d.useState)(void 0),[G,J]=(0,d.useState)(!1),[K,L]=(0,d.useState)(!1),[M,N]=(0,d.useState)(null),[O,P]=(0,d.useState)(0),Q=(0,d.useRef)(null),R=(0,d.useRef)(null);(0,d.useEffect)(()=>{if(!a)return;let b=({post:b})=>{m.setQueryData(["feed",a?.id],a=>!a?.pages?.length||a.pages.some(a=>a.posts.some(a=>a.id===b.id))?a:{...a,pages:[{...a.pages[0],posts:[b,...a.pages[0].posts]},...a.pages.slice(1)]})},c=({postId:b,userId:c,liked:d,likesCount:e,reactionType:f,reactionSummary:g})=>{m.setQueryData(["feed",a?.id],h=>{if(!h?.pages)return h;let i=c===a.id;return{...h,pages:h.pages.map(a=>({...a,posts:a.posts.map(a=>a.id!==b?a:{...a,likesCount:e,isLiked:i?d:a.isLiked,userReactionType:i?f:a.userReactionType,reactionSummary:g||a.reactionSummary})}))}})},d=({postId:b,userId:c,liked:d,reactionType:e,likesCount:f,reactionSummary:g})=>{m.setQueryData(["feed",a?.id],h=>{if(!h?.pages)return h;let i=c===a.id;return{...h,pages:h.pages.map(a=>({...a,posts:a.posts.map(a=>a.id!==b?a:{...a,likesCount:f,isLiked:i?d:a.isLiked,userReactionType:i?e:a.userReactionType,reactionSummary:g||a.reactionSummary})}))}})},e=({postId:b,commentsCount:c})=>{m.setQueryData(["feed",a?.id],a=>a?.pages?{...a,pages:a.pages.map(a=>({...a,posts:a.posts.map(a=>a.id===b?{...a,commentsCount:c}:a)}))}:a)},f=({postId:b,pollOptions:c})=>{m.setQueryData(["feed",a?.id],a=>a?.pages?{...a,pages:a.pages.map(a=>({...a,posts:a.posts.map(a=>a.id===b?{...a,pollOptions:c}:a)}))}:a)},g=({postId:b,sharesCount:c})=>{m.setQueryData(["feed",a?.id],a=>a?.pages?{...a,pages:a.pages.map(a=>({...a,posts:a.posts.map(a=>a.id===b?{...a,sharesCount:c}:a)}))}:a)};(0,aa.initializeSocket)({onConnect:()=>{console.log("Feed: Socket connected")}});let h=(0,aa.getSocket)();return h&&(h.on("post:created",b),h.on("post:liked",c),h.on("post:reacted",d),h.on("comment:created",e),h.on("poll:updated",f),h.on("post:shared",g)),()=>{let a=(0,aa.getSocket)();a&&(a.off("post:created",b),a.off("post:liked",c),a.off("post:reacted",d),a.off("comment:created",e),a.off("poll:updated",f),a.off("post:shared",g))}},[a,m]);let S=(0,d.useCallback)(()=>{!t&&v&&u()},[t,v,u]);(0,d.useEffect)(()=>{if(!s)return Q.current=new IntersectionObserver(a=>{a[0].isIntersecting&&v&&!t&&S()},{threshold:.1}),R.current&&Q.current.observe(R.current),()=>{Q.current?.disconnect()}},[s,v,t,S]);let T=(0,d.useCallback)(b=>{m.setQueryData(["feed",a?.id],a=>a?.pages?{...a,pages:b(a.pages)}:a)},[m,a?.id]),U=a=>{T(b=>b.map(b=>({...b,posts:b.posts.filter(b=>b.id!==a)})))},V=(a,b)=>{T(c=>c.map(c=>({...c,posts:c.posts.map(c=>c.id===a?{...c,...b}:c)})))},W=(a,b,c)=>{T(d=>d.map(d=>({...d,posts:d.posts.map(d=>d.id===a?{...d,isLiked:b,likesCount:c}:d)})))},X=(a,b)=>{T(c=>c.map(c=>({...c,posts:c.posts.map(c=>c.id===a?{...c,pollOptions:b}:c)})))};return c?(0,b.jsx)("div",{className:"max-w-5xl mx-auto pb-24",children:(0,b.jsx)("div",{className:"space-y-4 px-4",children:Array.from({length:3}).map((a,c)=>(0,b.jsx)(k,{},c))})}):(0,b.jsxs)("div",{className:"max-w-5xl mx-auto pb-24",children:[(0,b.jsx)("div",{className:"sticky top-0 z-40 bg-white/80 dark:bg-neutral-950/80 backdrop-blur-sm border-b border-gray-200 dark:border-neutral-800",children:(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Feed"}),a&&(0,b.jsx)(aj,{})]}),a&&(0,b.jsx)(ai,{})]})}),a&&(0,b.jsx)(Z.StoryCarousel,{onOpenStory:a=>{N(a),L(!0)},onCreateStory:()=>J(!0)},O),a&&!s&&(0,b.jsx)("div",{className:"px-4 lg:px-4",children:(0,b.jsx)(ay,{})}),a&&(0,b.jsx)("div",{className:"m-4",children:(0,b.jsxs)("div",{className:"bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-800 overflow-hidden",children:[(0,b.jsx)("button",{onClick:()=>B(!0),className:"w-full p-5 hover:bg-gray-50 dark:hover:bg-neutral-800/50 transition-colors text-left",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-full overflow-hidden bg-gray-200 dark:bg-neutral-700 flex-shrink-0",children:a.profileImage?(0,b.jsx)("img",{src:a.profileImage,alt:"",className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center text-xl font-bold text-gray-500",children:a.name?.charAt(0).toUpperCase()})}),(0,b.jsx)("div",{className:"flex-1 py-3 px-5 rounded-full border border-gray-300 dark:border-neutral-700 bg-gray-50 dark:bg-neutral-800/50",children:(0,b.jsxs)("span",{className:"text-gray-500 dark:text-neutral-400 text-base",children:["What's on your mind, ",a.name?.split(" ")[0],"?"]})})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-around border-t border-gray-100 dark:border-neutral-800 px-4 py-3",children:[(0,b.jsxs)("button",{onClick:()=>B(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors text-gray-600 dark:text-neutral-400",children:[(0,b.jsx)("svg",{className:"w-6 h-6 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Photo"})]}),(0,b.jsxs)("button",{onClick:()=>B(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors text-gray-600 dark:text-neutral-400",children:[(0,b.jsx)("svg",{className:"w-6 h-6 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Video"})]}),(0,b.jsxs)("button",{onClick:()=>B(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors text-gray-600 dark:text-neutral-400",children:[(0,b.jsx)("svg",{className:"w-6 h-6 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Article"})]})]})]})}),(0,b.jsxs)("div",{className:"lg:grid lg:grid-cols-[1fr_300px] lg:gap-6 lg:px-4",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[z&&(0,b.jsxs)("div",{className:"m-4 lg:mx-0 p-4 bg-red-50 dark:bg-red-900/20 rounded-xl text-red-600 dark:text-red-400 text-center",children:[(0,b.jsx)("p",{children:z}),(0,b.jsx)("button",{onClick:()=>x(),className:"mt-2 text-sm font-semibold underline",children:"Try again"})]}),a&&!s&&(0,b.jsx)("div",{className:"px-4 lg:px-0 mb-3",children:(0,b.jsx)(aq,{})}),s&&(0,b.jsx)("div",{className:"space-y-4 px-4 lg:px-0",children:Array.from({length:4}).map((a,c)=>(0,b.jsx)(k,{},c))}),!s&&0===y.length&&!z&&(0,b.jsxs)("div",{className:"text-center py-12 px-4",children:[(0,b.jsx)("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gray-100 dark:bg-neutral-800 flex items-center justify-center",children:(0,b.jsx)(i.Plus,{className:"w-10 h-10 text-gray-400"})}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Your feed is empty"}),(0,b.jsx)("p",{className:"text-gray-500 dark:text-neutral-400 mb-4",children:"Start by creating your first post or follow some people!"}),(0,b.jsx)("button",{onClick:()=>B(!0),className:"px-6 py-2 bg-blue-500 text-white rounded-full font-semibold hover:bg-blue-600 transition-colors",children:"Create Post"})]}),(0,b.jsx)("div",{className:"space-y-4 px-4 lg:px-0",children:(0,b.jsx)(e.AnimatePresence,{children:y.map((a,c)=>(0,b.jsxs)(d.default.Fragment,{children:[(0,b.jsx)(j.PostCard,{post:a,onLikeUpdate:W,onPollUpdate:X,onDelete:U,onEdit:V,onCommentClick:()=>{var b;D(b=a.id),F(void 0),(0,aa.joinPostRoom)(b)}}),1===c&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(aJ,{}),(0,b.jsx)(aK,{})]}),p.filter(a=>a.position===c+1).map(a=>(0,b.jsx)(a3,{card:a,onDismiss:q},a.type)),4===c&&(0,b.jsx)(aL,{})]},a.id))})}),(0,b.jsxs)("div",{ref:R,className:"h-20 flex items-center justify-center",children:[t&&(0,b.jsx)(h.Loader2,{className:"w-6 h-6 animate-spin text-gray-400"}),!v&&y.length>0&&(0,b.jsx)("p",{className:"text-sm text-gray-400 dark:text-neutral-500",children:"You've reached the end"})]}),a&&!s&&(0,b.jsxs)("div",{className:"px-4 space-y-3 mb-4 lg:hidden",children:[(0,b.jsx)(am,{}),(0,b.jsx)(av,{}),(0,b.jsx)(ar,{})]})]}),a&&!s&&(0,b.jsx)("aside",{className:"hidden lg:block",children:(0,b.jsxs)("div",{className:"sticky top-14 space-y-4 pt-3",children:[(0,b.jsx)(am,{}),(0,b.jsx)(av,{}),(0,b.jsx)(ar,{})]})})]}),(0,b.jsx)("button",{onClick:()=>B(!0),className:"fixed bottom-24 right-4 lg:hidden p-3.5 bg-blue-600 text-white rounded-full shadow-md hover:bg-blue-700 transition-colors z-40",children:(0,b.jsx)(i.Plus,{className:"w-5 h-5"})}),(0,b.jsx)(Y,{isOpen:A,onClose:()=>B(!1),onPostCreated:a=>{a&&T(b=>b.some(b=>b.posts.some(b=>b.id===a.id))?b:[{...b[0],posts:[a,...b[0].posts]},...b.slice(1)])}}),C&&(0,b.jsx)(l.Comments,{postId:C,isOpen:!!C,onClose:()=>{C&&(0,aa.leavePostRoom)(C),D(null),F(void 0)},highlightCommentId:E,onCommentCountChange:a=>{C&&T(b=>b.map(b=>({...b,posts:b.posts.map(b=>b.id===C?{...b,commentsCount:a}:b)})))}}),(0,b.jsx)(_.StoryCreator,{isOpen:G,onClose:()=>J(!1),onStoryCreated:()=>{J(!1),P(a=>a+1)}}),K&&M&&(0,b.jsx)($.StoryViewer,{storyGroups:[M],initialGroupIndex:0,onClose:()=>{L(!1),N(null)},onStoryEnd:()=>{L(!1),N(null)}}),n.length>0&&(0,b.jsx)(aG,{rewards:n,onDismiss:o}),(0,b.jsx)(a4.NotificationPrompt,{userId:a?.id})]})}function a6(){return(0,b.jsx)(c.ProtectedRoute,{children:(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-950",children:(0,b.jsx)(a5,{})})})}a.s(["default",()=>a6],40777)}];

//# sourceMappingURL=src_app_page_tsx_a7111f3e._.js.map
module.exports=[69149,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(40784),g=a.i(21374),h=a.i(70106);let i=(0,h.default)("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),j=(0,h.default)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);var k=a.i(33441),l=a.i(13749),m=a.i(86520),n=a.i(54347),o=a.i(1027),p=a.i(78138),q=a.i(41710);let r=(0,h.default)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);var s=a.i(33508),t=a.i(8406),u=a.i(45222),v=a.i(38246),w=a.i(90925),x=a.i(44933);let y=["chat_customization","theme","frame","effect","badge","donation"],z={all:(0,b.jsx)(f.ShoppingBag,{className:"w-4 h-4"}),chat_customization:(0,b.jsx)(u.MessageCircle,{className:"w-4 h-4"}),theme:(0,b.jsx)(n.Palette,{className:"w-4 h-4"}),frame:(0,b.jsx)(m.Crown,{className:"w-4 h-4"}),effect:(0,b.jsx)(o.Zap,{className:"w-4 h-4"}),badge:(0,b.jsx)(g.Star,{className:"w-4 h-4"}),donation:(0,b.jsx)(t.Sparkles,{className:"w-4 h-4"})};function A(){let[a,h]=(0,c.useState)([]),[w,A]=(0,c.useState)([]),[B,C]=(0,c.useState)([]),[D,E]=(0,c.useState)(0),[F,G]=(0,c.useState)("all"),[H,I]=(0,c.useState)("shop"),[J,K]=(0,c.useState)(!0),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(null),[P,Q]=(0,c.useState)({show:!1,message:"",type:"success"}),R=(0,c.useCallback)(async()=>{try{K(!0);let[a,b,c,d]=await Promise.all([x.getStoreItems(),x.getMyPurchases(),x.getMyInventory(),x.getXPBalance()]);h(a||[]),A(b||[]),C(c||[]),E(d||0)}catch(a){console.error("Error loading store data:",a),S("Failed to load store","error")}finally{K(!1)}},[]);(0,c.useEffect)(()=>{R()},[R]);let S=(a,b)=>{Q({show:!0,message:a,type:b}),setTimeout(()=>Q({show:!1,message:"",type:"success"}),3e3)},T=async a=>{let b=a.xpCost;if(D<b)return void S("Not enough XP to purchase this item","error");try{M(a.id),await x.purchaseItem(a.slug??a.id),E(a=>a-b),S(`Successfully purchased ${a.name}!`,"success"),O(null),R()}catch(a){console.error("Error purchasing item:",a),S("Failed to purchase item","error")}finally{M(null)}},U=(0,c.useMemo)(()=>{let b=Array.from(new Set(a.map(a=>a.category).filter(Boolean)));return[{id:"all",name:"All Items"},...[...y.filter(a=>b.includes(a)),...b.filter(a=>!y.includes(a))].map(a=>({id:a,name:"chat_customization"===a?"Chat Customization":a.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}))]},[a]);(0,c.useEffect)(()=>{"all"!==F&&(U.some(a=>a.id===F)||G("all"))},[U,F]);let V=a.filter(a=>"all"===F||a.category===F),W=a=>{let b=a.metadata;return b&&"INR"===b.currency&&"number"==typeof b.priceInr?b.priceInr:null},X=(a,c)=>{if("chat_customization"===c)return(0,b.jsx)(u.MessageCircle,{className:"w-6 h-6"});switch(a){case"profile_theme":case"card_style":case"chat_theme_pack":return(0,b.jsx)(n.Palette,{className:"w-6 h-6"});case"profile_frame":return(0,b.jsx)(m.Crown,{className:"w-6 h-6"});case"exclusive_badge":return(0,b.jsx)(g.Star,{className:"w-6 h-6"});case"name_effect":case"message_effect_pack":case"chat_reaction_pack":return(0,b.jsx)(o.Zap,{className:"w-6 h-6"});case"donation":return(0,b.jsx)(t.Sparkles,{className:"w-6 h-6"});default:return(0,b.jsx)(p.Gift,{className:"w-6 h-6"})}},Y=a=>w.some(b=>b.itemId===a);return J?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-950 flex items-center justify-center",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-neutral-600"})}):(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-neutral-950 pb-20",children:[(0,b.jsx)(e.AnimatePresence,{children:P.show&&(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:`fixed top-4 left-1/2 -translate-x-1/2 z-50 px-4 py-2 rounded-lg text-sm font-medium ${"success"===P.type?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"}`,children:P.message})}),(0,b.jsx)(e.AnimatePresence,{children:N&&(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60",onClick:()=>O(null),children:(0,b.jsxs)(d.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white dark:bg-neutral-900 rounded-xl p-5 max-w-sm w-full border border-gray-200 dark:border-neutral-800",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-lg bg-gray-100 dark:bg-neutral-800 flex items-center justify-center text-gray-600 dark:text-gray-400",children:X(N.type,N.category)}),(0,b.jsx)("button",{onClick:()=>O(null),className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors",children:(0,b.jsx)(s.X,{className:"w-4 h-4 text-gray-500"})})]}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:N.name}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:N.description||"No description available."}),null!==W(N)&&(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3 p-2 rounded-lg bg-amber-100/70 dark:bg-amber-900/20 text-amber-800 dark:text-amber-300",children:[(0,b.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Cash Pack"}),(0,b.jsxs)("span",{className:"text-sm font-bold",children:["₹",W(N)]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4 p-3 rounded-lg bg-gray-100 dark:bg-neutral-800",children:[(0,b.jsx)(i,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[N.xpCost.toLocaleString()," XP"]})]}),void 0!==N.stock&&null!==N.stock&&(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4 text-xs text-gray-500",children:[(0,b.jsx)(j,{className:"w-3.5 h-3.5"}),(0,b.jsxs)("span",{children:[N.stock," remaining in stock"]})]}),Y(N.id)?(0,b.jsxs)("div",{className:"w-full py-2.5 rounded-lg bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-sm font-medium text-center flex items-center justify-center gap-2",children:[(0,b.jsx)(k.Check,{className:"w-4 h-4"}),"Already Owned"]}):(0,b.jsx)("button",{onClick:()=>T(N),disabled:L===N.id||D<N.xpCost,className:`w-full py-2.5 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-2 ${D>=N.xpCost?"bg-gray-900 dark:bg-white text-white dark:text-gray-900 hover:bg-gray-800 dark:hover:bg-gray-100":"bg-gray-200 dark:bg-neutral-800 text-gray-500 cursor-not-allowed"}`,children:L===N.id?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-current"}),"Purchasing..."]}):D<N.xpCost?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(i,{className:"w-4 h-4"}),"Need ",(N.xpCost-D).toLocaleString()," more XP"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r,{className:"w-4 h-4"}),"Purchase Now"]})})]})})}),(0,b.jsx)("div",{className:"sticky top-0 z-40 bg-white/80 dark:bg-neutral-950/80 backdrop-blur-lg border-b border-gray-200 dark:border-neutral-800",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(v.default,{href:"/more",className:"p-1.5 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors",children:(0,b.jsx)(l.ChevronLeft,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"XP Store"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Spend your earned XP"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-gray-100 dark:bg-neutral-800",children:[(0,b.jsx)(i,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:D.toLocaleString()})]})]}),(0,b.jsx)("div",{className:"flex px-4 gap-2 pb-3",children:[{id:"shop",label:"Shop",icon:(0,b.jsx)(f.ShoppingBag,{className:"w-4 h-4"})},{id:"inventory",label:"My Items",icon:(0,b.jsx)(j,{className:"w-4 h-4"})},{id:"history",label:"History",icon:(0,b.jsx)(q.Clock,{className:"w-4 h-4"})}].map(a=>(0,b.jsxs)("button",{onClick:()=>I(a.id),className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-1.5 ${H===a.id?"bg-gray-900 dark:bg-white text-white dark:text-gray-900":"bg-gray-100 dark:bg-neutral-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-neutral-700"}`,children:[a.icon,a.label]},a.id))})]})}),(0,b.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-5",children:["shop"===H&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-4 scrollbar-hide",children:U.map(a=>(0,b.jsxs)("button",{onClick:()=>G(a.id),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium whitespace-nowrap transition-all ${F===a.id?"bg-gray-900 dark:bg-white text-white dark:text-gray-900":"bg-gray-100 dark:bg-neutral-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-neutral-700"}`,children:[z[a.id]||(0,b.jsx)(f.ShoppingBag,{className:"w-4 h-4"}),a.name]},a.id))}),"all"===F&&a.some(a=>"chat_customization"===a.category)&&(0,b.jsx)("div",{className:"mb-4 rounded-xl border border-amber-200 dark:border-amber-800/60 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-950/40 dark:to-orange-950/30 p-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-wide text-amber-700 dark:text-amber-300",children:"New"}),(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Chat Customization Packs"}),(0,b.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-300 truncate",children:"Animated reactions, premium themes, and message effects from ₹29"})]}),(0,b.jsx)("button",{onClick:()=>G("chat_customization"),className:"px-3 py-1.5 rounded-lg bg-amber-600 text-white text-xs font-medium hover:bg-amber-700 transition-colors shrink-0",children:"Explore"})]})}),0===V.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-full bg-gray-100 dark:bg-neutral-800 flex items-center justify-center mb-3",children:(0,b.jsx)(f.ShoppingBag,{className:"w-7 h-7 text-gray-400"})}),(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:"No items available"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Check back later for new items"})]}):(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:V.map(a=>(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"relative",children:(0,b.jsxs)("button",{onClick:()=>O(a),className:"w-full bg-white dark:bg-neutral-900 rounded-xl p-4 border border-gray-200 dark:border-neutral-800 hover:border-gray-300 dark:hover:border-neutral-700 transition-all text-left",children:[Y(a.id)&&(0,b.jsx)("div",{className:"absolute top-2 right-2 w-5 h-5 rounded-full bg-green-500 flex items-center justify-center",children:(0,b.jsx)(k.Check,{className:"w-3 h-3 text-white"})}),null!==W(a)&&(0,b.jsxs)("div",{className:"absolute top-2 left-2 px-1.5 py-0.5 rounded bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 text-[10px] font-semibold",children:["₹",W(a)]}),(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gray-100 dark:bg-neutral-800 flex items-center justify-center text-gray-600 dark:text-gray-400 mb-3",children:X(a.type,a.category)}),(0,b.jsx)("h3",{className:"font-medium text-sm text-gray-900 dark:text-white mb-0.5 line-clamp-1",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-2 line-clamp-2",children:a.description||"No description available."}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-gray-600 dark:text-gray-400",children:[(0,b.jsx)(i,{className:"w-3.5 h-3.5"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:a.xpCost.toLocaleString()})]})]})},a.id))})]}),"inventory"===H&&(0,b.jsx)(b.Fragment,{children:0===B.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-full bg-gray-100 dark:bg-neutral-800 flex items-center justify-center mb-3",children:(0,b.jsx)(j,{className:"w-7 h-7 text-gray-400"})}),(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:"Your inventory is empty"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Purchase items from the store to add them here"}),(0,b.jsx)("button",{onClick:()=>I("shop"),className:"px-4 py-2 rounded-lg bg-gray-900 dark:bg-white text-white dark:text-gray-900 text-sm font-medium hover:bg-gray-800 dark:hover:bg-gray-100 transition-colors",children:"Browse Store"})]}):(0,b.jsx)("div",{className:"grid grid-cols-2 gap-3",children:B.map(a=>{let c=a.item;return c?(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white dark:bg-neutral-900 rounded-xl p-4 border border-gray-200 dark:border-neutral-800",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gray-100 dark:bg-neutral-800 flex items-center justify-center text-gray-600 dark:text-gray-400 mb-3",children:X(c.type,c.category)}),(0,b.jsx)("h3",{className:"font-medium text-sm text-gray-900 dark:text-white mb-0.5 line-clamp-1",children:c.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-2 line-clamp-2",children:c.description||"No description available."}),(0,b.jsx)("span",{className:`text-xs px-2 py-0.5 rounded font-medium ${a.isEquipped?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400"}`,children:a.isEquipped?"Equipped":"Owned"})]},a.id):null})})}),"history"===H&&(0,b.jsx)(b.Fragment,{children:0===w.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-full bg-gray-100 dark:bg-neutral-800 flex items-center justify-center mb-3",children:(0,b.jsx)(q.Clock,{className:"w-7 h-7 text-gray-400"})}),(0,b.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-1",children:"No purchase history"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Your purchases will appear here"})]}):(0,b.jsx)("div",{className:"space-y-2",children:w.map(a=>(0,b.jsxs)(d.motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-white dark:bg-neutral-900 rounded-xl p-3 border border-gray-200 dark:border-neutral-800 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gray-100 dark:bg-neutral-800 flex items-center justify-center text-gray-600 dark:text-gray-400 shrink-0",children:X(a.item.type,a.item.category)}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"font-medium text-sm text-gray-900 dark:text-white truncate",children:a.item.name}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a.purchasedAt?new Date(a.purchasedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Unknown date"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 text-gray-600 dark:text-gray-400",children:[(0,b.jsx)(i,{className:"w-3.5 h-3.5"}),(0,b.jsxs)("span",{className:"text-sm font-medium",children:["-",a.xpSpent.toLocaleString()]})]})]},a.id))})})]})]})}function B(){return(0,b.jsx)(w.ProtectedRoute,{children:(0,b.jsx)(A,{})})}a.s(["default",()=>B],69149)}];

//# sourceMappingURL=src_app_store_page_tsx_116c153e._.js.map
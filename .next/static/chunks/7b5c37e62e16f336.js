(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,71689,e=>{"use strict";let t=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},94095,66626,e=>{"use strict";var t=e.i(932),a=e.i(21482),s=e.i(86161);function i(e){let i,n,c,o=(0,t.c)(9),h=void 0===e?24:e;o[0]!==h?(i={queryKey:["reels-trending",h],queryFn:async()=>await s.reelsApi.getTrending({hours:h,limit:20}),getNextPageParam:l,initialPageParam:void 0,staleTime:3e5},o[0]=h,o[1]=i):i=o[1];let g=(0,a.useInfiniteQuery)(i);o[2]!==g.data?.pages?(n=g.data?.pages.flatMap(r)??[],o[2]=g.data?.pages,o[3]=n):n=o[3];let u=n;return o[4]!==g.isError||o[5]!==g.isLoading||o[6]!==g.refetch||o[7]!==u?(c={reels:u,isLoading:g.isLoading,isError:g.isError,refetch:g.refetch},o[4]=g.isError,o[5]=g.isLoading,o[6]=g.refetch,o[7]=u,o[8]=c):c=o[8],c}function r(e){return e.reels}function l(){}function n(e){let i,r,l,n,h,g=(0,t.c)(17);g[0]!==e?(i=["reels-hashtag",e],r=async t=>{let{pageParam:a}=t;return await s.reelsApi.getByHashtag(e,{cursor:a,limit:20})},g[0]=e,g[1]=i,g[2]=r):(i=g[1],r=g[2]);let u=!!e;g[3]!==i||g[4]!==r||g[5]!==u?(l={queryKey:i,queryFn:r,getNextPageParam:o,initialPageParam:void 0,staleTime:3e5,enabled:u},g[3]=i,g[4]=r,g[5]=u,g[6]=l):l=g[6];let d=(0,a.useInfiniteQuery)(l);g[7]!==d.data?.pages?(n=d.data?.pages.flatMap(c)??[],g[7]=d.data?.pages,g[8]=n):n=g[8];let f=n;return g[9]!==d.fetchNextPage||g[10]!==d.hasNextPage||g[11]!==d.isError||g[12]!==d.isFetchingNextPage||g[13]!==d.isLoading||g[14]!==d.refetch||g[15]!==f?(h={reels:f,isLoading:d.isLoading,isError:d.isError,hasNextPage:d.hasNextPage,isFetchingNextPage:d.isFetchingNextPage,fetchNextPage:d.fetchNextPage,refetch:d.refetch},g[9]=d.fetchNextPage,g[10]=d.hasNextPage,g[11]=d.isError,g[12]=d.isFetchingNextPage,g[13]=d.isLoading,g[14]=d.refetch,g[15]=f,g[16]=h):h=g[16],h}function c(e){return e.reels}function o(e){return e.nextCursor}function h(e){let i,r,l,n,c,o=(0,t.c)(17);o[0]!==e?(i=["reels-audio",e],r=async t=>{let{pageParam:a}=t;return await s.reelsApi.getByAudio(e,{cursor:a,limit:20})},o[0]=e,o[1]=i,o[2]=r):(i=o[1],r=o[2]);let h=!!e;o[3]!==i||o[4]!==r||o[5]!==h?(l={queryKey:i,queryFn:r,getNextPageParam:u,initialPageParam:void 0,staleTime:3e5,enabled:h},o[3]=i,o[4]=r,o[5]=h,o[6]=l):l=o[6];let d=(0,a.useInfiniteQuery)(l);o[7]!==d.data?.pages?(n=d.data?.pages.flatMap(g)??[],o[7]=d.data?.pages,o[8]=n):n=o[8];let f=n;return o[9]!==d.fetchNextPage||o[10]!==d.hasNextPage||o[11]!==d.isError||o[12]!==d.isFetchingNextPage||o[13]!==d.isLoading||o[14]!==d.refetch||o[15]!==f?(c={reels:f,isLoading:d.isLoading,isError:d.isError,hasNextPage:d.hasNextPage,isFetchingNextPage:d.isFetchingNextPage,fetchNextPage:d.fetchNextPage,refetch:d.refetch},o[9]=d.fetchNextPage,o[10]=d.hasNextPage,o[11]=d.isError,o[12]=d.isFetchingNextPage,o[13]=d.isLoading,o[14]=d.refetch,o[15]=f,o[16]=c):c=o[16],c}function g(e){return e.reels}function u(e){return e.nextCursor}e.s(["useAudioReels",()=>h,"useHashtagReels",()=>n,"useTrendingReels",()=>i],66626),e.i(71645),e.i(50471),e.i(13751),e.s([],94095)},59075,e=>{"use strict";var t=e.i(43476),a=e.i(932),s=e.i(71645),i=e.i(18566),r=e.i(71689),l=e.i(88081),n=e.i(31278);e.i(94095);var c=e.i(66626);e.i(51501);var o=e.i(42956);function h(){let e,h,u,d,f,x,m,N,p,P,y,b,w,j=(0,a.c)(48),v=(0,i.useParams)(),L=(0,i.useRouter)(),k=decodeURIComponent(v.tag),[E,F]=(0,s.useState)(0),[T,A]=(0,s.useState)(!0),{reels:R,isLoading:_,isError:C,hasNextPage:S,isFetchingNextPage:H,fetchNextPage:M}=(0,c.useHashtagReels)(k);j[0]!==E||j[1]!==M||j[2]!==S||j[3]!==H||j[4]!==R.length?(e=e=>{let t=e.currentTarget,a=Math.round(t.scrollTop/t.clientHeight);a!==E&&(F(a),a>=R.length-3&&S&&!H&&M())},j[0]=E,j[1]=M,j[2]=S,j[3]=H,j[4]=R.length,j[5]=e):e=j[5];let q=e;if(_){let e;return j[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-black",children:(0,t.jsx)(n.Loader2,{className:"w-12 h-12 text-white animate-spin"})}),j[6]=e):e=j[6],e}if(C){let e;return j[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-black text-white gap-4",children:[(0,t.jsx)("p",{children:"Failed to load reels"}),(0,t.jsx)("button",{onClick:g,className:"px-4 py-2 bg-white text-black rounded-full font-medium",children:"Retry"})]}),j[7]=e):e=j[7],e}if(0===R.length){let e,a,s,i;return j[8]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(l.Hash,{className:"w-16 h-16 text-gray-500"}),j[8]=e):e=j[8],j[9]!==k?(a=(0,t.jsxs)("p",{className:"text-xl",children:["No reels with #",k]}),j[9]=k,j[10]=a):a=j[10],j[11]!==L?(s=(0,t.jsx)("button",{onClick:()=>L.push("/reels"),className:"px-6 py-2 bg-white text-black rounded-full font-medium",children:"Go to Reels"}),j[11]=L,j[12]=s):s=j[12],j[13]!==a||j[14]!==s?(i=(0,t.jsxs)("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-black text-white gap-4",children:[e,a,s]}),j[13]=a,j[14]=s,j[15]=i):i=j[15],i}if(j[16]!==L?(h=()=>L.back(),j[16]=L,j[17]=h):h=j[17],j[18]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)(r.ArrowLeft,{className:"w-5 h-5 text-white"}),j[18]=u):u=j[18],j[19]!==h?(d=(0,t.jsx)("button",{onClick:h,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-colors",children:u}),j[19]=h,j[20]=d):d=j[20],j[21]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsx)(l.Hash,{className:"w-5 h-5"}),j[21]=f):f=j[21],j[22]!==k?(x=(0,t.jsxs)("h1",{className:"text-white text-xl font-bold flex items-center gap-1",children:[f,k]}),j[22]=k,j[23]=x):x=j[23],j[24]!==R.length?(m=(0,t.jsxs)("p",{className:"text-white/60 text-sm",children:[R.length," reels"]}),j[24]=R.length,j[25]=m):m=j[25],j[26]!==x||j[27]!==m?(N=(0,t.jsxs)("div",{children:[x,m]}),j[26]=x,j[27]=m,j[28]=N):N=j[28],j[29]!==d||j[30]!==N?(p=(0,t.jsx)("div",{className:"absolute top-0 left-0 right-0 z-20 pt-4 px-4 pb-2 bg-gradient-to-b from-black/80 to-transparent",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[d,N]})}),j[29]=d,j[30]=N,j[31]=p):p=j[31],j[32]!==E||j[33]!==T||j[34]!==R){let e;j[36]!==E||j[37]!==T?(e=(e,a)=>(0,t.jsx)("div",{className:"h-screen w-full snap-start snap-always",children:(0,t.jsx)(o.ReelCard,{reel:e,isActive:a===E,isMuted:T,onMuteToggle:()=>A(!T)})},e.id),j[36]=E,j[37]=T,j[38]=e):e=j[38],P=R.map(e),j[32]=E,j[33]=T,j[34]=R,j[35]=P}else P=j[35];return j[39]!==H?(y=H&&(0,t.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-black",children:(0,t.jsx)(n.Loader2,{className:"w-12 h-12 text-white animate-spin"})}),j[39]=H,j[40]=y):y=j[40],j[41]!==q||j[42]!==y||j[43]!==P?(b=(0,t.jsxs)("div",{className:"h-screen w-full snap-y snap-mandatory overflow-y-scroll scrollbar-hide",onScroll:q,children:[P,y]}),j[41]=q,j[42]=y,j[43]=P,j[44]=b):b=j[44],j[45]!==b||j[46]!==p?(w=(0,t.jsxs)("div",{className:"relative h-screen w-full bg-black",children:[p,b]}),j[45]=b,j[46]=p,j[47]=w):w=j[47],w}function g(){return window.location.reload()}e.s(["default",()=>h])}]);